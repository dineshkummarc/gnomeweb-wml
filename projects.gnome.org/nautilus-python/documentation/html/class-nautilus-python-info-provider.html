<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Nautilus.InfoProvider</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="nautilus-python Reference Manual"><link rel="up" href="nautilus-python-provider-reference.html" title="Provider Interfaces"><link rel="prev" href="class-nautilus-python-column-provider.html" title="Nautilus.ColumnProvider"><link rel="next" href="class-nautilus-python-location-widget-provider.html" title="Nautilus.LocationWidgetProvider"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Nautilus.InfoProvider</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="class-nautilus-python-column-provider.html">Prev</a> </td><th width="60%" align="center">Provider Interfaces</th><td width="20%" align="right"> <a accesskey="n" href="class-nautilus-python-location-widget-provider.html">Next</a></td></tr></table><hr></div><div class="refentry" title="Nautilus.InfoProvider"><a name="class-nautilus-python-info-provider"></a><div class="titlepage"></div><div class="refnamediv"><h2>Nautilus.InfoProvider</h2><p>Nautilus.InfoProvider — Nautilus.InfoProvider Reference</p></div><div class="refsect1" title="Synopsis"><a name="id3020201"></a><h2>Synopsis</h2><table bgcolor="#D0E0F0" width="100%"><tr><td><pre class="classsynopsis">class <span class="ooclass"><span class="classname">Nautilus.InfoProvider</span></span>:
<code class="methodsynopsis">    def <span class="methodname"><a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-file-info" title="Nautilus.InfoProvider.update_file_info">update_file_info</a></span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>file</code></strong></span></span>)</code><br><code class="methodsynopsis">    def <span class="methodname"><a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-file-info-full" title="Nautilus.InfoProvider.update_file_info_full">update_file_info_full</a></span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>provider</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>handle</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>closure</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>file</code></strong></span></span>)</code><br><code class="methodsynopsis">    def <span class="methodname"><a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--cancel-update" title="Nautilus.InfoProvider.cancel_update">cancel_update</a></span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>provider</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>handle</code></strong></span></span>)</code><br><code class="methodsynopsis">    def <span class="methodname"><a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-complete-invoke" title="Nautilus.info_provider_update_complete_invoke">Nautilus.info_provider_update_complete_invoke</a></span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>provider</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>handle</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>closure</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>result</code></strong></span><span class="initializer">=Nautilus.OperationResult.COMPLETE</span></span>)</code><br></pre></td></tr></table></div><div class="refsect1" title="Description"><a name="description-info-provider"></a><h2>Description</h2><p>
      If subclassed, Nautilus will call update_file_info(_full) to notify extensions of which
      files are being viewed by the user.  This gives extensions an opportunity to invoke actions on the files,
      or to add emblems or attributes.
      </p><div class="example"><a name="id3076921"></a><p class="title"><b>Example 3. Nautilus.InfoProvider Example</b></p><div class="example-contents"><pre class="programlisting">
import gobject
from gi.repository import Nautilus

class UpdateFileInfoAsync(gobject.GObject, Nautilus.InfoProvider):
    def __init__(self):
        pass
    
    def update_file_info_full(self, provider, handle, closure, file):
        gobject.timeout_add_seconds(3, self.update_cb, provider, handle, closure)
        return Nautilus.OperationResult.IN_PROGRESS
        
    def update_cb(self, provider, handle, closure):
        Nautilus.info_provider_update_complete_invoke(closure, provider, handle, Nautilus.OperationResult.FAILED)
    </pre></div></div><br class="example-break"></div><div class="refsect1" title="Passive Methods"><a name="id3100799"></a><h2>Passive Methods</h2><div class="refsect2" title="Nautilus.InfoProvider.update_file_info"><a name="method-nautilus-python-info-provider--update-file-info"></a><h3>Nautilus.InfoProvider.update_file_info</h3><pre class="programlisting"><code class="methodsynopsis">    def <span class="methodname">update_file_info</span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>file</code></strong></span></span>)</code></pre><table border="0" width="100%" bgcolor="#FFECCE"><col align="left" valign="top" width="0*"><tbody><tr><td><p><span class="term"><strong class="parameter"><code>file</code></strong> :</span></p></td><td>a <a class="link" href="class-nautilus-python-file-info.html" title="Nautilus.FileInfo"><code class="classname">Nautilus.FileInfo</code></a> object</td></tr></tbody></table><p>
                This method is called by Nautilus for each file or folder that exists under the
                current directory listing.  There is no return value.
          </p></div><div class="refsect2" title="Nautilus.InfoProvider.update_file_info_full"><a name="method-nautilus-python-info-provider--update-file-info-full"></a><h3>Nautilus.InfoProvider.update_file_info_full</h3><pre class="programlisting"><code class="methodsynopsis">    def <span class="methodname">update_file_info_full</span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>provider</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>handle</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>closure</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>file</code></strong></span></span>)</code></pre><table border="0" width="100%" bgcolor="#FFECCE"><col align="left" valign="top" width="0*"><tbody><tr><td><p><span class="term"><strong class="parameter"><code>provider</code></strong> :</span></p></td><td>the current <a class="link" href="class-nautilus-python-info-provider.html" title="Nautilus.InfoProvider"><code class="classname">Nautilus.InfoProvider</code></a> instance</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>handle</code></strong> :</span></p></td><td>a <code class="classname">gobject.gpointer</code> generated solely to track this call</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>closure</code></strong> :</span></p></td><td>a C Closure that must be passed to <a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-complete-invoke" title="Nautilus.info_provider_update_complete_invoke">Nautilus.info_provider_update_complete_invoke</a> if that method is called</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>file</code></strong> :</span></p></td><td>a <a class="link" href="class-nautilus-python-file-info.html" title="Nautilus.FileInfo"><code class="classname">Nautilus.FileInfo</code></a> object</td></tr><tr><td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td><td>None or a <a class="link" href="enum-nautilus-python-operation-result.html" title="Nautilus.OperationResult"><code class="classname">Nautilus.OperationResult</code></a> enum</td></tr></tbody></table><p>
                This method is called by Nautilus for each file or folder that exists under the
                current directory listing.  Originally, <a class="link" href="class-nautilus-python-info-provider.html" title="Nautilus.InfoProvider"><code class="classname">Nautilus.InfoProvider</code></a>
                only provided the update_file_info
                method, which blocked Nautilus when the method required a lot of computation time.  This method was 
                created to allow an extension to tell Nautilus that it will be spending time on an operation and that
                Nautilus should not block itself during that time.
          </p><p>
                In order to notify Nautilus of your extension's intentions, you must return a 
                <a class="link" href="enum-nautilus-python-operation-result.html" title="Nautilus.OperationResult"><code class="classname">Nautilus.OperationResult</code></a> enum.  
                Then, when the operation has completed, call the Nautilus.info_provider_update_complete_invoke method, passing the provider, 
                handle and closure variables as parameters.
          </p><p>
                This method was created for backwards compatibility reasons.  If your
                extension used the <a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-file-info" title="Nautilus.InfoProvider.update_file_info"><code class="function">update_file_info</code></a> method and you want non-blocking 
                usage, you should switch to this method.
          </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
            This method was introduced in nautilus-python 0.7.0.
          </div></div><div class="refsect2" title="Nautilus.InfoProvider.cancel_update"><a name="method-nautilus-python-info-provider--cancel-update"></a><h3>Nautilus.InfoProvider.cancel_update</h3><pre class="programlisting"><code class="methodsynopsis">    def <span class="methodname">cancel_update</span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>provider</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>handle</code></strong></span></span>)</code></pre><table border="0" width="100%" bgcolor="#FFECCE"><col align="left" valign="top" width="0*"><tbody><tr><td><p><span class="term"><strong class="parameter"><code>provider</code></strong> :</span></p></td><td>the current <a class="link" href="class-nautilus-python-info-provider.html" title="Nautilus.InfoProvider"><code class="classname">Nautilus.InfoProvider</code></a> instance</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>handle</code></strong> :</span></p></td><td>a <code class="classname">gobject.gpointer</code> generated by a specific update_file_info_full call</td></tr></tbody></table><p>
            This method is called by Nautilus when an update_file_info_full call is in progress
            but is no longer required.  This may happen because the user is moving directories or a file
            has been deleted, etc.  You may use the handle parameter here to match the
            handle parameter passed in <a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-file-info-full" title="Nautilus.InfoProvider.update_file_info_full"><code class="function">update_file_info_full</code></a>.
          </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
            This method was introduced in nautilus-python 0.7.0.
          </div></div></div><div class="refsect1" title="Active Methods"><a name="id3152870"></a><h2>Active Methods</h2><div class="refsect2" title="Nautilus.info_provider_update_complete_invoke"><a name="method-nautilus-python-info-provider--update-complete-invoke"></a><h3>Nautilus.info_provider_update_complete_invoke</h3><pre class="programlisting"><code class="methodsynopsis">    def <span class="methodname">info_provider_update_complete_invoke</span>(<span class="methodparam"><span class="parameter"><strong class="parameter"><code>provider</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>handle</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>closure</code></strong></span></span>, <span class="methodparam"><span class="parameter"><strong class="parameter"><code>result</code></strong></span><span class="initializer">=Nautilus.OperationResult.COMPLETE</span></span>)</code></pre><table border="0" width="100%" bgcolor="#FFECCE"><col align="left" valign="top" width="0*"><tbody><tr><td><p><span class="term"><strong class="parameter"><code>provider</code></strong> :</span></p></td><td>the current <a class="link" href="class-nautilus-python-info-provider.html" title="Nautilus.InfoProvider"><code class="classname">Nautilus.InfoProvider</code></a> instance</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>handle</code></strong> :</span></p></td><td>a <code class="classname">gobject.gpointer</code> generated by a specific update_file_info_full call</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>closure</code></strong> :</span></p></td><td>a C Closure that must be passed to <a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-complete-invoke" title="Nautilus.info_provider_update_complete_invoke">Nautilus.info_provider_update_complete_invoke</a> if that method is called</td></tr><tr><td><p><span class="term"><strong class="parameter"><code>result</code></strong> :</span></p></td><td>an optional parameter.  If left out, <code class="classname">Nautilus.OperationResult.COMPLETE</code> is assumed.  
	            Otherwise, you may pass any any of the <a class="link" href="enum-nautilus-python-operation-result.html" title="Nautilus.OperationResult"><code class="classname">Nautilus.OperationResult</code></a> enums.</td></tr></tbody></table><p>
            An extension must call this method for each update_file_info_full method that
            returns the <code class="classname">Nautilus.OperationResult.IN_PROGRESS</code> enum.  
            The method must be called with the provider, handle, and closure parameters which were passed to the earlier <a class="link" href="class-nautilus-python-info-provider.html#method-nautilus-python-info-provider--update-file-info-full" title="Nautilus.InfoProvider.update_file_info_full"><code class="function">update_file_info_full</code></a> method.
          </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
            This method was introduced in nautilus-python 0.7.0.
          </div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="class-nautilus-python-column-provider.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="nautilus-python-provider-reference.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="class-nautilus-python-location-widget-provider.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Nautilus.ColumnProvider </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Nautilus.LocationWidgetProvider</td></tr></table></div></body></html>
