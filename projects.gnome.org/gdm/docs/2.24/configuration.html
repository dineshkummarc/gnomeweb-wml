<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Configuration</title><link rel="previous" href="consolekit.html" title="Support for ConsoleKit"/><link rel="next" href="binaries.html" title="GDM Commands"/><link rel="top" href="gdm.html" title="GNOME Display Manager Reference Manual"/><style type="text/css">

html { height: 100%; }
body {
  margin: 0px; padding: 12px;
  background-color: #f9f9f6;
  min-height: 100%;
  direction: ltr;
}
div, p, pre, blockquote { margin: 0; padding: 0; }
p img { vertical-align: middle; }
sub { font-size: 0.83em; }
sub sub { font-size: 1em; }
sup { font-size: 0.83em; }
sup sup { font-size: 1em; }
table { border-collapse: collapse; }
table.table-pgwide { width: 100%; }
td { vertical-align: top; }
td { padding: 0.2em 0.83em 0.2em 0.83em; }
th { padding: 0 0.83em 0 0.83em; }
tr.tr-shade {
  background-color: #f9f9f6;
}
td.td-colsep { border-right: solid 1px; }
td.td-rowsep { border-bottom: solid 1px; }
thead { border-top: solid 2px; border-bottom: solid 2px; }
tfoot { border-top: solid 2px; border-bottom: solid 2px; }
div.body {
  padding: 1em;
  max-width: 60em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.body-sidebar {
  
  margin-right: 13em;
}
div.division div.division { margin-top: 1.72em; }
div.division div.division div.division { margin-top: 1.44em; }
div.header {
  margin: 0;
  color: #3f3f3f;
  border-bottom: solid 1px #e0e0df;
}
h1, h2, h3, h4, h5, h6, h7 {
  margin: 0; padding: 0;
  color: #3f3f3f;
}
h1.title { font-size: 1.72em; }
h2.title { font-size: 1.44em; }
h3.title { font-size: 1.2em; }
h4.title, h5.title, h6.title, h7.title { font-size: 1em; }
.block { margin-top: 1em; }
.block .block-first { margin-top: 0; }
.block-indent {
  
  margin-left: 1.72em;
  
  margin-right: 1em;
}
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
td .block-indent  { margin-left: 0em; margin-right: 0em; }
dd .block-indent  { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
div.title {
  margin-bottom: 0.2em;
  font-weight: bold;
  color: #3f3f3f;
}
div.title-formal { padding-left: 0.2em; padding-right: 0.2em; }
div.title-formal .label { font-weight: normal; }
a {
  color: #1f609f;
  text-decoration: none;
}
a:hover { text-decoration: underline; }
a:visited { color: #9f1f6f; }
ul, ol, dl { margin: 0; padding: 0; }
li {
  margin-top: 1em;
  
  margin-left: 2.4em;
  
  padding: 0;
}
li.li-first { margin-top: 0; }
dt { margin: 1em 0 0 0; }
dt.dt-first { margin: 0; }
dd {
  
  margin-left: 1.72em;
  margin-top: 0.5em;
}
dl.dl-compact dt { margin-top: 0; }
dl.dl-compact dd { margin-top: 0; margin-bottom: 0; }


ul.linktrail {
  display: block;
  margin: 0.2em 0 0 0;
  
  text-align: right;
}
li.linktrail { display: inline; margin: 0; padding: 0; }

li.linktrail::before {
  content: '  /  ';
  color: #3f3f3f;
}

li.linktrail-first::before, li.linktrail-only::before { content: ''; }


div.navbar {
  padding: 0.5em 1em 0.5em 1em;
  max-width: 60em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.navbar-top { margin-bottom: 1em; }
div.navbar-bottom { margin-top: 1em; clear: both; }
div.navbar img { border: 0; vertical-align: -0.4em; }
table.navbar { width: 100%; margin: 0; border: none; }
table.navbar td { padding: 0; border: none; }
td.navbar-next {
  
  text-align: right;
}
a.navbar-prev::before {
  
  content: '◀  ';
  color: #3f3f3f;
}
a.navbar-next::after {
  
  content: '  ▶';
  color: #3f3f3f;
}


div.sidebar {
  
  float: right;
  padding: 0; margin: 0; width: 12em;
}
div.sidenav {
  padding: 0.5em 1em 0 1em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.sidenav div.autotoc {
  background-color: #ffffff;
  border: none; padding: 0; margin: 0;
}
div.sidenav div.autotoc div.autotoc { margin-top: 0.5em; }
div.sidenav div.autotoc li { margin-bottom: 0.5em; }
div.sidenav div.autotoc div.autotoc div.autotoc {
  
  margin-left: 1em;
  margin-top: 0;
}
div.sidenav div.autotoc div.autotoc div.autotoc li { margin-bottom: 0; }


div.autotoc {
  
  display: table;
  margin-top: 1em;
  
  margin-left: 1.72em;
  padding: 0.5em 1em 0.5em 1em;
  background-color: #f0f9ff;
  border: solid 1px #c0c9ff;
}
div.autotoc ul { margin: 0; padding: 0; }
div.autotoc li { list-style-type: none; margin: 0; }
div.autotoc div.autotoc-title { margin-bottom: 0.5em; }
div.autotoc div.autotoc { border: none; padding: 0; margin-top: 0; margin-bottom: 0.5em; }
div.autotoc div.autotoc div.autotoc { margin-bottom: 0; }


span.bibliolabel {
  color: #3f3f3f;
}


div.admonition {
  padding: 0.5em 1em 0.5em 1em;
  
  padding-left: 60px;
  min-height: 48px;
  border: solid 1px #e0e0df;
  background-color: #fffff0;
  
  background-position: 6px 0.5em;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("admon-caution.png");
}
div.important {
  background-image: url("admon-important.png");
}
div.note {
  background-image: url("admon-note.png");
}
div.note-bug {
  background-image: url("admon-bug.png");
}
div.tip {
  background-image: url("admon-tip.png");
}
div.warning {
  background-image: url("admon-warning.png");
}
div.blockquote {
  
  background-image: url('../../../data/icons/yelp-watermark-blockquote-201C.png');
  background-repeat: no-repeat;
  
  background-position: top left;
  padding: 0.5em;
  
  padding-left: 4em;
}
div.attribution {
  margin-top: 0.5em;
  color: #3f3f3f;
}
div.attribution::before {
  
  content: '― ';
}
div.epigraph {
  
  text-align: right;
  
  margin-left: 20%;
  
  margin-right: 0;
  color: #3f3f3f;
}
div.figure, div.informalfigure {
  
  display: table;
  padding: 0.5em;
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.figure-inner, div.informalfigure-inner {
  padding: 0.5em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.caption { margin-top: 0.5em; }
div.programlisting {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.screen {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.screen .prompt {
  color: #3f3f3f;
}
div.screen .userinput {
  font-weight: bold;
  color: #3f3f3f;
}
pre.linenumbering {
  color: #3f3f3f;
  margin: 0;
  
  padding-right: 1em;
  
  float: left;
  
  text-align: right;
}



dl.index dt { margin-top: 0; }
dl.index dd { margin-top: 0; margin-bottom: 0; }
dl.indexdiv dt { margin-top: 0; }
dl.indexdiv dd { margin-top: 0; margin-bottom: 0; }
dl.setindex dt { margin-top: 0; }
dl.setindex dd { margin-top: 0; margin-bottom: 0; }
div.list div.title-formal span.title {
  border-bottom: solid 1px #e0e0df;
}
div.simplelist {
  
  margin-left: 1.72em;
}
div.simplelist table { margin-left: 0; border: none; }
div.simplelist td {
  padding: 0.5em;
  border-left: solid 1px #e0e0df;
}
div.simplelist td.td-first {
  
  padding-left: 0;
  
  border-left: 0;
}
div.synopsis {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border-top: solid 2px #c0c9ff;
  border-bottom: solid 2px #c0c9ff;
}
div.synopsis div.synopsis {
  padding: 0;
  border: none;
}
div.synopsis div.block { margin-top: 0.2em; }
div.synopsis div.block-first { margin-top: 0; }


span.accel { text-decoration: underline; }
span.acronym { font-family: sans-serif; }
span.application { font-style: italic; }
span.classname, span.exceptionname, span.interfacename { font-family: monospace; }
span.code {
  font-family: monospace;
  border: solid 1px #e0e0df;
  
  padding-left: 0.2em;
  padding-right: 0.2em;
}
pre span.code { border: none; padding: 0; }
span.command {
  font-family: monospace;
  border: solid 1px #e0e0df;
  
  padding-left: 0.2em;
  padding-right: 0.2em;
}
pre span.command { border: none; padding: 0; }
span.computeroutput { font-family: monospace; }

span.constant { font-family: monospace; }
span.database { font-family: monospace; }
span.email { font-family: monospace; }
span.emphasis { font-style: italic; }
span.emphasis-bold { font-style: normal; font-weight: bold; }
span.envar { font-family: monospace; }

span.filename { font-family: monospace; }
span.firstterm { font-style: italic; }
span.foreignphrase { font-style: italic; }
span.function { font-family: monospace; }

dt.glossterm span.glossterm { font-style: normal; }


span.glossterm { font-style: italic; }

span.guibutton, span.guilabel, span.guimenu, span.guimenuitem, span.guisubmenu, span.interface {
  font-weight: bold;
  color: #3f3f3f;
}
span.keycap {
  font-weight: bold;
  color: #3f3f3f;
}
span.lineannotation { font-style: italic; }
span.literal { font-family: monospace; }
span.markup  { font-family: monospace; }
span.medialabel { font-style: italic; }
span.methodname { font-family: monospace; }
span.ooclass, span.ooexception, span.oointerface { font-family: monospace; }
span.option { font-family: monospace; }
span.parameter { font-family: monospace; }
span.paramdef span.parameter { font-style: italic; }
span.prompt { font-family: monospace; }
span.property { font-family: monospace; }
span.replaceable  { font-style: italic; }
span.returnvalue { font-family: monospace; }
span.sgmltag { font-family: monospace; }
span.structfield, span.structname { font-family: monospace; }
span.symbol { font-family: monospace; }
span.systemitem { font-family: monospace; }
span.token { font-family: monospace; }
span.type { font-family: monospace; }
span.uri { font-family: monospace; }
span.userinput { font-family: monospace; }
span.varname { font-family: monospace; }
span.wordasword { font-style: italic; }



div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }
</style></head>
<meta http-equiv="Content-Type" content="text/html charset=utf8">
<body><div class="navbar navbar-top"><table class="navbar"><tr><td class="navbar-prev"><a class="navbar-prev" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></td><td class="navbar-next"><a class="navbar-next" href="binaries.html" title="GDM Commands">GDM Commands</a></td></tr></table></div><div class="sidebar"><div class="sidenav"><div class="autotoc"><ul><li><a href="gdm-info.html" title="About This Document">About This Document</a></li><li><a class="xref" href="gdm.html" title="GNOME Display Manager Reference Manual">GNOME Display Manager Reference Manual</a><div class="autotoc"><ul><li><a class="xref" href="preface.html" title="Terms and Conventions Used in This Manual">Terms and Conventions Used in This Manual</a></li><li><a class="xref" href="overview.html" title="Overview">Overview</a></li><li><a class="xref" href="security.html" title="Security">Security</a></li><li><a class="xref" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></li><li>Configuration</li><li><a class="xref" href="binaries.html" title="GDM Commands">GDM Commands</a></li><li><a class="xref" href="troubleshooting.html" title="Troubleshooting">Troubleshooting</a></li><li><a class="xref" href="license.html" title="License">License</a></li></ul></div></li></ul></div></div></div><div class="body body-sidebar"><div class="division sect1"><a name="configuration"/><div class="header"><h1 xmlns="" class="sect1 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title">Configuration</span></h1></div><ul class="linktrail"><li class="linktrail linktrail-only"><a class="linktrail" href="gdm.html" title="GNOME Display Manager Reference Manual">GNOME Display Manager Reference Manual</a></li></ul><p class="para block block-first">
      GDM has a number of configuration interfaces.  These include scripting
      integration points, daemon configuration, greeter configuration, 
      general session settings, integration with gnome-settings-daemon
      configuration, and session configuration.  These types of integration are
      described in detail below.
    </p><div class="autotoc"><ul><li><span class="label">5.1. </span><a class="xref" href="configuration.html#scripting" title="Scripting Integration Points">Scripting Integration Points</a></li><li><span class="label">5.2. </span><a class="xref" href="configuration.html#xsessionscript" title="Xsession Script">Xsession Script</a></li><li><span class="label">5.3. </span><a class="xref" href="configuration.html#daemonconfig" title="Daemon Configuration">Daemon Configuration</a></li><li><span class="label">5.4. </span><a class="xref" href="configuration.html#greeterconfiguration" title="Simple Greeter Configuration">Simple Greeter Configuration</a></li><li><span class="label">5.5. </span><a class="xref" href="configuration.html#generalsessionconfig" title="General Session Settings">General Session Settings</a></li><li><span class="label">5.6. </span><a class="xref" href="configuration.html#gnomesettingsdaemon" title="GNOME Settings Daemon">GNOME Settings Daemon</a></li><li><span class="label">5.7. </span><a class="xref" href="configuration.html#sessionconfig" title="GDM Session Configuration">GDM Session Configuration</a></li><li><span class="label">5.8. </span><a class="xref" href="configuration.html#userconfig" title="GDM User Session and Language Configuration">GDM User Session and Language Configuration</a></li></ul></div><div class="division sect2"><a name="scripting"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.1. </span>Scripting Integration Points</span></h2></div><p class="para block block-first">
      The GDM script integration points can be found in the
      <span class="filename">&lt;etc&gt;/gdm/</span> directory:
    </p><div class=" block screen block-indent"><pre class="screen">Xsession
Init/
PostLogin/
PreSession/
PostSession/
</pre></div><p class="para block">
        The <span class="filename">Init</span>, <span class="filename">PostLogin</span>,
        <span class="filename">PreSession</span>, and <span class="filename">PostSession</span>
        scripts all work as described below.
      </p><p class="para block">
        For each type of script, the default one which will be executed is
        called "Default" and is stored in a directory associated with
        the script type.  So the default <span class="filename">Init</span> script is 
        <span class="filename">&lt;etc&gt;/gdm/Init/Default</span>.  A per-display
        script can be provided, and if it exists it will be run instead of the 
        default script.  Such scripts are stored in the same directory as the
        default script and have the same name as the Xserver DISPLAY value for
        that display.  For example, if the <span class="filename">&lt;Init&gt;/:0</span>
        script exists, it will be run for DISPLAY ":0".
     </p><p class="para block">
        All of these scripts are run with root privilege return 0 if run
        successfully, and a non-zero return code if there was any failure that
        should cause the login session to be aborted.  Also note that GDM will
        block until the scripts finish, so if any of these scripts hang, this
        will cause the login process to also hang.
      </p><p class="para block">
        When the Xserver has been successfully started, GDM will run the
        <span class="filename">Init</span> script.  This script is useful for starting
        programs that should be run while the login screen is showing, or for
        doing any special initialization required.
      </p><p class="para block">
        After the user has been successfully authenticated GDM will run the
        <span class="filename">PostLogin</span> script.  This is done before any session
        setup has been done, including before the pam_open_session call.  This
        script is useful for doing any session initialization that needs to
        happen before the session starts.  For example, you might setup the
        user's $HOME directory if needed.
      </p><p class="para block">
        Note that the <span class="filename">PostSession</span> script will be run
        even when the display fails to respond due to an I/O error or
        similar. Thus, there is no guarantee that X applications will work
        during script execution.
      </p><p class="para block">
        After the user session has been initialized, GDM will run the
        <span class="filename">PreSession</span> script.  This script is useful for
        doing any session initialization that needs to happen after the 
        session has been initialized.  It can be used for session management or
        accounting, for example.
      </p><p class="para block"> 
        When the user terminates his session, GDM will run the
        <span class="filename">PostSession</span> script.  Note that the Xserver will
        have been stopped by the time this script is run, so it should not be
        accessed.  
      </p><p class="para block">
        All of the above scripts will set the
        <span class="filename">$RUNNING_UNDER_GDM</span> environment variable to
        <span class="filename">yes</span>.  If the scripts are also shared with other
        display managers, this allows you to identify when GDM is calling these
        scripts, so you can run specific code when GDM is used.
      </p></div><div class="division sect2"><a name="xsessionscript"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.2. </span>Xsession Script</span></h2></div><p class="para block block-first">
        There is also an <span class="filename">Xsession</span> script located at
        <span class="filename">&lt;etc&gt;/gdm/Xsession</span> which is called between
        the <span class="filename">PreSession</span> and the
        <span class="filename">PostSession</span> scripts.  This script does not
        supports per-display like the other scripts.  This script is used for
        actually starting the user session.  This script is run as the user,
        and it will run whatever session was specified by the Desktop session
        file the user selected to start. 
      </p></div><div class="division sect2"><a name="daemonconfig"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.3. </span>Daemon Configuration</span></h2></div><p class="para block block-first">
        The GDM daemon is configured using the
        <span class="filename">&lt;etc&gt;/gdm/custom.conf</span> file.  Default
        values are stored in GConf in the <span class="filename">gdm.schemas</span>
        file.  It is recommended that end-users modify the
        <span class="filename">/etc/gdm/custom.conf</span> file because the
        schemas file may be overwritten when the user updates their system to
        have a newer version of GDM.
      </p><p class="para block">
        Note that older versions of GDM supported additional configuration
        options which are no longer supported in the latest versions of GDM.
      </p><p class="para block">
        The <span class="filename">&lt;etc&gt;/gdm/custom.conf</span> file is in the
        <span class="filename">keyfile</span> format.  Keywords in brackets
        define group sections, strings before an equal sign (=) are keys and
        the data after equal sign represents their value.  Empty lines or
        lines starting with the hash mark (#) are ignored.  
      </p><p class="para block">
        The <span class="filename">/etc/gdm/custom.conf</span> supports the
        "[daemon]", "[security]", and "[xdmcp]"
        group sections.  Within each group, there are particular key/value
        pairs that can be specified to modify how GDM behaves.  For example,
        to enable timed login and specify the timed login user to be a user
        named "you", you would modify the file so it contains the
        following lines:
      </p><div class=" block screen block-indent"><pre class="screen">[daemon]
TimedLoginEnable=true
TimedLogin=you
</pre></div><p class="para block">
        A full list of supported configuration keys follow:
      </p><div class="autotoc"><ul><li><span class="label">5.3.1. </span><a class="xref" href="configuration.html#daemonsection" title="[daemon]">[daemon]</a></li><li><span class="label">5.3.2. </span><a class="xref" href="configuration.html#securitysection" title="Security Options">Security Options</a></li><li><span class="label">5.3.3. </span><a class="xref" href="configuration.html#xdmcpsection" title="XDCMP Support">XDCMP Support</a></li></ul></div><div class="division sect3"><a name="daemonsection"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.3.1. </span>[daemon]</span></h3></div><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">Group</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">Group=gdm</pre></div>
              <p class="para block">
                The group name under which the greeter and other GUI programs
                are run.  Refer to the <span class="filename">User</span>
                configuration key and to the "Security-&gt;GDM User And
                Group" section of this document for more information.
              </p>
            </dd><dt class="term">TimedLoginEnable</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">TimedLoginEnable=false</pre></div>
              <p class="para block">
                 If the user given in <span class="filename">TimedLogin</span> should be
                logged in after a number of seconds (set with
                <span class="filename">TimedLoginDelay</span>) of inactivity on the
                login screen.  This is useful for public access terminals or
                perhaps even home use.  If the user uses the keyboard or
                browses the menus, the timeout will be reset to 
                <span class="filename">TimedLoginDelay</span> or 30 seconds, whichever 
                is higher.   If the user does not enter a username but just
                hits the ENTER key while the login program is requesting the
                username, then GDM will assume the user wants to login
                immediately as the timed user.  Note that no password will be
                asked for this user so you should be careful, although if using
                PAM it can be configured to require password entry before
                allowing login.  Refer to the "Security-&gt;PAM"
                section of the manual for more information, or for help if this
                feature does not seem to work.
              </p>
            </dd><dt class="term">TimedLogin</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">TimedLogin=</pre></div>
              <p class="para block">
                This is the user that should be logged in after a specified
                number of seconds of inactivity.
              </p>
            </dd><dt class="term">TimedLoginDelay</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">TimedLoginDelay=30</pre></div>
              <p class="para block">
                Delay in seconds before the <span class="filename">TimedLogin</span>
                user will be logged in.
              </p>
            </dd><dt class="term">AutomaticLoginEnable</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">AutomaticLoginEnable=false</pre></div>
              <p class="para block">
                If true, the user given in <span class="filename">AutomaticLogin</span> should be
                logged in immediately. This feature is like timed login with a delay of 0.
              </p>
            </dd><dt class="term">AutomaticLogin</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">AutomaticLogin=</pre></div>
              <p class="para block">
                This is the user that should be logged in immediately if
                <span class="filename">AutomaticLoginEnable</span> is true.
              </p>
            </dd><dt class="term">User</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">User=gdm</pre></div>
              <p class="para block">
                The username under which the greeter and other GUI programs
                are run.  Refer to the <span class="filename">Group</span>
                configuration key and to the "Security-&gt;GDM User And
                Group" section of this document for more information.
              </p>
            </dd></dl></div></div><div class="division sect3"><a name="securitysection"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.3.2. </span>Security Options</span></h3></div><div class="block list variablelist"><div class="block block-first title title-formal"><span class="title"><span class="label"/>[security]</span></div><dl class="variablelist"><dt class="term dt-first">DisallowTCP</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">DisallowTCP=true</pre></div>
              <p class="para block">
                If true, then always append <span class="filename">-nolisten tcp</span>
                to the command line when starting attached Xservers, thus
                disallowing TCP connection.  This is a more secure
                configuration if you are not using remote connections.
              </p>
            </dd></dl></div></div><div class="division sect3"><a name="xdmcpsection"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.3.3. </span>XDCMP Support</span></h3></div><div class="block list variablelist"><div class="block block-first title title-formal"><span class="title"><span class="label"/>[xdmcp]</span></div><dl class="variablelist"><dt class="term dt-first">DisplaysPerHost</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">DisplaysPerHost=1</pre></div>
              <p class="para block">
                To prevent attackers from filling up the pending queue, GDM
                will only allow one connection for each remote computer.  If
                you want to provide display services to computers with more
                than one screen, you should increase this value.
              </p>

              <p class="para block">
                Note that the number of attached DISPLAYS allowed is not 
                limited.  Only remote connections via XDMCP are limited by
                this configuration option.
              </p>
            </dd><dt class="term">Enable</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">Enable=false</pre></div>
              <p class="para block">
                Setting this to true enables XDMCP support allowing remote
                displays/X terminals to be managed by GDM.
              </p>
            
              <p class="para block">
                <span class="filename">gdm</span> listens for requests on UDP port 177.
                See the Port option for more information.
              </p>
              
              <p class="para block">
                If GDM is compiled to support it, access from remote displays
                can be controlled using the TCP Wrappers library. The service
                name is <span class="filename">gdm</span>
              </p>
            
              <p class="para block">
                You should add 
<div class=" block screen block-indent block-first"><pre class="screen">gdm:.my.domain
</pre></div>
                to your <span class="filename">&lt;etc&gt;/hosts.allow</span>, depending
                on your TCP Wrappers configuration.  See the
                <a class="ulink" href="man:hosts.allow" title="man:hosts.allow">hosts.allow</a>
                man page for details.
              </p>
              
              <p class="para block">
                Please note that XDMCP is not a particularly secure protocol
                and that it is a good idea to block UDP port 177 on your
                firewall unless you really need it.
              </p>
            </dd><dt class="term">EnableProxy</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">EnableProxy=false</pre></div>
              <p class="para block">
                Setting this to true enables support for running XDMCP sessions
                on a local proxy Xserver. This may improve the performance of
                XDMCP sessions, especially on high latency networks, as many
                X protocol operations can be completed without going over the
                network.
              </p>

              <p class="para block">
                Note, however, that this mode will significantly increase the
                burden on the machine hosting the XDMCP sessions
              </p>

              <p class="para block">
                See the <span class="filename">FlexiProxy</span> and
                <span class="filename">FlexiProxyDisconnect</span> options for further
                details on how to configure support for this feature.
              </p>
            </dd><dt class="term">HonorIndirect</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">HonorIndirect=true</pre></div>
              <p class="para block">
                Enables XDMCP INDIRECT choosing (i.e. remote execution of
                <span class="filename">gdmchooser</span>) for X-terminals which do not
                supply their own display browser.
              </p>
            </dd><dt class="term">MaxPending</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">MaxPending=4</pre></div>
              <p class="para block">
                To avoid denial of service attacks, GDM has fixed size queue
                of pending connections. Only MaxPending displays can start at
                the same time.
              </p>
            
              <p class="para block">
                Please note that this parameter does not limit the number of
                remote displays which can be managed. It only limits the number
                of displays initiating a connection simultaneously.
              </p>
            </dd><dt class="term">MaxPendingIndirect</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">MaxPendingIndirect=4</pre></div>
              <p class="para block">
                GDM will only provide <span class="filename">MaxPendingIndirect</span>
                displays with host choosers simultaneously.  If more queries
                from different hosts come in, the oldest ones will be
                forgotten.
              </p>
            </dd><dt class="term">MaxSessions</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">MaxSessions=16</pre></div>
              <p class="para block">
                Determines the maximum number of remote display connections
                which will be managed simultaneously. I.e. the total number of
                remote displays that can use your host.
              </p>
            </dd><dt class="term">MaxWait</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">MaxWait=30</pre></div>
              <p class="para block">
                When GDM is ready to manage a display an ACCEPT packet is sent
                to it containing a unique session id which will be used in
                future XDMCP conversations.
              </p>
            
              <p class="para block">
                GDM will then place the session id in the pending queue
                waiting for the display to respond with a MANAGE request.
              </p>
            
              <p class="para block">
                If no response is received within MaxWait seconds, GDM will
                declare the display dead and erase it from the pending queue
                freeing up the slot for other displays.
              </p>
            </dd><dt class="term">MaxWaitIndirect</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">MaxWaitIndirect=30</pre></div>
              <p class="para block">
                The MaxWaitIndirect parameter determines the maximum number of
                seconds between the time where a user chooses a host and the
                subsequent indirect query where the user is connected to the
                host.  When the timeout is exceeded, the information about the
                chosen host is forgotten and the indirect slot freed up for
                other displays.  The information may be forgotten earlier if
                there are more hosts trying to send indirect queries then
                <span class="filename">MaxPendingIndirect</span>.
              </p>
            </dd><dt class="term">Port</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">Port=177</pre></div>
              <p class="para block">
                The UDP port number <span class="filename">gdm</span> should listen to
                for XDMCP requests. Do not change this unless you know what
                you are doing.
              </p>
            </dd><dt class="term">PingIntervalSeconds</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">PingIntervalSeconds=15</pre></div>
              <p class="para block">
                Interval in which to ping the Xserver in seconds.  If the
                Xserver does not return before the next time we ping it, the
                connection is stopped and the session ended.  This is a
                combination of the XDM PingInterval and PingTimeout, but in
                seconds.
              </p>

              <p class="para block">
                Note that GDM in the past used to have a
                <span class="filename">PingInterval</span> configuration key which was
                also in minutes.  For most purposes you'd want this setting
                to be lower then one minute however since in most cases where
                XDMCP would be used (such as terminal labs), a lag of more
                than 15 or so seconds would really mean that the terminal was
                turned off or restarted and you would want to end the session.
              </p>
            </dd><dt class="term">ProxyReconnect</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">FlexiProxyReconnect=</pre></div>
              <p class="para block">
                Setting this option enables experimental support for session
                migration with XDMCP sessions. This enables users to disconnect
                from their session and later reconnect to that same session,
                possibly from a different terminal.
              </p>

              <p class="para block">
                In order to use this feature, you must have a nested Xserver
                available which supports disconnecting from its parent Xserver
                and reconnecting to another Xserver. Currently, the Distributed
                Multihead X (DMX) server supports this feature to some extent
                and other projects like NoMachine NX are busy implementing it.
              </p>

              <p class="para block">
                This option should be set to the path of a command which will
                handle reconnecting the XDMCP proxy to another backend display.
                A sample implementation for use with DMX is supplied.
              </p>
            </dd><dt class="term">ProxyXServer</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">ProxyXServer=</pre></div>
              <p class="para block">
                The Xserver command line for a XDMCP proxy. Any nested X
                server like Xnest, Xephyr or Xdmx should work fairly well.
              </p>
            </dd><dt class="term">Willing</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">Willing=&lt;etc&gt;/gdm/Xwilling</pre></div>
              <p class="para block">
                When the machine sends a WILLING packet back after a QUERY it
                sends a string that gives the current status of this server.
                The default message is the system ID, but it is possible to
                create a script that displays customized message.  If this
                script does not exist or this key is empty the default message
                is sent.  If this script succeeds and produces some output,
                the first line of it's output is sent (and only the first
                line).  It runs at most once every 3 seconds to prevent
                possible denial of service by flooding the machine with QUERY
                packets.
              </p>
            </dd></dl></div></div></div><div class="division sect2"><a name="greeterconfiguration"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.4. </span>Simple Greeter Configuration</span></h2></div><p class="para block block-first">
          The GDM default greeter is called the simple Greeter and is
          configured via GConf.  Default values are stored in GConf in the
          <span class="filename">gdm-simple-greeter.schemas</span> file.  These defaults
          can be overridden if the "gdm" user has a writable $HOME
          directory to store GConf settings.  These values can be edited using
          the <span class="command">gconftool-2</span> or <span class="command">gconf-editor</span>
          programs.  The following configuration options are supported:
        </p><div class="block list variablelist"><div class="block block-first title title-formal"><span class="title"><span class="label"/>Greeter Configuration Keys</span></div><dl class="variablelist"><dt class="term dt-first">/apps/gdm/simple-greeter/banner_message_enable</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">false (boolean)</pre></div>
              <p class="para block">
                Controls whether the banner message text is displayed.
              </p>
            </dd><dt class="term">/apps/gdm/simple-greeter/banner_message_text</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">NULL (string)</pre></div>
              <p class="para block">
                Specifies the text banner message to show on the greeter
                window.
              </p>
            </dd><dt class="term">/apps/gdm/simple-greeter/logo_icon_name</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">computer (string)</pre></div>
              <p class="para block">
                Set to the themed icon name to use for the greeter logo.
              </p>
            </dd><dt class="term">/apps/gdm/simple-greeter/disable_restart_buttons</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">false (boolean)</pre></div>
              <p class="para block">
                Controls whether to show the restart buttons in the login
                window.
              </p>
            </dd><dt class="term">/apps/gdm/simple-greeter/wm_use_compiz</dt><dd>
              <div class=" block synopsis block-first"><pre class="synopsis">false (boolean)</pre></div>
              <p class="para block">
                Controls whether compiz is used as the window manager instead
                of metacity.
              </p>
            </dd></dl></div></div><div class="division sect2"><a name="generalsessionconfig"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.5. </span>General Session Settings</span></h2></div><p class="para block block-first">
          The GDM Greeter uses some of the same framework that your desktop
          session will use. And so, it is influenced by a number of the same
          GConf settings. For each of these settings the Greeter will use the
          default value unless it is specifically overridden by a) GDM's
          installed mandatory policy b) system mandatory policy. GDM installs
          its own mandatory policy to lock down some settings for security.
        </p></div><div class="division sect2"><a name="gnomesettingsdaemon"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.6. </span>GNOME Settings Daemon</span></h2></div><p class="para block block-first">
          GDM enables the following gnome-settings-daemon plugins:
          a11y-keyboard, background, sound, xsettings.
        </p><p class="para block">
          These are responsible for things like the background image, font and
          theme settings, sound events, etc.
        </p><p class="para block">
          Plugins can also be disabled using GConf. For example, if you want to
          disable the sound plugin then unset the following key:
          <span class="filename">/apps/gdm/simple-greeter/settings-manager-plugins/sound/active</span>.
        </p></div><div class="division sect2"><a name="sessionconfig"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.7. </span>GDM Session Configuration</span></h2></div><p class="para block block-first">
        GDM sessions are specified using the FreeDesktop.org Desktop Entry
        Specification, which can be referenced at the following URL:
        <a class="ulink" href="http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec" title="http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec">
        http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec</a>.
      </p><p class="para block">
        These files are installed, by default, to
        <span class="filename">&lt;etc&gt;/X11/sessions/</span>.  For backwards
        compatibility any desktop files in the
        <span class="filename">&lt;etc&gt;/Sessions</span>, 
        <span class="filename">&lt;share&gt;/xsessions</span>, and
        <span class="filename">&lt;share/gdm/BuiltInSessions</span> directories are also         recognized by GDM.
      </p><p class="para block">
        A session can be disabled by editing the desktop file and adding a line
        that says <span class="filename">Hidden=true</span>.
      </p></div><div class="division sect2"><a name="userconfig"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">5.8. </span>GDM User Session and Language Configuration</span></h2></div><p class="para block block-first">
        The user's default session and language choices are stored in the
        <span class="filename">~/.dmrc</span> file.  When a user logs in for the first
        time, this file is created with the user's initial choices.  The user
        can change these default values by simply changing to a different value
        when logging in.  GDM will remember this change for subsequent logins.
      </p><p class="para block">
        The <span class="filename">~/.dmrc</span> file is in the standard
        <span class="filename">INI</span> format.  It has one section called
        <span class="filename">[Desktop]</span> which has two keys:
        <span class="filename">Session</span> and <span class="filename">Language</span>.
      </p><p class="para block">
        The <span class="filename">Session</span> key specifies the basename of the
        session <span class="filename">.desktop</span> file that the user wishes to
        normally use without the <span class="filename">.desktop</span> extension.
        The <span class="filename">Language</span> key specifies the language that the
        user wishes to use by default.  If either of these keys is missing, the
        system default is used.  The file would normally look as follows:
      </p><div class=" block screen block-indent"><pre class="screen">[Desktop]
Session=gnome
Language=cs_CZ.UTF-8
</pre></div></div></div></div><div class="navbar navbar-bottom"><table class="navbar"><tr><td class="navbar-prev"><a class="navbar-prev" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></td><td class="navbar-next"><a class="navbar-next" href="binaries.html" title="GDM Commands">GDM Commands</a></td></tr></table></div></body></html>
