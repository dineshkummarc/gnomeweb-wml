<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Security</title><link rel="previous" href="overview.html" title="Overview"/><link rel="next" href="consolekit.html" title="Support for ConsoleKit"/><link rel="top" href="gdm.html" title="GNOME Display Manager Reference Manual"/><style type="text/css">

html { height: 100%; }
body {
  margin: 0px; padding: 12px;
  background-color: #f9f9f6;
  min-height: 100%;
  direction: ltr;
}
div, p, pre, blockquote { margin: 0; padding: 0; }
p img { vertical-align: middle; }
sub { font-size: 0.83em; }
sub sub { font-size: 1em; }
sup { font-size: 0.83em; }
sup sup { font-size: 1em; }
table { border-collapse: collapse; }
table.table-pgwide { width: 100%; }
td { vertical-align: top; }
td { padding: 0.2em 0.83em 0.2em 0.83em; }
th { padding: 0 0.83em 0 0.83em; }
tr.tr-shade {
  background-color: #f9f9f6;
}
td.td-colsep { border-right: solid 1px; }
td.td-rowsep { border-bottom: solid 1px; }
thead { border-top: solid 2px; border-bottom: solid 2px; }
tfoot { border-top: solid 2px; border-bottom: solid 2px; }
div.body {
  padding: 1em;
  max-width: 60em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.body-sidebar {
  
  margin-right: 13em;
}
div.division div.division { margin-top: 1.72em; }
div.division div.division div.division { margin-top: 1.44em; }
div.header {
  margin: 0;
  color: #3f3f3f;
  border-bottom: solid 1px #e0e0df;
}
h1, h2, h3, h4, h5, h6, h7 {
  margin: 0; padding: 0;
  color: #3f3f3f;
}
h1.title { font-size: 1.72em; }
h2.title { font-size: 1.44em; }
h3.title { font-size: 1.2em; }
h4.title, h5.title, h6.title, h7.title { font-size: 1em; }
.block { margin-top: 1em; }
.block .block-first { margin-top: 0; }
.block-indent {
  
  margin-left: 1.72em;
  
  margin-right: 1em;
}
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
td .block-indent  { margin-left: 0em; margin-right: 0em; }
dd .block-indent  { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
div.title {
  margin-bottom: 0.2em;
  font-weight: bold;
  color: #3f3f3f;
}
div.title-formal { padding-left: 0.2em; padding-right: 0.2em; }
div.title-formal .label { font-weight: normal; }
a {
  color: #1f609f;
  text-decoration: none;
}
a:hover { text-decoration: underline; }
a:visited { color: #9f1f6f; }
ul, ol, dl { margin: 0; padding: 0; }
li {
  margin-top: 1em;
  
  margin-left: 2.4em;
  
  padding: 0;
}
li.li-first { margin-top: 0; }
dt { margin: 1em 0 0 0; }
dt.dt-first { margin: 0; }
dd {
  
  margin-left: 1.72em;
  margin-top: 0.5em;
}
dl.dl-compact dt { margin-top: 0; }
dl.dl-compact dd { margin-top: 0; margin-bottom: 0; }


ul.linktrail {
  display: block;
  margin: 0.2em 0 0 0;
  
  text-align: right;
}
li.linktrail { display: inline; margin: 0; padding: 0; }

li.linktrail::before {
  content: '  /  ';
  color: #3f3f3f;
}

li.linktrail-first::before, li.linktrail-only::before { content: ''; }


div.navbar {
  padding: 0.5em 1em 0.5em 1em;
  max-width: 60em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.navbar-top { margin-bottom: 1em; }
div.navbar-bottom { margin-top: 1em; clear: both; }
div.navbar img { border: 0; vertical-align: -0.4em; }
table.navbar { width: 100%; margin: 0; border: none; }
table.navbar td { padding: 0; border: none; }
td.navbar-next {
  
  text-align: right;
}
a.navbar-prev::before {
  
  content: '◀  ';
  color: #3f3f3f;
}
a.navbar-next::after {
  
  content: '  ▶';
  color: #3f3f3f;
}


div.sidebar {
  
  float: right;
  padding: 0; margin: 0; width: 12em;
}
div.sidenav {
  padding: 0.5em 1em 0 1em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.sidenav div.autotoc {
  background-color: #ffffff;
  border: none; padding: 0; margin: 0;
}
div.sidenav div.autotoc div.autotoc { margin-top: 0.5em; }
div.sidenav div.autotoc li { margin-bottom: 0.5em; }
div.sidenav div.autotoc div.autotoc div.autotoc {
  
  margin-left: 1em;
  margin-top: 0;
}
div.sidenav div.autotoc div.autotoc div.autotoc li { margin-bottom: 0; }


div.autotoc {
  
  display: table;
  margin-top: 1em;
  
  margin-left: 1.72em;
  padding: 0.5em 1em 0.5em 1em;
  background-color: #f0f9ff;
  border: solid 1px #c0c9ff;
}
div.autotoc ul { margin: 0; padding: 0; }
div.autotoc li { list-style-type: none; margin: 0; }
div.autotoc div.autotoc-title { margin-bottom: 0.5em; }
div.autotoc div.autotoc { border: none; padding: 0; margin-top: 0; margin-bottom: 0.5em; }
div.autotoc div.autotoc div.autotoc { margin-bottom: 0; }


span.bibliolabel {
  color: #3f3f3f;
}


div.admonition {
  padding: 0.5em 1em 0.5em 1em;
  
  padding-left: 60px;
  min-height: 48px;
  border: solid 1px #e0e0df;
  background-color: #fffff0;
  
  background-position: 6px 0.5em;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("admon-caution.png");
}
div.important {
  background-image: url("admon-important.png");
}
div.note {
  background-image: url("admon-note.png");
}
div.note-bug {
  background-image: url("admon-bug.png");
}
div.tip {
  background-image: url("admon-tip.png");
}
div.warning {
  background-image: url("admon-warning.png");
}
div.blockquote {
  
  background-image: url('../../../data/icons/yelp-watermark-blockquote-201C.png');
  background-repeat: no-repeat;
  
  background-position: top left;
  padding: 0.5em;
  
  padding-left: 4em;
}
div.attribution {
  margin-top: 0.5em;
  color: #3f3f3f;
}
div.attribution::before {
  
  content: '― ';
}
div.epigraph {
  
  text-align: right;
  
  margin-left: 20%;
  
  margin-right: 0;
  color: #3f3f3f;
}
div.figure, div.informalfigure {
  
  display: table;
  padding: 0.5em;
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.figure-inner, div.informalfigure-inner {
  padding: 0.5em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.caption { margin-top: 0.5em; }
div.programlisting {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.screen {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.screen .prompt {
  color: #3f3f3f;
}
div.screen .userinput {
  font-weight: bold;
  color: #3f3f3f;
}
pre.linenumbering {
  color: #3f3f3f;
  margin: 0;
  
  padding-right: 1em;
  
  float: left;
  
  text-align: right;
}



dl.index dt { margin-top: 0; }
dl.index dd { margin-top: 0; margin-bottom: 0; }
dl.indexdiv dt { margin-top: 0; }
dl.indexdiv dd { margin-top: 0; margin-bottom: 0; }
dl.setindex dt { margin-top: 0; }
dl.setindex dd { margin-top: 0; margin-bottom: 0; }
div.list div.title-formal span.title {
  border-bottom: solid 1px #e0e0df;
}
div.simplelist {
  
  margin-left: 1.72em;
}
div.simplelist table { margin-left: 0; border: none; }
div.simplelist td {
  padding: 0.5em;
  border-left: solid 1px #e0e0df;
}
div.simplelist td.td-first {
  
  padding-left: 0;
  
  border-left: 0;
}
div.synopsis {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border-top: solid 2px #c0c9ff;
  border-bottom: solid 2px #c0c9ff;
}
div.synopsis div.synopsis {
  padding: 0;
  border: none;
}
div.synopsis div.block { margin-top: 0.2em; }
div.synopsis div.block-first { margin-top: 0; }


span.accel { text-decoration: underline; }
span.acronym { font-family: sans-serif; }
span.application { font-style: italic; }
span.classname, span.exceptionname, span.interfacename { font-family: monospace; }
span.code {
  font-family: monospace;
  border: solid 1px #e0e0df;
  
  padding-left: 0.2em;
  padding-right: 0.2em;
}
pre span.code { border: none; padding: 0; }
span.command {
  font-family: monospace;
  border: solid 1px #e0e0df;
  
  padding-left: 0.2em;
  padding-right: 0.2em;
}
pre span.command { border: none; padding: 0; }
span.computeroutput { font-family: monospace; }

span.constant { font-family: monospace; }
span.database { font-family: monospace; }
span.email { font-family: monospace; }
span.emphasis { font-style: italic; }
span.emphasis-bold { font-style: normal; font-weight: bold; }
span.envar { font-family: monospace; }

span.filename { font-family: monospace; }
span.firstterm { font-style: italic; }
span.foreignphrase { font-style: italic; }
span.function { font-family: monospace; }

dt.glossterm span.glossterm { font-style: normal; }


span.glossterm { font-style: italic; }

span.guibutton, span.guilabel, span.guimenu, span.guimenuitem, span.guisubmenu, span.interface {
  font-weight: bold;
  color: #3f3f3f;
}
span.keycap {
  font-weight: bold;
  color: #3f3f3f;
}
span.lineannotation { font-style: italic; }
span.literal { font-family: monospace; }
span.markup  { font-family: monospace; }
span.medialabel { font-style: italic; }
span.methodname { font-family: monospace; }
span.ooclass, span.ooexception, span.oointerface { font-family: monospace; }
span.option { font-family: monospace; }
span.parameter { font-family: monospace; }
span.paramdef span.parameter { font-style: italic; }
span.prompt { font-family: monospace; }
span.property { font-family: monospace; }
span.replaceable  { font-style: italic; }
span.returnvalue { font-family: monospace; }
span.sgmltag { font-family: monospace; }
span.structfield, span.structname { font-family: monospace; }
span.symbol { font-family: monospace; }
span.systemitem { font-family: monospace; }
span.token { font-family: monospace; }
span.type { font-family: monospace; }
span.uri { font-family: monospace; }
span.userinput { font-family: monospace; }
span.varname { font-family: monospace; }
span.wordasword { font-style: italic; }



div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }
</style></head>
<meta http-equiv="Content-Type" content="text/html charset=utf8">
<body><div class="navbar navbar-top"><table class="navbar"><tr><td class="navbar-prev"><a class="navbar-prev" href="overview.html" title="Overview">Overview</a></td><td class="navbar-next"><a class="navbar-next" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></td></tr></table></div><div class="sidebar"><div class="sidenav"><div class="autotoc"><ul><li><a href="gdm-info.html" title="About This Document">About This Document</a></li><li><a class="xref" href="gdm.html" title="GNOME Display Manager Reference Manual">GNOME Display Manager Reference Manual</a><div class="autotoc"><ul><li><a class="xref" href="preface.html" title="Terms and Conventions Used in This Manual">Terms and Conventions Used in This Manual</a></li><li><a class="xref" href="overview.html" title="Overview">Overview</a></li><li>Security</li><li><a class="xref" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></li><li><a class="xref" href="configuration.html" title="Configuration">Configuration</a></li><li><a class="xref" href="binaries.html" title="GDM Commands">GDM Commands</a></li><li><a class="xref" href="troubleshooting.html" title="Troubleshooting">Troubleshooting</a></li><li><a class="xref" href="license.html" title="License">License</a></li></ul></div></li></ul></div></div></div><div class="body body-sidebar"><div class="division sect1"><a name="security"/><div class="header"><h1 xmlns="" class="sect1 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title">Security</span></h1></div><ul class="linktrail"><li class="linktrail linktrail-only"><a class="linktrail" href="gdm.html" title="GNOME Display Manager Reference Manual">GNOME Display Manager Reference Manual</a></li></ul><div class="autotoc"><ul><li><span class="label">3.1. </span><a class="xref" href="security.html#gdmuser" title="The GDM User And Group">The GDM User And Group</a></li><li><span class="label">3.2. </span><a class="xref" href="security.html#PAM" title="PAM">PAM</a></li><li><span class="label">3.3. </span><a class="xref" href="security.html#utmpwtmp" title="utmp and wtmp">utmp and wtmp</a></li><li><span class="label">3.4. </span><a class="xref" href="security.html#xauth" title="X Server Authentication Scheme">X Server Authentication Scheme</a></li><li><span class="label">3.5. </span><a class="xref" href="security.html#xdmcpsecurity" title="XDMCP Security">XDMCP Security</a></li><li><span class="label">3.6. </span><a class="xref" href="security.html#xdmcpaccess" title="XDMCP Access Control">XDMCP Access Control</a></li><li><span class="label">3.7. </span><a class="xref" href="security.html#firewall" title="Firewall Security">Firewall Security</a></li><li><span class="label">3.8. </span><a class="xref" href="security.html#policykit" title="PolicyKit">PolicyKit</a></li><li><span class="label">3.9. </span><a class="xref" href="security.html#rbac" title="RBAC (Role Based Access Control)">RBAC (Role Based Access Control)</a></li></ul></div><div class="division sect2"><a name="gdmuser"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.1. </span>The GDM User And Group</span></h2></div><p class="para block block-first">
        For security reasons a dedicated user and group id are recommended for
        proper operation.  This user and group are normally "gdm" on
        most systems, but can be configured to any user or group.  All GDM
        GUI programs are run as this user, so that the programs which interact
        with the user are run in a sandbox.  This user and group should have
        limited privilege.
      </p><p class="para block">
        The only special privilege the "gdm" user requires is the
        ability to read and write Xauth files to the
        <span class="filename">&lt;var&gt;/run/gdm</span> directory.  The
        <span class="filename">&lt;var&gt;/run/gdm</span> directory should have
        root:gdm ownership and 1777 permissions.
      </p><p class="para block">
        You should not, under any circumstances, configure the GDM user/group
        to a user which a user could easily gain access to, such as the user
        <span class="filename">nobody</span>.  Any user who gains access to an Xauth
        key can snoop on and control running GUI programs running in the
        associated or perform a denial-of-service attack on that session.  It
        is important to ensure that the system is configured properly so that
        only the "gdm" user has access to these files and that it
        is not easy to login to this account.  For example, the account should
        be setup to not have a password or allow non-root users to login to the
        account.
      </p><p class="para block">
        The GDM greeter configuration is stored in GConf.  To allow the GDM
        user to be able to write configuration, it is necessary for the 
        "gdm" user to have a writable $HOME directory.  Users may
        configure the default GConf configuration as desired to avoid the 
        need to provide the "gdm" user with a writable $HOME
        directory.  However, some features of GDM may be disabled if it is
        unable to write state information to GConf configuration.
      </p></div><div class="division sect2"><a name="PAM"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.2. </span>PAM</span></h2></div><p class="para block block-first">
        GDM uses PAM for login authentication.  PAM stands for Pluggable
        Authentication Module, and is used by most programs that request
        authentication on your computer.  It allows the administrator to
        configure specific authentication behavior for different login programs
        (such as ssh, login GUI, screensaver, etc.)
      </p><p class="para block">
        PAM is complicated and highly configurable, and this documentation does
        not intend to explain this in detail.  Instead, it is intended to give
        an overview of how PAM configuration relates with GDM, how PAM is
        commonly configured with GDM, and known issues.  It is expected that
        a person needing to do PAM configuration would need to do further
        reading of PAM documentation to understand how to configure PAM and
        to understand terms used in this section.
      </p><p class="para block">
        PAM configuration has different, but similar, interfaces on different
        Operating Systems, so check the
        <a class="ulink" href="man:pam.d" title="man:pam.d">pam.d</a> or
        <a class="ulink" href="man:pam.conf" title="man:pam.conf">pam.conf</a> man page for
        details.  Be sure to you read the PAM documentation and are comfortable
        with the security implications of any changes you intend to make to
        your configuration.
      </p><p class="para block">
        Note that, by default, GDM uses the "gdm" PAM service name
        for normal login and the "gdm-autologin" PAM service name for
        automatic login.  These services may not be defined in your pam.d or
        pam.conf configured file.  If there is no entry, then GDM will use the
        default PAM behavior.  On most systems this should work fine.
        However, the automatic login feature may not work if the gdm-autologin
        service is not defined.
      </p><p class="para block">
        The <span class="filename">PostLogin</span> script is run before
        pam_open_session is called, and the <span class="filename">PreSession</span>
        script is called after.  This allows the system administrator to add
        any scripting to the login process either before or after PAM 
        initializes the session.
      </p><p class="para block">
        If you wish to make GDM work with other types of authentication
        mechanisms (such as a fingerprint or SmartCard reader), then you should
        implement this by using a PAM service module for the desired
        authentication type rather than by trying to modify the GDM code
        directly.  Refer to the PAM documentation on your system.  How to do
        this is frequently discussed on the 
        <div class=" block address block-first block-verbatim"><span class="email">&lt;<a href="mailto:gdm-list@gnome.org" title="Send email to &#x2018;gdm-list@gnome.org&#x2019;.">gdm-list@gnome.org</a>&gt;</span></div> mail list,
        so you can refer to the list archives for more information.
      </p><p class="para block">
        PAM does have some limitations regarding being able to work with 
        multiple types of authentication at the same time, like supporting
        the ability to accept either SmartCard and the ability to type the
        username and password into the login program.  There are techniques
        that are used to make this work, and it is best to research how this
        problem is commonly solved when setting up such a configuration.
      </p><p class="para block">
        If automatic login does not work on a system, check to see if the
        "gdm-autologin" PAM stack is defined in the PAM configuration.  For
        this to work, it is necessary to use a PAM module that simply does no
        authentication, or which simply returns PAM_SUCCESS from all of its
        public interfaces.  Assuming your system has a pam_allow.so PAM module
        which does this, a PAM configuration to enable "gdm-autologin" would
        look like this:
      </p><div class=" block screen block-indent"><pre class="screen">       gdm-autologin auth  required    pam_unix_cred.so.1
       gdm-autologin auth  sufficient  pam_allow.so.1
       gdm-autologin account  sufficient  pam_allow.so.1
       gdm-autologin session  sufficient  pam_allow.so.1
       gdm-autologin password  sufficient  pam_allow.so.1
</pre></div><p class="para block">
        The above setup will cause no lastlog entry to be generated.  If a
        lastlog entry is desired, then use the following for session:
      </p><div class=" block screen block-indent"><pre class="screen">       gdm-autologin session required pam_unix_session.so.1
</pre></div></div><div class="division sect2"><a name="utmpwtmp"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.3. </span>utmp and wtmp</span></h2></div><p class="para block block-first">
        GDM generates utmp and wtmp User Accounting Database entries upon
        session login and logout.  The utmp database contains user access
        and accounting information that is accessed by commands such as
        <span class="command">finger</span>, <span class="command">last</span>,
        <span class="command">login</span>, and <span class="command">who</span>.  The wtmp
        database contains the history of user access and accounting 
        information for the utmp database.  Refer to the 
        <a class="ulink" href="man:utmp" title="man:utmp">utmp</a> and
        <a class="ulink" href="man:wtmp" title="man:wtmp">wtmp</a>
        man pages on your system for more information.
      </p></div><div class="division sect2"><a name="xauth"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.4. </span>X Server Authentication Scheme</span></h2></div><p class="para block block-first">
        X server authorization files are stored in a newly created subdirectory
        of <span class="filename">&lt;var&gt;/run/gdm</span> at start up.  These files
        contain a is used to store a "password" between X clients
        and the X server.  This "password" is unqiue for each logged
        in session, so users from one session can't snoop on users from another.
      </p><p class="para block">
        GDM only supports the MIT-MAGIC-COOKIE-1 Xserver authentication
        scheme.  Normally little is gained from the other schemes, and no
        effort has been made to implement them so far.  Be especially
        careful about using XDMCP because the Xserver authentication cookie
        goes over the wire as clear text.  If snooping is possible, then an
        attacker could simply snoop your authentication password as you log in,
        regardless of the authentication scheme being used.  If snooping is
        possible and undesirable, then you should use ssh for tunneling an X
        connection rather then using XDMCP.  You could think of XDMCP as a sort
        of graphical telnet, having the same security issues.  In most cases,
        ssh -Y should be prefered over GDM's XDMCP features.
      </p></div><div class="division sect2"><a name="xdmcpsecurity"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.5. </span>XDMCP Security</span></h2></div><p class="para block block-first">
        Even though your display is protected by cookies, XEvents and thus
        keystrokes typed when entering passwords will still go over the wire in
        clear text.  It is trivial to capture these.
      </p><p class="para block">
        XDMCP is primarily useful for running thin clients such as in terminal
        labs.  Those thin clients will only ever need the network to access
        the server, and so it seems like the best security policy to have
        those thin clients on a separate network that cannot be accessed by
        the outside world, and can only connect to the server.  The only point
        from which you need to access outside is the server.  This type of set up
        should never use an unmanaged hub or other sniffable network.
      </p></div><div class="division sect2"><a name="xdmcpaccess"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.6. </span>XDMCP Access Control</span></h2></div><p class="para block block-first">
        XDMCP access control is done using TCP wrappers.  It is possible to
        compile GDM without TCP wrapper support, so this feature may not be
        supported on some Operating Systems.
      </p><p class="para block">
        You should use the daemon name <span class="command">gdm</span> in the
        <span class="filename">&lt;etc&gt;/hosts.allow</span> and
        <span class="filename">&lt;etc&gt;/hosts.deny</span> files.  For example to 
        deny computers from <span class="filename">.evil.domain</span> from logging in,
        then add
      </p><div class=" block screen block-indent"><pre class="screen">gdm: .evil.domain
</pre></div><p class="para block">
        to <span class="filename">&lt;etc&gt;/hosts.deny</span>.  You may also need
        to add
      </p><div class=" block screen block-indent"><pre class="screen">gdm: .your.domain
</pre></div><p class="para block">
        to your <span class="filename">&lt;etc&gt;/hosts.allow</span> if you normally
        disallow all services from all hosts.  See the
        <a class="ulink" href="man:hosts.allow" title="man:hosts.allow">hosts.allow(5)</a> man
        page for details.
      </p></div><div class="division sect2"><a name="firewall"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.7. </span>Firewall Security</span></h2></div><p class="para block block-first">
        Even though GDM tries to outsmart potential attackers trying to take
        advantage of XDMCP, it is still advised that you block the XDMCP port
        (normally UDP port 177) on your firewall unless really needed.  GDM
        guards against denial of service attacks, but the X protocol is still
        inherently insecure and should only be used in controlled environments.
        Also each remote connection takes up lots of resources, so it is much
        easier to do a denial of service attack via XDMCP then a webserver.
      </p><p class="para block">
        It is also wise to block all of the X Server ports.  These are TCP
        ports 6000 + the display number of course) on your firewall.  Note that
        GDM will use display numbers 20 and higher for flexible on-demand
        servers.
      </p><p class="para block">
         X is not a very safe protocol for using over the net, and XDMCP is
         even less safe.
      </p></div><div class="division sect2"><a name="policykit"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.8. </span>PolicyKit</span></h2></div><p class="para block block-first">
        GDM may be configured to use PolicyKit to allow the system
        administrator to control whether the login screen should provide
        the shutdown and restart buttons on the greeter screen.
      </p><p class="para block">
        These buttons are controlled by the
        <span class="filename">org.freedesktop.consolekit.system.stop-multiple-users</span>
        and
        <span class="filename">org.freedesktop.consolekit.system.restart-multiple-users</span>
        actions respectively.  Policy for these actions can be set up using the
        polkit-gnome-authorization tool, or the polkit-auth command line program.
      </p></div><div class="division sect2"><a name="rbac"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">3.9. </span>RBAC (Role Based Access Control)</span></h2></div><p class="para block block-first">
        GDM may be configured to use RBAC instead of PolicyKit.  In this
        case, RBAC configuration is used to control whether the login screen
        should provide the shutdown and restart buttons on the greeter screen.
      </p><p class="para block">
        For example, on Solaris, the "solaris.system.shutdown"
        authorization is used to control this.  Simply modify the 
        <span class="filename">/etc/user_attr</span> file so that the "gdm"
        user has this authorization.
      </p></div></div></div><div class="navbar navbar-bottom"><table class="navbar"><tr><td class="navbar-prev"><a class="navbar-prev" href="overview.html" title="Overview">Overview</a></td><td class="navbar-next"><a class="navbar-next" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></td></tr></table></div></body></html>
