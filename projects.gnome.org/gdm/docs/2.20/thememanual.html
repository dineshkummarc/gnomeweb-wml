<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Themed Greeter</title><link rel="previous" href="binaries.html" title="GDM Commands"/><link rel="next" href="accessibility.html" title="Accessibility"/><link rel="top" href="gdm.html" title="Gnome Display Manager Reference Manual"/><style type="text/css">

html { height: 100%; }
body {
  margin: 0px; padding: 12px;
  background-color: #f9f9f6;
  min-height: 100%;
  direction: ltr;
}
div, p, pre, blockquote { margin: 0; padding: 0; }
p img { vertical-align: middle; }
sub { font-size: 0.83em; }
sub sub { font-size: 1em; }
sup { font-size: 0.83em; }
sup sup { font-size: 1em; }
table { border-collapse: collapse; }
table.table-pgwide { width: 100%; }
td { vertical-align: top; }
td { padding: 0.2em 0.83em 0.2em 0.83em; }
th { padding: 0 0.83em 0 0.83em; }
tr.tr-shade {
  background-color: #f9f9f6;
}
td.td-colsep { border-right: solid 1px; }
td.td-rowsep { border-bottom: solid 1px; }
thead { border-top: solid 2px; border-bottom: solid 2px; }
tfoot { border-top: solid 2px; border-bottom: solid 2px; }
div.body {
  padding: 1em;
  max-width: 60em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.body-sidebar {
  
  margin-right: 13em;
}
div.division div.division { margin-top: 1.72em; }
div.division div.division div.division { margin-top: 1.44em; }
div.header {
  margin: 0;
  color: #3f3f3f;
  border-bottom: solid 1px #e0e0df;
}
h1, h2, h3, h4, h5, h6, h7 {
  margin: 0; padding: 0;
  color: #3f3f3f;
}
h1.title { font-size: 1.72em; }
h2.title { font-size: 1.44em; }
h3.title { font-size: 1.2em; }
h4.title, h5.title, h6.title, h7.title { font-size: 1em; }
.block { margin-top: 1em; }
.block .block-first { margin-top: 0; }
.block-indent {
  
  margin-left: 1.72em;
  
  margin-right: 1em;
}
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
td .block-indent  { margin-left: 0em; margin-right: 0em; }
dd .block-indent  { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
div.title {
  margin-bottom: 0.2em;
  font-weight: bold;
  color: #3f3f3f;
}
div.title-formal { padding-left: 0.2em; padding-right: 0.2em; }
div.title-formal .label { font-weight: normal; }
a {
  color: #1f609f;
  text-decoration: none;
}
a:hover { text-decoration: underline; }
a:visited { color: #9f1f6f; }
ul, ol, dl { margin: 0; padding: 0; }
li {
  margin-top: 1em;
  
  margin-left: 2.4em;
  
  padding: 0;
}
li.li-first { margin-top: 0; }
dt { margin: 1em 0 0 0; }
dt.dt-first { margin: 0; }
dd {
  
  margin-left: 1.72em;
  margin-top: 0.5em;
}
dl.dl-compact dt { margin-top: 0; }
dl.dl-compact dd { margin-top: 0; margin-bottom: 0; }


ul.linktrail {
  display: block;
  margin: 0.2em 0 0 0;
  
  text-align: right;
}
li.linktrail { display: inline; margin: 0; padding: 0; }

li.linktrail::before {
  content: '  /  ';
  color: #3f3f3f;
}

li.linktrail-first::before, li.linktrail-only::before { content: ''; }


div.navbar {
  padding: 0.5em 1em 0.5em 1em;
  max-width: 60em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.navbar-top { margin-bottom: 1em; }
div.navbar-bottom { margin-top: 1em; clear: both; }
div.navbar img { border: 0; vertical-align: -0.4em; }
table.navbar { width: 100%; margin: 0; border: none; }
table.navbar td { padding: 0; border: none; }
td.navbar-next {
  
  text-align: right;
}
a.navbar-prev::before {
  
  content: '◀  ';
  color: #3f3f3f;
}
a.navbar-next::after {
  
  content: '  ▶';
  color: #3f3f3f;
}


div.sidebar {
  
  float: right;
  padding: 0; margin: 0; width: 12em;
}
div.sidenav {
  padding: 0.5em 1em 0 1em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.sidenav div.autotoc {
  background-color: #ffffff;
  border: none; padding: 0; margin: 0;
}
div.sidenav div.autotoc div.autotoc { margin-top: 0.5em; }
div.sidenav div.autotoc li { margin-bottom: 0.5em; }
div.sidenav div.autotoc div.autotoc div.autotoc {
  
  margin-left: 1em;
  margin-top: 0;
}
div.sidenav div.autotoc div.autotoc div.autotoc li { margin-bottom: 0; }


div.autotoc {
  
  display: table;
  margin-top: 1em;
  
  margin-left: 1.72em;
  padding: 0.5em 1em 0.5em 1em;
  background-color: #f0f9ff;
  border: solid 1px #c0c9ff;
}
div.autotoc ul { margin: 0; padding: 0; }
div.autotoc li { list-style-type: none; margin: 0; }
div.autotoc div.autotoc-title { margin-bottom: 0.5em; }
div.autotoc div.autotoc { border: none; padding: 0; margin-top: 0; margin-bottom: 0.5em; }
div.autotoc div.autotoc div.autotoc { margin-bottom: 0; }


span.bibliolabel {
  color: #3f3f3f;
}


div.admonition {
  padding: 0.5em 1em 0.5em 1em;
  
  padding-left: 60px;
  min-height: 48px;
  border: solid 1px #e0e0df;
  background-color: #fffff0;
  
  background-position: 6px 0.5em;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("admon-caution.png");
}
div.important {
  background-image: url("admon-important.png");
}
div.note {
  background-image: url("admon-note.png");
}
div.note-bug {
  background-image: url("admon-bug.png");
}
div.tip {
  background-image: url("admon-tip.png");
}
div.warning {
  background-image: url("admon-warning.png");
}
div.blockquote {
  
  background-image: url('../../../data/icons/yelp-watermark-blockquote-201C.png');
  background-repeat: no-repeat;
  
  background-position: top left;
  padding: 0.5em;
  
  padding-left: 4em;
}
div.attribution {
  margin-top: 0.5em;
  color: #3f3f3f;
}
div.attribution::before {
  
  content: '― ';
}
div.epigraph {
  
  text-align: right;
  
  margin-left: 20%;
  
  margin-right: 0;
  color: #3f3f3f;
}
div.figure, div.informalfigure {
  
  display: table;
  padding: 0.5em;
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.figure-inner, div.informalfigure-inner {
  padding: 0.5em;
  background-color: #ffffff;
  border: solid 1px #e0e0df;
}
div.caption { margin-top: 0.5em; }
div.programlisting {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.screen {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border: solid 1px #e0e0df;
}
div.screen .prompt {
  color: #3f3f3f;
}
div.screen .userinput {
  font-weight: bold;
  color: #3f3f3f;
}
pre.linenumbering {
  color: #3f3f3f;
  margin: 0;
  
  padding-right: 1em;
  
  float: left;
  
  text-align: right;
}



dl.index dt { margin-top: 0; }
dl.index dd { margin-top: 0; margin-bottom: 0; }
dl.indexdiv dt { margin-top: 0; }
dl.indexdiv dd { margin-top: 0; margin-bottom: 0; }
dl.setindex dt { margin-top: 0; }
dl.setindex dd { margin-top: 0; margin-bottom: 0; }
div.list div.title-formal span.title {
  border-bottom: solid 1px #e0e0df;
}
div.simplelist {
  
  margin-left: 1.72em;
}
div.simplelist table { margin-left: 0; border: none; }
div.simplelist td {
  padding: 0.5em;
  border-left: solid 1px #e0e0df;
}
div.simplelist td.td-first {
  
  padding-left: 0;
  
  border-left: 0;
}
div.synopsis {
  padding: 0.5em;
  
  background-color: #f9f9f6;
  border-top: solid 2px #c0c9ff;
  border-bottom: solid 2px #c0c9ff;
}
div.synopsis div.synopsis {
  padding: 0;
  border: none;
}
div.synopsis div.block { margin-top: 0.2em; }
div.synopsis div.block-first { margin-top: 0; }


span.accel { text-decoration: underline; }
span.acronym { font-family: sans-serif; }
span.application { font-style: italic; }
span.classname, span.exceptionname, span.interfacename { font-family: monospace; }
span.code {
  font-family: monospace;
  border: solid 1px #e0e0df;
  
  padding-left: 0.2em;
  padding-right: 0.2em;
}
pre span.code { border: none; padding: 0; }
span.command {
  font-family: monospace;
  border: solid 1px #e0e0df;
  
  padding-left: 0.2em;
  padding-right: 0.2em;
}
pre span.command { border: none; padding: 0; }
span.computeroutput { font-family: monospace; }

span.constant { font-family: monospace; }
span.database { font-family: monospace; }
span.email { font-family: monospace; }
span.emphasis { font-style: italic; }
span.emphasis-bold { font-style: normal; font-weight: bold; }
span.envar { font-family: monospace; }

span.filename { font-family: monospace; }
span.firstterm { font-style: italic; }
span.foreignphrase { font-style: italic; }
span.function { font-family: monospace; }

dt.glossterm span.glossterm { font-style: normal; }


span.glossterm { font-style: italic; }

span.guibutton, span.guilabel, span.guimenu, span.guimenuitem, span.guisubmenu, span.interface {
  font-weight: bold;
  color: #3f3f3f;
}
span.keycap {
  font-weight: bold;
  color: #3f3f3f;
}
span.lineannotation { font-style: italic; }
span.literal { font-family: monospace; }
span.markup  { font-family: monospace; }
span.medialabel { font-style: italic; }
span.methodname { font-family: monospace; }
span.ooclass, span.ooexception, span.oointerface { font-family: monospace; }
span.option { font-family: monospace; }
span.parameter { font-family: monospace; }
span.paramdef span.parameter { font-style: italic; }
span.prompt { font-family: monospace; }
span.property { font-family: monospace; }
span.replaceable  { font-style: italic; }
span.returnvalue { font-family: monospace; }
span.sgmltag { font-family: monospace; }
span.structfield, span.structname { font-family: monospace; }
span.symbol { font-family: monospace; }
span.systemitem { font-family: monospace; }
span.token { font-family: monospace; }
span.type { font-family: monospace; }
span.uri { font-family: monospace; }
span.userinput { font-family: monospace; }
span.varname { font-family: monospace; }
span.wordasword { font-style: italic; }



div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }
</style></head>
<meta http-equiv="Content-Type" content="text/html charset=utf8">
<body><div class="navbar navbar-top"><table class="navbar"><tr><td class="navbar-prev"><a class="navbar-prev" href="binaries.html" title="GDM Commands">GDM Commands</a></td><td class="navbar-next"><a class="navbar-next" href="accessibility.html" title="Accessibility">Accessibility</a></td></tr></table></div><div class="sidebar"><div class="sidenav"><div class="autotoc"><ul><li><a href="gdm-info.html" title="About This Document">About This Document</a></li><li><a class="xref" href="gdm.html" title="Gnome Display Manager Reference Manual">Gnome Display Manager Reference Manual</a><div class="autotoc"><ul><li><a class="xref" href="preface.html" title="Terms and Conventions Used in This Manual">Terms and Conventions Used in This Manual</a></li><li><a class="xref" href="overview.html" title="Overview">Overview</a></li><li><a class="xref" href="security.html" title="Security">Security</a></li><li><a class="xref" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></li><li><a class="xref" href="gdmsetupusage.html" title="Using gdmsetup To Configure GDM">Using gdmsetup To Configure GDM</a></li><li><a class="xref" href="configuration.html" title="Configuration">Configuration</a></li><li><a class="xref" href="controlling.html" title="Controlling GDM">Controlling GDM</a></li><li><a class="xref" href="binaries.html" title="GDM Commands">GDM Commands</a></li><li>Themed Greeter</li><li><a class="xref" href="accessibility.html" title="Accessibility">Accessibility</a></li><li><a class="xref" href="solaris.html" title="Solaris Specific Features">Solaris Specific Features</a></li><li><a class="xref" href="exampleconf.html" title="Example Configurations">Example Configurations</a></li><li><a class="xref" href="troubleshooting.html" title="Troubleshooting">Troubleshooting</a></li><li><a class="xref" href="license.html" title="License">License</a></li></ul></div></li></ul></div></div></div><div class="body body-sidebar"><div class="division sect1"><a name="thememanual"/><div class="header"><h1 xmlns="" class="sect1 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title">Themed Greeter</span></h1></div><ul class="linktrail"><li class="linktrail linktrail-only"><a class="linktrail" href="gdm.html" title="Gnome Display Manager Reference Manual">Gnome Display Manager Reference Manual</a></li></ul><p class="para block block-first">
      This section describes the creation of themes for the Themed
      Greeter.  For examples including screenshots, see the standard installed
      themes and the themes from
      <a class="ulink" href="http://art.gnome.org/themes/gdm_greeter/" title="http://art.gnome.org/themes/gdm_greeter/">
      the theme website</a>.
    </p><div class="autotoc"><ul><li><span class="label">9.1. </span><a class="xref" href="thememanual.html#themeover" title="Theme Overview">Theme Overview</a></li><li><span class="label">9.2. </span><a class="xref" href="thememanual.html#descofthemeformat" title="Detailed Description of Theme XML format">Detailed Description of Theme XML format</a></li></ul></div><div class="division sect2"><a name="themeover"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.1. </span>Theme Overview</span></h2></div><p class="para block block-first">
        GDM Themes can be created by creating an XML file that follows the
        specification in gui/greeter/greeter.dtd.  Theme files are stored
        in the directory
        <span class="filename">&lt;share&gt;/gdm/themes/&lt;theme_name&gt;</span>.
        Usually this would be under <span class="filename">/usr/share</span>.  The theme
        directory should contain a file called
        <span class="filename">GdmGreeterTheme.desktop</span> which has similar format
        to other .desktop files and looks like:
      </p><div class=" block screen block-indent"><pre class="screen">[GdmGreeterTheme]
Encoding=UTF-8
Greeter=circles.xml
Name=Circles
Description=Theme with blue circles
Author=Bond, James Bond
Copyright=(c) 2002 Bond, James Bond
Screenshot=screenshot.png
</pre></div><p class="para block">
        The Name, Description, Author and Copyright fields can be translated
        just like the other <span class="filename">.desktop</span>files.  All the files
        that are mentioned should be in the theme directory itself.  The
        Screenshot field points to a file which should be a 200x150 screenshot
        of the theme in action (it is OK not to have one, but it makes it nicer
        for user).  The Greeter field points to an XML file that contains the
        description of the theme.  The description will be given later.
      </p><p class="para block">
        Once a theme is installed, it can be tested with the
        <span class="command">gdmthemetester</span> program.  This program assumes that
        the X server supports a nested server command.  This command takes two
        arguments, first the environment that should be used.  The environment
        can be one of the following values: console, console-timed, flexi,
        remote-flexi, or xdmcp.  The "console" option tests the
        theme as it would be shown on an attached display.  The
        "console-timed" option tests the theme as it would be shown
        on an attached display with timed login enabled.  The "flexi"
        option tests the theme as it would be shown on an attached flexible
        display (such as started via Xnest).  Finally, the "xdmcp"
        option tests the theme as it would be shown for remote XDMCP 
        displays.  The second argument is the theme name.  For example, to 
        test how the circles theme would look in XDMP remote display mode,
        you would run the following command:
      </p><div class=" block screen block-indent"><pre class="screen"><span class="command">gdmthemetester xdmcp circles</span>
</pre></div><p class="para block">
        When developing a theme, make sure to test all the environments, and
        make sure to test how the caps lock warning looks by pressing the caps
        lock key.  Running <span class="command">gdmthemetester</span> is also a good way
        to take screenshots of GDM themes.  Simply take a screenshot of the
        theme running in the nested display window.  This can be done in GNOME
        by focusing the nested login window and pressing Alt-PrintScreen.
      </p><p class="para block">
        Once a theme has been fully tested, then make a tarball that contains
        the directory as it would be insatlled to the
        <span class="filename">&lt;share&gt;/gdm/themes</span> directory.  This is
        the standard format for distributing GDM themes.
      </p></div><div class="division sect2"><a name="descofthemeformat"/><div class="header"><h2 xmlns="" class="sect2 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2. </span>Detailed Description of Theme XML format</span></h2></div><div class="autotoc"><ul><li><span class="label">9.2.1. </span><a class="xref" href="thememanual.html#greetertag" title="greeter tag">greeter tag</a></li><li><span class="label">9.2.2. </span><a class="xref" href="thememanual.html#boxnodes" title="Box Nodes">Box Nodes</a></li><li><span class="label">9.2.3. </span><a class="xref" href="thememanual.html#fixednodes" title="Fixed Nodes">Fixed Nodes</a></li><li><span class="label">9.2.4. </span><a class="xref" href="thememanual.html#itemnodes" title="Item Nodes">Item Nodes</a></li><li><span class="label">9.2.5. </span><a class="xref" href="thememanual.html#positionnodes" title="Position Node">Position Node</a></li><li><span class="label">9.2.6. </span><a class="xref" href="thememanual.html#shownodes" title="Show Node">Show Node</a></li><li><span class="label">9.2.7. </span><a class="xref" href="thememanual.html#noractprenodes" title="Normal/Active/Prelight Nodes">Normal/Active/Prelight Nodes</a></li><li><span class="label">9.2.8. </span><a class="xref" href="thememanual.html#listcoloronodes" title="Face Browser Icon/Label Color Nodes">Face Browser Icon/Label Color Nodes</a></li><li><span class="label">9.2.9. </span><a class="xref" href="thememanual.html#textnodes" title="Text Node">Text Node</a></li><li><span class="label">9.2.10. </span><a class="xref" href="thememanual.html#stocklabels" title="Stock node">Stock node</a></li><li><span class="label">9.2.11. </span><a class="xref" href="thememanual.html#customwidgetry" title="Custom Widgetry">Custom Widgetry</a></li></ul></div><div class="division sect3"><a name="greetertag"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.1. </span>greeter tag</span></h3></div><p class="para block block-first">
            The GDM theme format is specified in XML format contained
            within a &lt;greeter&gt; tag.  You may specify a GTK+ theme to
            be used with this theme by using the gtk-theme element in the
            greeter tag as in the following example.
          </p><div class=" block screen block-indent"><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE greeter SYSTEM "greeter.dtd"&gt;
&lt;greeter gtk-theme="Crux"&gt;
[...]
&lt;/greeter&gt;
</pre></div><p class="para block">
            Contained within the greeter tag can be the nodes described
            in the next sections of this document.  Some of these nodes are
            containers (box nodes, rect item nodes) which can be used to
            organize how to display the nodes that the user sees and interacts
            with (such as button, pixmap and entry item nodes).
          </p></div><div class="division sect3"><a name="boxnodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.2. </span>Box Nodes</span></h3></div><p class="para block block-first">
          Box nodes are container nodes for item nodes.  Box nodes are
          specified as follows:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;box orientation="alignment" min-width="num"
xpadding="num" ypadding="num" spacing="num"
homogeneous="bool"&gt;
</pre></div>
          Where "num" means number and bool means either
          "true" or "false" The alignment value can be
          either "horizontal" or "vertical".  If you leave
          any property off it will default to zero or "false" in
          case of "homogeneous" and "vertical" for the
          orientation.
        </p><p class="para block">
          If the box is homogeneous then the children are allocated equal
          amount of space.
        </p><p class="para block">
          The "min-width" must be specified in pixels.  Obviously
          there is also a corresponding "min-height" property as
          well.
        </p></div><div class="division sect3"><a name="fixednodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.3. </span>Fixed Nodes</span></h3></div><p class="para block block-first">
          Fixed is a container that has its children scattered about
          laid out with precise coordinates.  The size of this container
          is the biggest rectangle that contains all the children.  Fixed
          has no extra properties and so you just use:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;fixed&gt;
</pre></div>
          Then you put other items with proper position nodes inside this.
        </p><p class="para block">
          The "toplevel" node is really just like a fixed node.
        </p></div><div class="division sect3"><a name="itemnodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.4. </span>Item Nodes</span></h3></div><p class="para block block-first">
          A GDM Theme is created by specifying a hierarchy of item and box
          nodes.  Item nodes can have the following value for
          "type":
        </p><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">button</dt><dd>
              <p class="para block block-first">
                A button field.  This field uses a GTK+ button.  It is also
                possible to make a "rect" item act like a button by setting
                its button element to true.  However it is better to use
                GTK+ buttons in GDM themes since these are accessible to
                users with disabilities.  Also, GTK+ buttons can be
                themed.  This feature is supported in GDM 2.14.6 and later.
              </p>
            </dd><dt class="term">entry</dt><dd>
              <p class="para block block-first">
                Text entry field.
              </p>
            </dd><dt class="term">label</dt><dd>
              <p class="para block block-first">
                A text label.  Must have a "text" node to specify the
                text.
              </p>
            </dd><dt class="term">list</dt><dd>
              <p class="para block block-first">
                 A face browser widget.  Only useful if the face browser is
                 enabled via the configuration.
              </p>
            </dd><dt class="term">pixmap</dt><dd>
              <p class="para block block-first">
                An pixmap image in a format that gdk-pixbuf supports like
                PNG, JPEG, Tiff, etc...)
              </p>
            </dd><dt class="term">rect</dt><dd>
              <p class="para block block-first">
                Rectangle.
              </p>
            </dd><dt class="term">svg</dt><dd>
              <p class="para block block-first">
                Scaled Vector Graphic image.
              </p>
            </dd></dl></div><p class="para block">
          For example: 
<div class=" block screen block-indent block-first"><pre class="screen">&lt;item type="label"&gt;
</pre></div>
          Items can specify ID values which gives them a specific look and feel
          or formatting.  Furthermore you can customize the login process by
          adding custom widgets with custom id's for some items (currently only
          the list item)
        </p><p class="para block">
          Entry items can have id values as follows:
        </p><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">user-pw-entry</dt><dd>
              <p class="para block block-first">
                Entry field for userid and password entry.  This is the field
                used for responses for the PAM/GDM questions (Username,
                Password, etc..).
              </p>
            </dd></dl></div><p class="para block">
          List items by default display as lists, but the
          combo="true" attribute can be used to specify combo box
          style (combo style supported since GDM 2.16.2).  Some predefined
          lists may be included in a theme by using the following id values.
          Customized lists may also be defined, which are explained below.
        </p><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">session</dt><dd>
              <p class="para block block-first">
                A list of available sessions, which allows the user to pick
                the session to use.  Supported since GDM 2.16.2.
              </p>
            </dd></dl></div><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">language</dt><dd>
              <p class="para block block-first">
                A list of available languages, which allows the user to pick
                the language to use.  Supported since GDM 2.16.2.
              </p>
            </dd></dl></div><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">userlist</dt><dd>
              <p class="para block block-first">
                A Face Browser list, so that users can pick their username
                by clicking on this instead of typing.  This obviously exposes
                the usernames to viewers of the login screen, and is not
                recommended for users who feel that this reduces security.
                The face browser does not support combo box style.
              </p>
            </dd></dl></div><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">userlist-rect</dt><dd>
              <p class="para block block-first">
                This id can be specified for the &lt;rect&gt; object containing
                the userlist and if the userlist is empty then this rectangle
                will not be shown.  This allows the theme to define something
                like an area with a different color and/or alpha to surround
                the userlist, but only if there are users to display.
                Supported since 2.16.2.
              </p>
            </dd></dl></div><p class="para block">
          Furthermore, you can have an arbitrary id (I'd recommend starting
          the id with 'custom' not to conflict with future additions to this
          spec) and ask extra information of the user.  See the section
          'Custom Widgetry'
        </p><p class="para block">
          Label items can have id values as follows:
        </p><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">clock</dt><dd>
              <p class="para block block-first">
                Label that displays the date and time.
              </p>
            </dd><dt class="term">pam-prompt</dt><dd>
              <p class="para block block-first">
                Label that displays the PAM prompt.  This is the prompt that PAM
                uses to ask for username, password, etc...
              </p>
            </dd><dt class="term">pam-error</dt><dd>
              <p class="para block block-first">
                Label that displayst PAM/GDM error messages.  Such as when user
                can't log in.
              </p>
            </dd><dt class="term">pam-error-logo</dt><dd>
              <p class="para block block-first">
                An image that will be displayed only when a pam-error message
                is being displayed.  This is useful for displaying an
                "Attention" icon, for example.  This feature is
                supported in GDM 2.14.6 and later.
              </p>
            </dd><dt class="term">pam-message</dt><dd>
              <p class="para block block-first">
                Label that displays the PAM message.  These are messages that
                PAM/GDM gives about state of the account, help about the
                prompts and other information.
              </p>
            </dd><dt class="term">timed-label</dt><dd>
              <p class="para block block-first">
                Label that displays timed login information.
              </p>
            </dd></dl></div><p class="para block">
          Rectangles can have id values as follows:
        </p><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">caps-lock-warning</dt><dd>
              <p class="para block block-first">
                Displays an icon that shows if the
                CAPS LOCK key is depressed.  This rectangle
                will be hidden/shown appropriately
              </p>
            </dd></dl></div><p class="para block">
          If an item is of type rect, the item can be a button.  Buttons
          must also include a "button" value as follows:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;item type="rect" id="disconnect_button" button="true"&gt;.
</pre></div>
        </p><p class="para block">
          Possible values for button ids are as follows.  
        </p><div class="block list variablelist"><dl class="variablelist"><dt class="term dt-first">chooser_button</dt><dd>
              <p class="para block block-first">
                Runs the XDMCP chooser.
              </p>
            </dd><dt class="term">config_button</dt><dd>
              <p class="para block block-first">
                Runs the GDM configuration application.
              </p>
            </dd><dt class="term">custom_cmd_button[0-9]</dt><dd>
              <p class="para block block-first">
                Runs the <span class="filename">n-th</span> custom command.
              </p>
            </dd><dt class="term">disconnect_button</dt><dd>
              <p class="para block block-first">
                Disconnect from remote session.
              </p>
            </dd><dt class="term">language_button</dt><dd>
              <p class="para block block-first">
                Displays the language selection dialog.
              </p>
            </dd><dt class="term">halt_button</dt><dd>
              <p class="para block block-first">
                Halt (shuts down) the system.
              </p>
            </dd><dt class="term">reboot_button</dt><dd>
              <p class="para block block-first">
                Restart the system.
              </p>
            </dd><dt class="term">session_button</dt><dd>
              <p class="para block block-first">
                List and select from available sessions.
              </p>
            </dd><dt class="term">suspend_button</dt><dd>
              <p class="para block block-first">
                Suspend the system.
              </p>
            </dd><dt class="term">system_button</dt><dd>
              <p class="para block block-first">
                Perform halt/restart/suspend/etc. options (if allowed by GDM
                configuration).  Also allows user to run configurator if user
                enters root password (again if allowed by GDM configuration).
                This is usually now labeled Actions, and referred to as the
                Actions menu.
              </p>
            </dd></dl></div><p class="para block">
          By default, the GDM login screen will disappear after authentication.
          This can result in flicker between the login screen and the session.
          The "background" property allows users to specify what 
          elements of the theme are the background image.  When used, this
          will cause GDM to remove all non-background items from the display
          and render the remaining "background" items to the root
          window.  This can be used to create a smooth transition between the
          login screen and the session.  For example, if the GDM theme and the
          session use the same background, then this will make the background
          apear seamless.
        </p><p class="para block">
          Item nodes may specify a "background" property which can be
          set to "true" or "false" (not setting this
          property is equivalent to "false"), as follows:
        </p><div class=" block screen block-indent"><pre class="screen">&lt;item type="rect" background="true"&gt;
    &lt;normal file="background.svg"/&gt;
    &lt;pos x="0" y="0" width="100%" height="-75"/&gt;
&lt;/item&gt;
</pre></div><p class="para block">
          If no item node has "background" property set, then the
          background is not modified when greeter exits.
        </p><p class="para block">
          To use a different background for login transition than the one 
          used for login, the theme should specify two item nodes (which
          could contain pixmaps or svg images, for example).  The item
          which corresponds to the greeter background should not have the
          "background" property while the item which corresponds
          to the transition background should have the "background"
          property.  For instance :
        </p><div class=" block screen block-indent"><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE greeter SYSTEM "greeter.dtd"&gt;
 &lt;greeter&gt;

  &lt;item type="rect" background="true"&gt;
    &lt;normal file="background_for_login.svg"/&gt;
    &lt;pos x="0" y="0" width="100%" height="100%"/&gt;
  &lt;/item&gt;
  &lt;item type="rect"&gt;
    &lt;normal file="background_for_greeter.svg"/&gt;
    &lt;pos x="0" y="0" width="100%" height="100%"/&gt;
  &lt;/item&gt;
[...]
&lt;/greeter&gt;
</pre></div></div><div class="division sect3"><a name="positionnodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.5. </span>Position Node</span></h3></div><p class="para block block-first">
          Each item can specify its position and size via the "pos"
          node.  For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;pos x="0" y="4" width="100%" height="100%"/&gt;
</pre></div>
        </p><p class="para block">
          Both position and size can be given in percent and it will be taken
          as the percentage of the size of the current container.  For toplevel
          items it's the percentage of the whole screen.
        </p><p class="para block">
          For x and y, you can also specify a negative position which means
          position from the right or bottom edge.  But this only applies with
          absolute coordinates.  With percentage you can specify negative
          position and it will be still from the same edge.
        </p><p class="para block">
          The position also specifies the anchor of the item, this can be
          "n" "ne" "e" "se"
          "s" "sw" "w" and "nw" or
          "center" which stand for the different edges/corners or
          "center" for center.  For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;pos x="10%" y="50%" anchor="w" width="80%" height="95"/&gt;
</pre></div>
        </p><p class="para block">
          If the item contains a box, you can specify width and height to be
          "box" to mean that they are supposed to be the width and
          height of the box, that is the items in the box plus the padding.
        </p><p class="para block">
          If the item contains an SVG image, you can specify width and height
          to be "scale" to mean that the SVG image should be scaled
          to fit the requested area.
        </p><p class="para block">
          You can also specify an "expand" property to either be
          "true" or false.  If true then the child will be expanded
          in the box as much as possible (that is it will be given more space
          if available).
        </p><p class="para block">
          There are two extra properties you can specify (as of 2.4.4.3) for
          labels (and labels only).  The first is "max-width" which
          will specify the maximum width of the label in pixels.  And the
          second is "max-screen-percent-width" which specifies the
          maximum percentage of the screen width that the label can occupy.
          By default no label will occupy more then 90% of the screen by width.
          An example may be:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;item type="label"&gt;
&lt;pos x="10%" max-screen-percent-width="50%"/&gt;
</pre></div>
        </p></div><div class="division sect3"><a name="shownodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.6. </span>Show Node</span></h3></div><p class="para block block-first">
          Some items may only display in certain modes, like when doing a
          remote display.  Multiple values can be specified and must be
          separated with commas.  The following values are possible:
        </p><p class="para block">
          <span class="filename">console</span> - In console mode.
        </p><p class="para block">
          <span class="filename">console-fixed</span> - In console non-flexi mode.
        </p><p class="para block">
          <span class="filename">console-flexi</span> - In console &amp; flexi mode.
        </p><p class="para block">
          <span class="filename">flexi</span> - In flexi mode.
        </p><p class="para block">
          <span class="filename">remote</span> - In remote mode.
        </p><p class="para block">
          <span class="filename">remote-flexi</span> - In remote &amp; flexi mode.
        </p><p class="para block">
          For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;show modes="flexi,remote"/&gt;
</pre></div>
        </p><p class="para block">
          You can also specify the "type" value to indicate that
          certain items should only be displayed if the type is true.  Valid
          values include the following:
        </p><p class="para block">
          <span class="filename">chooser</span>, if ChooserButton is set to
          "true" in the GDM configuration.
        </p><p class="para block">
          <span class="filename">config</span>, if ConfigAvailable is set to
          "true" in the GDM configuration.
        </p><p class="para block">
          <span class="filename">custom_cmd[0-9]</span>, if <span class="filename">n-th</span>
          CustomCommand is specified in the GDM configuration.
        </p><p class="para block">
          <span class="filename">halt</span>, if HaltDaemon is specified in
          the GDM configuration.
        </p><p class="para block">
          <span class="filename">reboot</span>, if RebootCommand is specified in
          the GDM configuration.
        </p><p class="para block">
          <span class="filename">suspend</span>, if SuspendCommand is specified in
          the GDM configuration.
        </p><p class="para block">
          <span class="filename">system</span>, if SystemMenu is specified in
          the GDM configuration.
        </p><p class="para block">
          <span class="filename">timed</span>, if TimedLoginEnabled is set to
          "true" in the GDM configuration.
        </p><p class="para block">
          For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;show modes="console" type="system"/&gt;
</pre></div>
        </p><p class="para block">
          Alternatively, you can specify a "min-screen-width" or
          "min-screen-height" value to indicate that certain
          items should only be displayed if the screen resolution is the
          at least the given required size.
        </p><p class="para block">
          For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;show min-screen-height="768"/&gt;
</pre></div>
        </p><p class="para block">
          Note that if SystemMenu is off then the halt, restart, suspend,
          chooser and config choices will not be shown, so this is a global
          toggle for them all.  See some of the standard themes for how the
          show modes are used.
        </p></div><div class="division sect3"><a name="noractprenodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.7. </span>Normal/Active/Prelight Nodes</span></h3></div><p class="para block block-first">
          Depending on the item type (except for userlist - refer to Color node
          below), it can specify its color, font, or image via the following
          tags:
        </p><p class="para block">
          <span class="filename">normal</span> - normal state.
        </p><p class="para block">
          <span class="filename">active</span> - when the item has active focus.
        </p><p class="para block">
          <span class="filename">prelight</span> - when the mouse is hovering over the
          item.
        </p><p class="para block">
            When item is "rect" (alpha can be omitted and defaults to
            0.0):
<div class=" block screen block-indent block-first"><pre class="screen">&lt;normal color="#ffffff" alpha="0.0"&gt;
</pre></div>
        </p><p class="para block">
          When item is "label"
<div class=" block screen block-indent block-first"><pre class="screen">&lt;normal color="#ffffff" font="Sans 14"/&gt;
</pre></div>
        </p><p class="para block">
          When the item type is "pixmap" or "SVG", then the
          normal, active, and prelight tags specify the images to use as
          follows:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;normal file="picture.png" tint="#dddddd"/&gt;
</pre></div>
        </p><p class="para block">
          Note that relative pathnames are assumed to be in the same 
          directory as the theme <span class="filename">.xml</span> file in
          <span class="filename">&lt;share&gt;/gdm/themes/&lt;theme_name&gt;</span>.
        </p><p class="para block">
          Note that alternative image file can be specified using the altfile[n]
          property. GDM will use the last valid image filename specified. 
          For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;normal file="picture.png" altfile1="distribution-blah-image.png" altfile2="distribution-foo-image.png"/&gt;
</pre></div>
         If <span class="filename">distribution-foo-image.png</span> is a valid image 
         filename it will be used. Otherwise distribution-blah-image.png will 
         be used if valid.  This feature supported since 2.16.3.
        </p></div><div class="division sect3"><a name="listcoloronodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.8. </span>Face Browser Icon/Label Color Nodes</span></h3></div><p class="para block block-first">
          If the item type is of userlist, then the background color for the
          icon and label can be set separately via the the following tag:
        </p><p class="para block">
<div class=" block screen block-indent block-first"><pre class="screen">&lt;color iconcolor="#dddddd" labelcolor="#ffffff"/&gt;
</pre></div>
        </p></div><div class="division sect3"><a name="textnodes"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.9. </span>Text Node</span></h3></div><p class="para block block-first">
          Text tags are used by labels.   They can be used to display
          localized text as follows (if the "xml:lang" attribute is
          omitted, the C locale is assumed):
<div class=" block screen block-indent block-first"><pre class="screen">&lt;text xml:lang="fr"&gt;Option&lt;/text&gt;
</pre></div>
        </p><p class="para block">
          You can include pango markup in the text nodes for labels, however
          you must encode it.  So for example to have the label of
          "foo&lt;sup&gt;bar&lt;/sup&gt;", you must type:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;text&gt;"foo&lt;sup&gt;bar&lt;/sup&gt;"&lt;/text&gt;
</pre></div>
        </p><p class="para block">
          Text nodes can contain the following special character sequences
          which will be translated as follows:
        </p><p class="para block">
          %% - A literal % character
        </p><p class="para block">
          %c - Clock time.  Only labels with the "clock" id will
          update automatically every second.  Other labels will contain a
          static timestamp.
        </p><p class="para block">
          %d - Display name (DISPLAY environment variable)
        </p><p class="para block">
          %h - Hostname (gethostname output)
        </p><p class="para block">
          %m - Machine name (uname.machine output)
        </p><p class="para block">
          %n - Node name (uname.nodename output)
        </p><p class="para block">
          %o - Domain name (getdomainname output)
        </p><p class="para block">
          %r - Release name (uname.release output)
        </p><p class="para block">
          %s - System name (uname.sysname output)
        </p><p class="para block">
          %t - Current timed delay value from configuration file (0 if off)
          followed by the word "seconds" if value is greater than 1
          or the word "second" if the value is 1.  This character
          sequence is intended to be only used internally to display the
          "timed-label" message, which is automatically updated every
          second.
        </p><p class="para block">
          %u - Timed username value from configuration file (empty if off)
          This character sequence is intended to be only used internally to
          display the "timed-label" message, which is automatically
          updated every second.
        </p><p class="para block">
          \n - Carriage return
        </p><p class="para block">
          _ - An underscore causes the following character to be underlined.
          If it precedes a % character sequence, the string that replaces the
          character sequence is underlined.
        </p></div><div class="division sect3"><a name="stocklabels"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.10. </span>Stock node</span></h3></div><p class="para block block-first">
          Certain common localized labels can be specified via the stock
          tags.  The "text" tag is ignored if the "stock"
          tag is used.   You should really use the stock labels rather then
          just putting all the translations into the themes.  This gives
          faster load times and likely better translations.  The following
          values are valid:
        </p><p class="para block">
          <span class="filename">cancel</span>, _("_Cancel"
        </p><p class="para block">
          <span class="filename">caps-lock-warning</span>,
          _("Caps Lock is on." 
        </p><p class="para block">
          <span class="filename">chooser</span>, _("Remote Login via _XDMCP"
        </p><p class="para block">
          <span class="filename">config</span>, _("_Configure"
        </p><p class="para block">
          <span class="filename">custom_cmd[0-9]</span>, getting label from config file
        </p><p class="para block">
          <span class="filename">disconnect</span>, _("D_isconnect"
        </p><p class="para block">
          <span class="filename">halt</span>, _("Shut _Down"
        </p><p class="para block">
          <span class="filename">language</span>, _("_Language"
        </p><p class="para block">
          <span class="filename">ok</span>, _("_OK"
        </p><p class="para block">
          <span class="filename">options</span>, _("_Options"
        </p><p class="para block">
          <span class="filename">quit</span>, _("_Quit"
        </p><p class="para block">
          <span class="filename">reboot</span>, _("_Restart"
        </p><p class="para block">
          <span class="filename">session</span>, _("_Session"
        </p><p class="para block">
          <span class="filename">startagain</span>, _("_Start Again"
        </p><p class="para block">
          <span class="filename">suspend</span>, _("Sus_pend"
        </p><p class="para block">
          <span class="filename">system</span>, _("_Actions"
          (Formerly "S_ystem"
        </p><p class="para block">
          <span class="filename">timed-label</span>,
          _("User %u will login in %t"
        </p><p class="para block">
          <span class="filename">username-label</span>, _("Username:"
        </p><p class="para block">
          <span class="filename">welcome-label</span>, _("Welcome to %n"
        </p><p class="para block">
          For example:
<div class=" block screen block-indent block-first"><pre class="screen">&lt;stock type="welcome-label"&gt;
</pre></div>
        </p></div><div class="division sect3"><a name="customwidgetry"/><div class="header"><h3 xmlns="" class="sect3 title"><span xmlns="http://www.w3.org/1999/xhtml" class="title"><span class="label">9.2.11. </span>Custom Widgetry</span></h3></div><p class="para block block-first">
          Currently there is one item which is customizable and this is
          the list item.  If you need to ask the user extra things, such as
          to pick from a list of places to log into, or set of custom login
          sessions you can setup the list item and add listitem children that
          describe the choices.  Each listitem must have an id and a text
          child.  The choice will be recorded in the file
          <span class="filename">&lt;ServAuthDir&gt;/&lt;display&gt;.GreeterInfo</span>
          as <span class="filename">&lt;list id&gt;=&lt;listitem id&gt;</span>.
        </p><p class="para block">
          For example suppose we are on display :0,
          <span class="filename">ServAuthDir</span> is
          <span class="filename">&lt;var&gt;/lib/gdm</span> and we have the following in
          the theme:
        </p><div class=" block screen block-indent"><pre class="screen">&lt;item type="list" id="custom-config"&gt;
&lt;pos anchor="nw" x="1" y="1" height="200" width="100"/&gt;
&lt;listitem id="foo"&gt;
&lt;text&gt;Foo&lt;/text&gt;
&lt;/listitem&gt;
&lt;listitem id="bar"&gt;
&lt;text&gt;Bar&lt;/text&gt;
&lt;/listitem&gt;
&lt;/item&gt;
</pre></div><p class="para block">
          Using GDM 2.20, the file is created in INI format.  The group value
          is "GreeterInfo", and the "custom-config" key
          will specify the id of the chosen listitem.  For example, if the user
          chooses "Foo" (which has an id value of "foo",
          then <span class="filename">&lt;var&gt;/lib/gdm/:0.GreeterInfo</span> will
          contain:
<div class=" block screen block-indent"><pre class="screen">[GreeterInfo]
custom-config=foo
</pre></div>
        </p><p class="para block">
          Using GDM 2.18 and earlier, the file is not saved in INI format, so
          the "GreeterInfo" group will not be in the file.  In other
          words, the file will contain only the following:
<div class=" block screen block-indent block-first"><pre class="screen">custom-config=foo
</pre></div>
        </p></div></div></div></div><div class="navbar navbar-bottom"><table class="navbar"><tr><td class="navbar-prev"><a class="navbar-prev" href="binaries.html" title="GDM Commands">GDM Commands</a></td><td class="navbar-next"><a class="navbar-next" href="accessibility.html" title="Accessibility">Accessibility</a></td></tr></table></div></body></html>
