commit 69c5508241017f9399c657f17319ac40942a08b6
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jul 2 15:46:49 2010 +1000

    Release 0.13.0

 INSTALL.quick |    3 +-
 NEWS          |  101 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 README        |    2 +-
 configure.ac  |    2 +-
 4 files changed, 105 insertions(+), 3 deletions(-)

commit 878272bc252a85b32559f0b88926bbe5ebe53611
Author: Petr Kovar <pknbe@volny.cz>
Date:   Wed Jun 30 15:55:06 2010 +0200

    Update Czech translation by Marek Cernocky

 po/cs.po | 1313 +++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 749 insertions(+), 564 deletions(-)

commit 6da8f863b5945441f4a38b93f75977ee331915dd
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 30 18:17:11 2010 +1000

    audiocd: fix spacing in the extract column header
    
    Use style properties to remove the spacing around the checkbox widget (most
    important for the vertical space) and add some extra width to the column as
    a whole to allow the widget to fit in properly.

 plugins/audiocd/rb-audiocd-source.c |   22 +++++++++++++++++++++-
 1 files changed, 21 insertions(+), 1 deletions(-)

commit 24ec3c4f49dc795713a63f857e8188f029737893
Author: Wadim Dziedzic <wdziedzic@aviary.pl>
Date:   Tue Jun 29 23:51:04 2010 +0200

    Updated Polish translation

 po/pl.po | 1688 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 937 insertions(+), 751 deletions(-)

commit 1c8994d47aad23e2f6dc7cb5db11784160d7e4a7
Author: Funda Wang <fundawang@gmail.com>
Date:   Tue Jun 29 12:22:01 2010 +0800

    Updated zh_CN translation.

 po/ChangeLog |    4 ++++
 po/zh_CN.po  |   14 +++++++-------
 2 files changed, 11 insertions(+), 7 deletions(-)

commit 9993bce935fc20d45438e8436b43d35158286b39
Author: Funda Wang <fundawang@gmail.com>
Date:   Tue Jun 29 11:18:55 2010 +0800

    Updated zh_CN translation.

 po/ChangeLog |    4 +
 po/zh_CN.po  | 1610 +++++++++++++++++++++++++---------------------------------
 2 files changed, 705 insertions(+), 909 deletions(-)

commit 5744e89fd9019fa749b6d80e922e3a2b17bdf53a
Author: Luca Ferretti <lferrett@gnome.org>
Date:   Tue Jun 29 02:09:06 2010 +0200

    Updated Italian translation

 po/it.po | 1650 ++++++++++++++++++++++++++++++++++++--------------------------
 1 files changed, 955 insertions(+), 695 deletions(-)

commit be82031c73b23d1a38c49208dbc03c0b736dfafe
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Mon Jun 28 16:05:43 2010 +0200

    Updated Slovenian translation

 po/sl.po |  375 ++++++++++++++++++++++++++++++++------------------------------
 1 files changed, 194 insertions(+), 181 deletions(-)

commit 184a0a5100b8f27271c526667e00df371eb436d2
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Jun 28 21:55:45 2010 +1000

    xfade: increase samplesperbuffer property on audiotestsrc
    
    This increases the size of the buffers the adder can produce, meaning that
    the output portion of the pipeline processes a smaller number of larger buffers,
    reducing cpu consumption a little.

 backends/gstreamer/rb-player-gst-xfade.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3b59642b351777b136d8147f6c2eb2e92944d6ae
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Jun 28 16:48:51 2010 +1000

    library: describe the 'release year' substitution correctly (bug #621209)

 sources/rb-library-source.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d5babc1788eb07d3b36043cb0ef1fe96550dead0
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   Sun Jun 27 21:15:32 2010 +0300

    [l10n] Updated Estonian translation

 po/et.po |  345 +++++++++++++++++++++++++++++++++++++++++++-------------------
 1 files changed, 240 insertions(+), 105 deletions(-)

commit c4bf62a06e6801c66802b545b54b6f9a2aeac9c6
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sun Jun 27 19:34:41 2010 +0200

    [i18n] Updated German translation

 po/de.po |  568 ++++++++++++++++++++++++++++++++------------------------------
 1 files changed, 291 insertions(+), 277 deletions(-)

commit 7d42083ec78226ef3a5cab52e68f150bab2910e6
Author: A S Alam <aalam@users.sf.net>
Date:   Sat Jun 26 17:15:19 2010 +0530

    complete translation for Punjabi by A S Alam

 po/pa.po | 3009 +++++++++++++++++++++++++++++++++++++-------------------------
 1 files changed, 1810 insertions(+), 1199 deletions(-)

commit b8150ae8d5f80740f0b79020da1ad34250a3b0e7
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Jun 26 10:22:30 2010 +0200

    Updated Spanish translation

 po/es.po |  587 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 296 insertions(+), 291 deletions(-)

commit ea7ed69d26ec01df77a48fc5b7b599fcb0bfba1f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Jun 26 09:58:59 2010 +0200

    Updated Spanish translation

 po/es.po |  863 ++++++++++++++++++++++++++++++++++++++------------------------
 1 files changed, 525 insertions(+), 338 deletions(-)

commit 8d1be192ed07e93ca25f02623d2eee573684b0e7
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Jun 26 10:24:42 2010 +1000

    rhythmdb: don't dereference a potentially invalid entry type (bug #622753)

 rhythmdb/rhythmdb.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 3a207ca040dc5d1885b28016f1a0f32e6fa505f2
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Fri Jun 25 22:33:40 2010 +0200

    Updated Galician translations

 po/gl.po |  375 ++++++++++++++++++++++++++++++++------------------------------
 1 files changed, 195 insertions(+), 180 deletions(-)

commit 60b8101d0faa12c66186e47284453f452707f0ef
Author: Claude Paroz <claude@2xlibre.net>
Date:   Fri Jun 25 16:07:43 2010 +0200

    Updated French translation

 po/fr.po | 1579 +++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 884 insertions(+), 695 deletions(-)

commit 9f5b9fb421cf67ad848e3aef31360d6bb45f618a
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 25 23:11:37 2010 +1000

    disambiguate sync action label and sync preferences tab (bug #622723)

 sources/rb-media-player-source.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b61f74342ab824f0ea8ab91a181d963d61935453
Author: Miloš Popović <mpopovic@src.gnome.org>
Date:   Fri Jun 25 14:56:38 2010 +0200

    Updated Serbian translation

 po/sr.po       | 2599 +-------------------------------------------------------
 po/sr@latin.po | 2599 +-------------------------------------------------------
 2 files changed, 4 insertions(+), 5194 deletions(-)

commit 734f33bd18407c511489747e793ec7e21d434504
Author: Miloš Popović <mpopovic@src.gnome.org>
Date:   Fri Jun 25 14:49:51 2010 +0200

    Updated Serbian translation

 po/sr.po       | 1956 +++++++++++++++++++++++++++++++-------------------------
 po/sr@latin.po | 1956 +++++++++++++++++++++++++++++++-------------------------
 2 files changed, 2164 insertions(+), 1748 deletions(-)

commit 0e9ae09634008997d4f9a339dc05fb63ff784289
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   Fri Jun 25 15:58:18 2010 +0300

    Updated Lithuanian translation

 po/lt.po | 1375 +++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 779 insertions(+), 596 deletions(-)

commit 0ba40582ee057cd0cfd73f21ca4e412d1c033266
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Fri Jun 25 13:52:04 2010 +0200

    Updated Hungarian translation

 po/hu.po |  967 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 519 insertions(+), 448 deletions(-)

commit 33405e334e390dd59dc7719c315ce70f35565e32
Author: Claude Paroz <claude@2xlibre.net>
Date:   Fri Jun 25 13:35:54 2010 +0200

    Remove translatable property on simple space char
    
    Fixes bug #614084

 data/ui/create-playlist.ui |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4380848c856783b646c5f8a8321e71254c3726ea
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 25 10:35:04 2010 +1000

    xfade: don't deference a potentially null stream

 backends/gstreamer/rb-player-gst-xfade.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8106a6c871f4a1e1477f09b94cab1c54aa5d2a27
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 24 22:30:37 2010 +1000

    import-errors: add an info bar allowing missing plugin install at any time
    
    The info bar is only displayed when there is at least one import error in
    the source that includes missing plugin information.  Clicking the button
    runs the installer for all missing plugins required for files currently in
    the import error source, and on successful install, attempts to import
    all of the files again.

 plugins/generic-player/rb-generic-player-source.c |   16 +-
 shell/rb-shell.c                                  |    5 +-
 sources/rb-import-errors-source.c                 |  251 ++++++++++++++++++++-
 sources/rb-import-errors-source.h                 |    4 +-
 4 files changed, 261 insertions(+), 15 deletions(-)

commit cd98d3aa4fcdc59d554586b5346b99370894efe0
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 24 22:27:41 2010 +1000

    rework missing-plugin helper to use direct function calls, not signals
    
    Now it gets initialized with a GtkWindow on startup, but after that it can
    be called directly from anywhere with just a list of plugin details and
    a closure to call on completion.  This simplifies using it in import jobs,
    and allows us to trigger plugin installation from the import error source.

 lib/Makefile.am                                   |    4 +-
 lib/rb-missing-plugins.c                          |  256 +++++++++++++++++
 lib/rb-missing-plugins.h                          |   37 +++
 plugins/generic-player/rb-generic-player-source.c |    4 -
 podcast/rb-podcast-manager.c                      |   16 +-
 rhythmdb/rhythmdb-import-job.c                    |   28 +--
 shell/Makefile.am                                 |    2 -
 shell/rb-missing-plugins.c                        |  303 ---------------------
 shell/rb-missing-plugins.h                        |   38 ---
 shell/rb-shell-player.c                           |   28 +--
 shell/rb-shell.c                                  |    2 +-
 sources/rb-library-source.c                       |    5 -
 12 files changed, 304 insertions(+), 419 deletions(-)

commit 30617c7a94bb253e8f54bc4dc92edc7eea76b8c8
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 24 22:24:45 2010 +1000

    rhythmdb: provide an error message for files with missing plugins

 rhythmdb/rhythmdb.c |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit 6c704ee04b3fa8c9c79e73e8c6429605ebd33c27
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 24 16:28:10 2010 +1000

    status-icon: only restore visibility from gconf when autostarted (bug #537868)
    
    When explicitly started by the user, we should always show the main window so
    the user isn't left wondering what happened.

 plugins/status-icon/rb-status-icon-plugin.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 3d6a5b50befcc6571f75bd74729deac931ea1ef1
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 24 16:26:50 2010 +1000

    shell: add 'autostarted' property
    
    This is set based on the DESKTOP_AUTOSTART_ID environment variable, which
    when set indicates that the app was started automatically by the session manager.

 shell/main.c     |    5 ++++-
 shell/rb-shell.c |   26 +++++++++++++++++++++++++-
 shell/rb-shell.h |    1 +
 3 files changed, 30 insertions(+), 2 deletions(-)

commit 77629bd5871bef161c981905b20064899d91a9b4
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 23 11:28:33 2010 +1000

    song-info: only try to set up comment widgetry for single track case

 widgets/rb-song-info.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 5dadebf21ea870ca8a5a3d34e7ca261dfbaea71b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 22 19:44:31 2010 +1000

    xfade: add redirect handling, rework stream preroll error handling
    
    To handle redirect messages correctly, we need to process bus messages posted
    during stream preroll, and avoid returning an error from rb_player_open to allow
    the redirect or error handling logic to take effect.

 backends/gstreamer/rb-player-gst-xfade.c |   35 ++++++++++++++++++------------
 1 files changed, 21 insertions(+), 14 deletions(-)

commit 4ae911249b516b59e80c434fda102cb352e805ea
Author: Robert Ancell <robert.ancell@gmail.com>
Date:   Tue Jun 22 19:41:33 2010 +1000

    add player 'redirect' signal for dealing with GStreamer redirects (bug #581885)
    
    The main use for these at present is for redirects from mms:// URIs to rtsp://,
    which happens when mmssrc fails to connect to an mms stream.  We handle the redirect
    by stopping the current stream, updating the URI for the database entry, then trying to
    play it again.

 backends/gstreamer/rb-player-gst.c |    5 +++-
 backends/rb-player.c               |   35 ++++++++++++++++++++++++++++++++++
 backends/rb-player.h               |    4 +++
 lib/rb-marshal.list                |    1 +
 shell/rb-shell-player.c            |   37 +++++++++++++++++++++++++++++++++--
 5 files changed, 78 insertions(+), 4 deletions(-)

commit b567cce324327f750bd6e059d87422c68d3f98c4
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 22 14:44:40 2010 +1000

    rhythmdb: add missing glib-object.h include

 rhythmdb/rb-refstring.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4248dc39fdd9dc0f64d1018bd7f3e2feb46cbff6
Author: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>
Date:   Mon Jun 21 07:35:13 2010 +0200

    fix build with gtk+ 2.21.1 or newer
    
    Use accessors to access to struct members since gdk has been gsealed
    in gtk+ 2.21.1
    Remove by the way old gtk version checks no longer necessary since we
    now depend on gtk+ 2.18.0

 lib/gseal-gtk-compat.h        |   31 +++++++++----------------------
 lib/rb-tree-dnd.c             |   10 ++++++----
 sources/rb-sourcelist-model.c |    7 +++++--
 3 files changed, 20 insertions(+), 28 deletions(-)

commit 9438fa25356479568f1b67a3273166cd4cbefa6f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 22 14:21:59 2010 +1000

    update eggsmclient from libegg

 lib/eggdesktopfile.c   |   83 ++++++++++++++++++++++++++++++++++++-----------
 lib/eggdesktopfile.h   |    8 +++-
 lib/eggsmclient-xsmp.c |   12 +++---
 lib/eggsmclient.c      |   29 +++++++++++++----
 4 files changed, 97 insertions(+), 35 deletions(-)

commit 7a7da983eaf86efad3134ee7e4d8f1506228a6f1
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Sun Jun 20 02:25:05 2010 +0200

    Update Galician translations

 po/gl.po |  276 ++++++++++++++++++++++++++++++++------------------------------
 1 files changed, 141 insertions(+), 135 deletions(-)

commit 84c78f361b8afc11aa8a8c7a728cb74e8331a6df
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Sat Jun 19 11:42:39 2010 +0200

    Updated Slovenian translation

 po/sl.po |  582 ++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 305 insertions(+), 277 deletions(-)

commit d9e916ba7e2db17abc01e30bf30e79d7f5aad1a6
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Jun 19 14:28:27 2010 +1000

    rhythmdb: minor tweaks to import error and missing plugin handling

 rhythmdb/rhythmdb-import-job.c |    4 ++--
 rhythmdb/rhythmdb.c            |   31 +++++++++++++++++++------------
 2 files changed, 21 insertions(+), 14 deletions(-)

commit 6d9c501709abd749846c643408d583590ca3ff7b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Jun 19 11:48:38 2010 +1000

    last.fm: remove GeditMessageArea, use GtkInfoBar instead
    
    This was the only place we used GeditMessageArea, so we can remove
    our copy of it.

 doc/reference/Makefile.am                 |    1 -
 plugins/audioscrobbler/rb-lastfm-source.c |   18 +-
 widgets/Makefile.am                       |    2 -
 widgets/gedit-message-area.c              |  640 -----------------------------
 widgets/gedit-message-area.h              |  137 ------
 5 files changed, 9 insertions(+), 789 deletions(-)

commit e42ed5051b95fcdce827085535180d3544effb90
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Jun 19 11:23:07 2010 +1000

    increase gtk+ version requirement to 2.18.0

 configure.ac                              |    2 +-
 plugins/audiocd/rb-audiocd-source.c       |   10 ++++------
 plugins/visualizer/rb-visualizer-plugin.c |   20 +-------------------
 3 files changed, 6 insertions(+), 26 deletions(-)

commit 530890f9c4b2d88a58ffd522b1e015c412737fc2
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 23:49:36 2010 +1000

    rhythmdb: simplify metadata load handling code

 rhythmdb/rhythmdb.c |  136 ++++++++++++++++----------------------------------
 1 files changed, 44 insertions(+), 92 deletions(-)

commit 665226c59f908db1f899d2012070eeaab5d69732
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 22:15:38 2010 +1000

    rhythmdb: implement plugin installation in RhythmDBImportJob
    
    At the end of an import job, we check if any of the import error entries
    created included plugin installer detail strings, and if so, we emit
    a missing-plugins signal for the plugin install code.  When the plugin
    install finishes successfully, we retry the imports that resulted in
    missing plugin errors.
    
    This approach means that we don't process missing plugins for files imported
    outside of a RhythmDBImportJob, which currently includes files picked up by
    the library crawl on startup or by library monitoring.  This is probably
    a good thing, on the whole.

 plugins/generic-player/rb-generic-player-source.c |    9 ++-
 rhythmdb/rhythmdb-import-job.c                    |  134 ++++++++++++++++++++-
 shell/rb-missing-plugins.c                        |    9 ++
 shell/rb-missing-plugins.h                        |    3 +
 sources/rb-library-source.c                       |    8 ++
 5 files changed, 159 insertions(+), 4 deletions(-)

commit 245d5d40d5e4b9cdf5b229b7e2ab9c0a52960d3f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 22:14:57 2010 +1000

    remove 'descriptions' arg from missing-plugins signals
    
    We never used it for anything anyway.

 lib/rb-marshal.list          |    1 +
 podcast/rb-podcast-manager.c |    6 +++---
 shell/rb-missing-plugins.c   |    1 -
 shell/rb-shell-player.c      |    9 ++++-----
 4 files changed, 8 insertions(+), 9 deletions(-)

commit 19041d3bf2779c654e3b20199074fe33f94eff5c
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 20:09:59 2010 +1000

    rhythmdb: remove missing plugin handling for metadata loading
    
    The previous code used complicated locking and blocked further metadata
    loads while attempting to install plugins.  Instead, we now create
    import error entries immediately, storing the plugin installer detail
    strings in the 'comment' field so we can collect them later.

 rhythmdb/rhythmdb-private.h |    3 -
 rhythmdb/rhythmdb.c         |  129 +++++++------------------------------------
 shell/rb-missing-plugins.c  |    9 ---
 3 files changed, 20 insertions(+), 121 deletions(-)

commit c852f5a51e5990b062af37ddb8e388df436f8e09
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 18:43:26 2010 +1000

    rhythmdb: add 'not equal' property query operator (bug #612867)

 rhythmdb/rhythmdb-query.c             |   43 ++++++++++++++++
 rhythmdb/rhythmdb-tree.c              |    4 ++
 rhythmdb/rhythmdb.c                   |    2 +
 rhythmdb/rhythmdb.h                   |    2 +
 tests/test-rhythmdb-query-model.c     |   90 ++++++++++++++++++++++++++++++---
 widgets/rb-query-creator-properties.c |    4 ++
 6 files changed, 137 insertions(+), 8 deletions(-)

commit 38c71816b76c0e37a06b6c461b50327bf8ffd0e2
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 18:28:01 2010 +1000

    rhythmdb: fix signal handler prototype and test case for entry-changed

 rhythmdb/rhythmdb.h   |    2 +-
 tests/test-rhythmdb.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit cddb1311c5987c612b112960cde14e60cd0ba05d
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 11:45:41 2010 +1000

    mpris: add some debug output for track change events

 plugins/mpris/rb-mpris-plugin.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 9079d6be64cce2e060ebe78ba78b868713e1a39b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 11:43:18 2010 +1000

    artdisplay: cache art extracted from file tags
    
    The main reason we're doing this is so we can provide a URL for the
    image so that dbus clients can access it.

 plugins/artdisplay/artdisplay/CoverArtDatabase.py |   19 +++++++++++++------
 plugins/artdisplay/artdisplay/__init__.py         |    6 +++++-
 2 files changed, 18 insertions(+), 7 deletions(-)

commit 5db3c82590681109af3e37618a243b70e46d8dab
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 18 11:40:53 2010 +1000

    artdisplay: provide cached image locations as URLs rather than paths

 plugins/artdisplay/artdisplay/CoverArtDatabase.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 1d210e30f4e87d6cbf2c8e9537f99e6ad354ca56
Author: Luca Ferretti <lferrett@gnome.org>
Date:   Thu Jun 17 23:39:33 2010 +0200

    fix installation path for 256x256 app icon

 data/icons/hicolor/256x256/apps/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 402b2db8a80e2ba1cba85fc4516c9c76b29cafec
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 17 15:46:29 2010 +1000

    rhythmdb: use correct entry types when retrying after plugin install
    
    The entry types from the original metadata load event are still in the
    event structure, so we should use them rather than defaulting to 'song'
    type.  If the plugin install was triggered by scanning files on a
    media player device, we don't want to import the file into the library.

 rhythmdb/rhythmdb.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit c8a2377752a0f5682821ecdd34f0bb6003ce5d4f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 16 17:50:14 2010 +1000

    mtp: delete empty folders after deleting tracks (bug #593641)
    
    After deleting a set of tracks, we now check the folders that we
    deleted from, deleting them if they are now empty.  Empty parent
    folders are also deleted, all the way up to the root.

 plugins/mtpdevice/rb-mtp-source.c |   96 +++++++++++++++++++++++++++++++++++--
 1 files changed, 91 insertions(+), 5 deletions(-)

commit e202f5b5034fced1ac2342415f1c83c02f3c9872
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 16 17:48:46 2010 +1000

    mtp: upload files to artist/album/ subfolders (bug #593641)

 plugins/mtpdevice/rb-mtp-source.c |   31 +++++++++++++++++++++++++++----
 1 files changed, 27 insertions(+), 4 deletions(-)

commit a9255ecc3a4cec6161fd19610ec128244cc76e48
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 16 17:47:32 2010 +1000

    mtp: add folder path property on the mtp device upload sink
    
    If the sink is given a folder path, it will create or locate the
    corresponding folder on the device and use that as the target for
    the upload.  If the folder cannot be created, the file is uploaded
    to the default music folder instead.

 plugins/mtpdevice/rb-mtp-gst-sink.c |   59 +++++++++++++++++++++++++++++++++-
 1 files changed, 57 insertions(+), 2 deletions(-)

commit 8681fbf07afc816c90d3d31e3ebdf40de561b5c1
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 16 17:45:31 2010 +1000

    mtp: add thread task for folder creation
    
    Given a sequence of path name components, this locates or creates
    a corresponding folder on the device, then calls the callback with
    the folder ID.

 plugins/mtpdevice/rb-mtp-thread.c |   96 +++++++++++++++++++++++++++++++++++++
 plugins/mtpdevice/rb-mtp-thread.h |    8 +++
 2 files changed, 104 insertions(+), 0 deletions(-)

commit c038ea1ebd7af2c3e6064a6859da950aae12b89c
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 15 23:04:47 2010 +1000

    vala: dist .vapi files

 bindings/vala/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 22f43cbc01792ecce0ed002ca86ba71c848604cc
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 15 22:56:00 2010 +1000

    replaygain: add workaround for pygobject/gst-python refcount problems
    
    The problem only seems to affect ghost pads, so maybe if we split the
    rgvolume ! rglimiter filter into two, it'll work.

 plugins/replaygain/replaygain/player.py |   27 +++++++++++++++++++--------
 1 files changed, 19 insertions(+), 8 deletions(-)

commit 8db05c1960891e7e94b4a12123814814935112ae
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 15 16:21:59 2010 +1000

    rhythmdb: bump database version, reload all metadata
    
    This will ensure that various sortnames, album artist, BPM and comment
    are all read from tags.
    
    Mountpoints for local files are going to become important soon, so make
    sure those are up to date too.

 rhythmdb/rhythmdb-tree.c |   31 +++++++++++++++++++++++++++++--
 rhythmdb/rhythmdb.c      |    2 +-
 2 files changed, 30 insertions(+), 3 deletions(-)

commit 809738b654974d9b24fc25f39623462f81d22558
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 15 13:46:58 2010 +1000

    rhythmdb: convert property enum into an array of structures
    
    This makes the rhythmdb property enum introspection-friendly and
    gets rid of the weird string parsing stuff used to generate the
    property type information.

 rhythmdb/rhythmdb-private.h |    2 -
 rhythmdb/rhythmdb.c         |  257 +++++++++++++++++--------------------------
 2 files changed, 100 insertions(+), 159 deletions(-)

commit 9fd4da43e03753ca86fe88d3eac49efbad84e125
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 15 09:27:53 2010 +1000

    fix value nicks for most GEnum types for GObject introspection
    
    We don't actually use the value nicknames at all, so changing them
    doesn't break anything.

 backends/rb-encoder.c              |   12 +++++-----
 backends/rb-player.c               |   12 +++++-----
 lib/libmediaplayerid/mpid-util.c   |   14 ++++++------
 metadata/rb-metadata-common.c      |   16 ++++++--------
 plugins/mtpdevice/rb-mtp-thread.c  |    6 ++--
 rhythmdb/rhythmdb-property-model.c |    6 ++--
 rhythmdb/rhythmdb-query-model.c    |    8 +++---
 rhythmdb/rhythmdb.c                |   38 +++++++++++++++++-----------------
 shell/rb-shell-player.c            |   10 ++++----
 shell/rb-shell.c                   |   10 ++++----
 sources/rb-source-group.c          |    8 +++---
 sources/rb-source.c                |   14 ++++++------
 sources/rb-sourcelist-model.c      |   16 +++++++-------
 widgets/rb-entry-view.c            |   40 ++++++++++++++++++------------------
 14 files changed, 104 insertions(+), 106 deletions(-)

commit 3b7ef7b8eabc6960e5d782b6e57d9d9b6be8c20a
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Jun 14 13:15:36 2010 +1000

    rhythmdb: move new properties to the end so values don't change

 rhythmdb/rhythmdb.h |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 00c36b1dff056c2bc19a153cf596472dbd8e523d
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Jun 14 12:04:36 2010 +1000

    prefs: rearrange visible column checkboxes into 3 columns

 data/ui/general-prefs.ui |   99 ++++++++++++++++++++++++---------------------
 1 files changed, 53 insertions(+), 46 deletions(-)

commit bbf7dc33763b0d2f17214ca0f0284643891dd0c1
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Sun Jun 13 16:37:51 2010 +0200

    Updated Galician translations

 po/gl.po |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 62610508c3bc6090e5b2213391296462ebce6c2c
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Sun Jun 13 16:36:00 2010 +0200

    Updated Galician translations

 po/gl.po |  955 ++++++++++++++++++++++++++++++++++++--------------------------
 1 files changed, 562 insertions(+), 393 deletions(-)

commit b104ebb72067165d0d007551f10713f737048be3
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sat Jun 12 21:20:04 2010 +0200

    Updated German translation

 po/de.po |  464 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 256 insertions(+), 208 deletions(-)

commit 512f875ebc36a72bc6e2f9ad5fcba5ddc821b6f8
Author: Mattias Eriksson <snaggen@acc.umu.se>
Date:   Sat Jun 12 22:45:22 2010 +1000

    add support for beats per minute tag (bug #454889)

 backends/gstreamer/rb-encoder-gst.c   |    7 ++++
 bindings/python/rb.defs               |    1 +
 data/ui/general-prefs.ui              |   30 +++++++++++++----
 data/ui/song-info.ui                  |   58 ++++++++++++++++++++++++++++++--
 metadata/rb-metadata-common.c         |    3 ++
 metadata/rb-metadata-gst-common.c     |    4 ++
 metadata/rb-metadata.h                |    1 +
 rhythmdb/rhythmdb-private.h           |    1 +
 rhythmdb/rhythmdb-tree.c              |    3 ++
 rhythmdb/rhythmdb.c                   |   49 +++++++++++++++++++--------
 rhythmdb/rhythmdb.h                   |    1 +
 shell/rb-shell-preferences.c          |   10 +++++-
 sources/rb-browser-source.c           |    1 +
 sources/rb-playlist-source.c          |    1 +
 widgets/rb-entry-view.c               |   36 ++++++++++++++++++++
 widgets/rb-entry-view.h               |    1 +
 widgets/rb-query-creator-properties.c |   49 ++++++++++++++++++++++++++-
 widgets/rb-song-info.c                |   35 ++++++++++++++++++-
 18 files changed, 260 insertions(+), 31 deletions(-)

commit bbe4279d20f3e9cd6fe3562ec87607276c9b5d7d
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Fri Jun 11 19:28:25 2010 +0200

    Updated Slovenian translation

 po/sl.po |  331 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 176 insertions(+), 155 deletions(-)

commit 1959bde6d3117c1aff55e7470d0576458243990f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 11 23:13:01 2010 +1000

    rhythmdb: process file move events (bug #620857)
    
    When built against glib 2.24 or newer, we can request file move events
    from the file monitor.  We handle file move events by just updating the
    location of the entry, or deleting it if an entry already exists for the
    new location.
    
    While we're in there, simplify processing of file create/modify and delete
    events.  We don't need to send the event through the rhythmdb event queue,
    we can just make the required changes directly.  In the case of new files,
    we can just pass the URI to rhythmdb_add_uri().
    
    Based on a patch by Philipp Kerling <k.philipp@gmail.com>

 rhythmdb/rhythmdb-monitor.c |   60 +++++++++++++++++++++++++++++++++----------
 rhythmdb/rhythmdb-private.h |    2 -
 rhythmdb/rhythmdb.c         |   54 +++++---------------------------------
 3 files changed, 53 insertions(+), 63 deletions(-)

commit 0084bf26e69c030d3ff83f142d97430b8adac253
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   Fri Jun 11 18:51:54 2010 +0700

    Updated Thai translation.

 po/th.po |  259 ++++++++++++++++++++++++--------------------------------------
 1 files changed, 99 insertions(+), 160 deletions(-)

commit e2c2de474a6f6403083d48d175315f73c735e93d
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 11 19:53:13 2010 +1000

    generic-player: use album artist where possible to build filenames

 plugins/generic-player/rb-generic-player-source.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 8ba7bd98834034945b4b2f1b42c635384eae91d7
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 11 19:23:29 2010 +1000

    mpris: dist mpris-spec.h

 plugins/mpris/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7c1ba360ae83450fa3204aaf4cd2820bc7019b9c
Author: Sira Nokyoongtong <gumaraa@gmail.com>
Date:   Fri Jun 11 15:47:32 2010 +0700

    Updated Thai translation.

 po/th.po | 3003 ++++++++++++++++++++++++++++++++++++++------------------------
 1 files changed, 1834 insertions(+), 1169 deletions(-)

commit b36da7822db0b95ce61b4e5b7c170416f8f86fa2
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 11 15:36:52 2010 +1000

    artdisplay: use album artist in preference to track artist where available

 plugins/artdisplay/artdisplay/CoverArtDatabase.py  |   23 +++++++++++--------
 .../artdisplay/artdisplay/LastFMCoverArtSearch.py  |    4 ++-
 .../artdisplay/artdisplay/LocalCoverArtSearch.py   |   15 +++++++++---
 3 files changed, 27 insertions(+), 15 deletions(-)

commit fd44f9ba6a77ef28750d1d4eed98e617e380a826
Author: Christophe Fergeau <cfergeau@mandriva.com>
Date:   Thu Jun 10 12:08:48 2010 +0200

    add album artist support to ipod plugin
    
    This reads/writes the new album artist and album artist sort name
    from iPods.

 plugins/ipod/rb-ipod-source.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 037e04efa59c8ea1e233d9f88ee619028463feca
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 10 16:57:58 2010 +1000

    add album-artist and album-artist-sortname fields
    
    We don't do anything particularly intelligent with album artist
    information yet, but at least we'll have it in the database now.

 data/ui/song-info-multiple.ui         |   91 ++++++++++++----
 data/ui/song-info.ui                  |  105 +++++++++++++----
 metadata/rb-metadata-common.c         |    6 +
 metadata/rb-metadata-gst-common.c     |   12 ++
 metadata/rb-metadata.h                |    4 +-
 plugins/audiocd/rb-audiocd-source.c   |  100 ++++-------------
 rhythmdb/rhythmdb-private.h           |    2 +
 rhythmdb/rhythmdb-tree.c              |   12 ++-
 rhythmdb/rhythmdb.c                   |   49 ++++++++
 rhythmdb/rhythmdb.h                   |    8 +-
 sources/rb-library-source.c           |   27 ++---
 widgets/rb-query-creator-properties.c |    2 +
 widgets/rb-song-info.c                |  200 +++++++++++++++++----------------
 13 files changed, 380 insertions(+), 238 deletions(-)

commit 1dff93f6a3a407402d0343697563967dfb2f3ab1
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 10 16:56:50 2010 +1000

    song-info: add a shadow around the comment text box

 data/ui/song-info.ui |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f72249439478c5ba2a96656e0672a500dd283e13
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Jun 10 12:54:19 2010 +1000

    add implementation of the MPRIS D-Bus spec
    
    This is a new hidden plugin, enabled by default, using GDBus.
    As a result, it is only built when glib 2.26 or newer is available.
    
    The tracklist object has not been implemented.  It doesn't quite
    fit into how rhythmbox works, so it probably won't be implemented
    unless we need it for something interesting.

 configure.ac                     |    8 +-
 data/rhythmbox.schemas           |   22 ++
 plugins/Makefile.am              |    4 +
 plugins/mpris/Makefile.am        |   38 +++
 plugins/mpris/mpris-spec.h       |   66 ++++
 plugins/mpris/mpris.rb-plugin.in |    8 +
 plugins/mpris/rb-mpris-plugin.c  |  675 ++++++++++++++++++++++++++++++++++++++
 7 files changed, 820 insertions(+), 1 deletions(-)

commit 6634b70cc8d5a7446c55dfc7b15f0ee020aa37bf
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 9 19:43:05 2010 +1000

    python: fix parent class for auto and static playlist sources

 bindings/python/rb.defs |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 23c1332ddc84db348388d083e45ed63cca79cf38
Author: Vassilis Bitsikas <v.bitsikas@gmail.com>
Date:   Tue Jun 8 12:55:42 2010 +0300

    Updated Greek translation

 po/el.po | 1316 +++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 750 insertions(+), 566 deletions(-)

commit c008140e6de008519647ca5f2eda417bec1453db
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Mon Jun 7 15:11:30 2010 +0200

    Updated Slovenian translation

 po/sl.po |  919 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 507 insertions(+), 412 deletions(-)

commit 2cda84a4844ce29d157d2c3532b39f272804fe2e
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Jun 7 22:44:44 2010 +1000

    fix various impl_get_status methods to not return progress 0.0
    
    The annoying bit here is that Python implementations don't have a way to
    decline to return a progress value, so for Magnatune and Jamendo we
    return 2.0 (anything greater than 1.0 means 'hide the progress bar')
    unless we have a specific value to return.  This means we lose the
    progress value from rhythmdb for these sources, unfortunately.

 plugins/daap/rb-daap-source.c                  |   10 ----------
 plugins/jamendo/jamendo/JamendoSource.py       |    2 +-
 plugins/magnatune/magnatune/MagnatuneSource.py |    2 +-
 sources/rb-streaming-source.c                  |    2 +-
 4 files changed, 3 insertions(+), 13 deletions(-)

commit aff22ccc9654b961de49b7f466047669cbab265c
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sun Jun 6 22:58:39 2010 +0200

    Updated German translation

 po/de.po |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8aec704c0e2429bff94f664305eea88f04037a9
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sun Jun 6 22:57:26 2010 +0200

    Updated German translation

 po/de.po |  808 +++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 462 insertions(+), 346 deletions(-)

commit cd3e56ea9737191a224543c00e0a6e39d6076c02
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Sat Jun 5 19:22:50 2010 +0200

    Updated Hungarian translation

 po/hu.po |   42 +++++++++++++++++-------------------------
 1 files changed, 17 insertions(+), 25 deletions(-)

commit 7fc4884c1f85315fc99de4bacb641a6b5fa9e68d
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Sat Jun 5 18:57:51 2010 +0200

    Updated Hungarian translation

 po/hu.po |  894 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 493 insertions(+), 401 deletions(-)

commit 60a7be81dd4e907dbd0a4011f68a46dcfa371354
Author: W. Michael Petullo <mike@flyn.org>
Date:   Fri Jun 4 12:54:13 2010 -0500

    Adapt to small change in latest libdmapsharing API
    
    In order to make it easier to write memory efficient DMAPContainerRecord
    implementations, the libdmapsharing API changed slightly. Modify Rhythmbox
    to use the new API and require libdmapsharing 1.9.0.21.
    Signed-off-by: W. Michael Petullo <mike@flyn.org>

 configure.ac                            |    2 +-
 plugins/daap/rb-daap-container-record.c |    2 +-
 plugins/daap/rb-daap-container-record.h |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit e7b351c5affd3126cf383f3f1d4cb3c05935e0d8
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 4 22:39:59 2010 +1000

    media-player: change the label on the sync dialog cancel button
    
    Instead of it saying "cancel", it now says "don't sync".  We don't want
    to give the impression that pressing it will restore the sync settings
    back to how they were before the dialog.

 sources/rb-media-player-source.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b9494c6d04e7b2e9fae959c1bf29ecbca7198c0
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 4 20:52:42 2010 +1000

    podcast: set size request for the podcast description container
    
    Otherwise, the podcast properties window width depends mostly on the
    feed name, which often isn't wide enough for the description to be
    readable.

 data/ui/podcast-properties.ui |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 67d9571388384f98c2de96d3185461b865f346ab
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 4 16:00:59 2010 +1000

    media-player: display dialog to allow user to correct sync settings
    
    If the user hasn't selected anything to sync or the selected items
    would not fit on the device, we now display a sync settings dialog when
    the user tries to sync.  This allows the user to fix the settings and
    then continue or alternatively cancel the sync.

 data/ui/Makefile.am              |    1 +
 data/ui/sync-dialog.ui           |  113 ++++++++++++++++++++++
 po/POTFILES.in                   |    1 +
 sources/rb-media-player-source.c |  193 ++++++++++++++++++++++++++++++++------
 4 files changed, 279 insertions(+), 29 deletions(-)

commit 073efe208fce7690a8c053a8238d244558135061
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 4 15:55:49 2010 +1000

    sync: split sync state and settings UI code up into three new classes
    
    The purpose of this is to allow us to use the sync settings and state
    widgets in other places.  It's still tied directly to the media player
    source class.

 configure.ac                                      |    1 +
 data/ui/Makefile.am                               |    1 +
 data/ui/media-player-properties.ui                |  117 +---
 data/ui/sync-state.ui                             |  110 +++
 plugins/generic-player/Makefile.am                |    1 +
 plugins/generic-player/rb-generic-player-source.c |    2 +-
 plugins/ipod/Makefile.am                          |    3 +-
 plugins/ipod/rb-ipod-source.c                     |    2 +-
 plugins/mtpdevice/Makefile.am                     |    3 +-
 plugins/mtpdevice/rb-mtp-source.c                 |    2 +-
 po/POTFILES.in                                    |    3 +
 shell/Makefile.am                                 |    1 +
 sources/Makefile.am                               |    9 +-
 sources/rb-media-player-source.c                  |  880 ++-------------------
 sources/rb-media-player-source.h                  |    6 +
 sources/rb-media-player-sync-settings.c           |  426 ----------
 sources/rb-media-player-sync-settings.h           |   99 ---
 sources/sync/Makefile.am                          |   33 +
 sources/sync/rb-sync-settings-ui.c                |  415 ++++++++++
 sources/sync/rb-sync-settings-ui.h                |   67 ++
 sources/sync/rb-sync-settings.c                   |  443 +++++++++++
 sources/sync/rb-sync-settings.h                   |   99 +++
 sources/sync/rb-sync-state-ui.c                   |  332 ++++++++
 sources/sync/rb-sync-state-ui.h                   |   83 ++
 sources/sync/rb-sync-state.c                      |  552 +++++++++++++
 sources/sync/rb-sync-state.h                      |   91 +++
 26 files changed, 2320 insertions(+), 1461 deletions(-)

commit a19e5181ae3555cecb150bf5ab3c724ca3154943
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Jun 4 10:43:21 2010 +1000

    update POTFILES.in for recent changes

 po/POTFILES.in |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 6c16a9337e2bdd78b1f42ae6878a274f73637f73
Author: G Karunakar <karunakar@indlinux.org>
Date:   Thu Jun 3 03:47:45 2010 +0530

    Updated Hindi translation by Karthik Peri

 po/hi.po | 1661 ++++++++++++++++++++++++++++++++------------------------------
 1 files changed, 847 insertions(+), 814 deletions(-)

commit b725043b33db2d4e9c575010eb0169216e8260a9
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 2 19:13:50 2010 +1000

    fix sample-vala plugin build

 plugins/sample-vala/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 784527b7ef5f6d6af301082b53cc680a2e912bce
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 2 19:13:29 2010 +1000

    re-add rb-missing-plugins.h to the list of source files

 shell/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 6e6264ba49adf58d4466164bd7a2c5ae098696c5
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 2 18:56:27 2010 +1000

    source: add default for impl_can_pause (bug #620256)

 sources/rb-browser-source.c  |    1 -
 sources/rb-playlist-source.c |    1 -
 sources/rb-podcast-source.c  |    1 -
 sources/rb-source.c          |    1 +
 4 files changed, 1 insertions(+), 3 deletions(-)

commit b8b6e5b595035fd8c37233fcb5ae56424c13950b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Jun 2 18:30:17 2010 +1000

    mtp: add separators to the popup to match other media players

 plugins/mtpdevice/mtp-ui.xml |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 1f022ab48f4191026fd59be1e49fda2a72dd921f
Author: Bastien Nocera <hadess@hadess.net>
Date:   Tue Jun 1 19:12:09 2010 +0100

    Fix numbering
    
    Older versions of totem-pl-parser will not parse PLS files
    with holes in the numbering. Fix in gnome-2-28 and master.

 plugins/iradio/iradio-initial.pls |   40 ++++++++++++++++++------------------
 1 files changed, 20 insertions(+), 20 deletions(-)

commit f7e52fd3be1f2b7267f76a3f08f74606e7bd4688
Author: Bastien Nocera <hadess@hadess.net>
Date:   Tue Jun 1 18:35:55 2010 +0100

    Remove WBUR radio
    
    Requests for playlist yield empty content.

 plugins/iradio/iradio-initial.pls |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit 42d8e55038a18c905082a990ee2887fc67605feb
Author: Lubomir Rintel <lkundrak@v3.sk>
Date:   Sun May 9 12:43:23 2010 -0400

    Add Absolute dabbl radio
    
    So that we fill the gap after Xtreme radio. :)

 plugins/iradio/iradio-initial.pls |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit a70d9937de2305b9bb08f0b5de1a3205b471ec58
Author: Lubomir Rintel <lkundrak@v3.sk>
Date:   Sun May 9 12:40:52 2010 -0400

    Remove Absolute Xtreme radio
    
    Requests for playlist yield empty content, the service apparently no
    longer exists.

 plugins/iradio/iradio-initial.pls |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 8f88ee707578061d1122dddc4c40952fde8e9a6f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 1 13:06:32 2010 +1000

    python: fix type conversion for query parameters
    
    Convert query parameter values to the type required for the property,
    rather than the closest GType for the python value we get.  This makes
    it possible to query on numeric parameters.  Also add binding for
    rhythmdb_query_to_string, which I used to check this was working.

 bindings/python/rhythmdb.defs     |    9 +++++++++
 bindings/python/rhythmdb.override |   16 +++++-----------
 2 files changed, 14 insertions(+), 11 deletions(-)

commit bd389d8e8a2b1f3a914dcd4bb17e75fb8837d78a
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Jun 1 10:55:27 2010 +1000

    rb-client: rename 'pause' to avoid conflict with pause(2) (bug #620199)

 remote/dbus/rb-client.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit dd8555ea48db4489b60013a4b18c394255f68037
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon May 31 22:28:06 2010 +1000

    mtp: report out-of-space errors on track upload

 plugins/mtpdevice/rb-mtp-thread.c |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit cb66376f6cd43edacc278cf6b5f22a97ebdde0e6
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Mon May 31 13:38:30 2010 +0200

    Updated Galician translations

 po/gl.po |   68 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 34 insertions(+), 34 deletions(-)

commit f0cd97aa8f79b3566e9619095ada7980d1577da7
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon May 31 20:30:42 2010 +1000

    encoder: remove output file when being cancelled

 backends/gstreamer/rb-encoder-gst.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit d54129f55a37ebbc73c0cb68d22e59a02515058a
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon May 31 20:24:41 2010 +1000

    transfer-queue: rearrange batch API to be easier to use
    
    Prefix methods for use by the queue only with underscores,
    remove rb_track_transfer_batch_next, since it's only used by the batch
    itself, and add a new rb_track_transfer_batch_cancel that just calls
    rb_track_transfer_queue_cancel_batch.

 bindings/python/rb.defs         |   15 --------------
 shell/rb-track-transfer-batch.c |   40 ++++++++++++++++++++++----------------
 shell/rb-track-transfer-batch.h |    9 +++++--
 shell/rb-track-transfer-queue.c |   14 ++++++------
 4 files changed, 36 insertions(+), 42 deletions(-)

commit d349386c0987418e4208bae1136946f29efd0060
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon May 31 12:41:25 2010 +1000

    encoder: fix double free of error information

 backends/gstreamer/rb-encoder-gst.c |   12 ++++--------
 1 files changed, 4 insertions(+), 8 deletions(-)

commit 821b46bdefbcaca8065ac51fb411c92ff684d578
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:   Sun May 30 22:45:53 2010 +0200

    data/ui/media-player-properties.ui: Added translator hint (Bug #619925).

 data/ui/media-player-properties.ui |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ad6f038050522446732e85bf66c56e0586f9b00c
Author: Josh Green <jgreen@users.sourceforge.net>
Date:   Sun May 30 20:21:39 2010 +1000

    add support for 'comment' tag (bug #560940)
    
    The comment tag can now be displayed as an entry view column and in song
    info dialogs, and can also be used in auto playlist criteria.

 backends/gstreamer/rb-encoder-gst.c   |    1 +
 data/ui/general-prefs.ui              |   22 +++++++++++++++++-
 data/ui/song-info.ui                  |   39 ++++++++++++++++++++++++++++++--
 rhythmdb/rhythmdb-private.h           |    1 +
 rhythmdb/rhythmdb-tree.c              |    3 ++
 rhythmdb/rhythmdb.c                   |   21 +++++++++++++++++
 rhythmdb/rhythmdb.h                   |    1 +
 shell/rb-shell-preferences.c          |    8 ++++++
 sources/rb-browser-source.c           |    1 +
 sources/rb-playlist-source.c          |    1 +
 widgets/rb-entry-view.c               |   16 +++++++++++++
 widgets/rb-entry-view.h               |    1 +
 widgets/rb-query-creator-properties.c |    2 +
 widgets/rb-song-info.c                |   33 +++++++++++++++++++++++++++
 14 files changed, 146 insertions(+), 4 deletions(-)

commit ef580491b70233cbcb17416b8fadcdda3ac89829
Author: W. Michael Petullo <mike@flyn.org>
Date:   Sat May 29 13:04:18 2010 -0500

    Patch to replace DAAP-related code with libdmapsharing
    
    This patch requires libdmapsharing 1.9.0.20. Receiving playlists as a
    client, receiving songs as a client, serving songs, serving playlists
    and password-protected shares have survived basic testing. This
    patch integrates with the new artist and album sort order code in
    libdmapsharing.
    Signed-off-by: W. Michael Petullo <mike@flyn.org>

 configure.ac                                       |   48 +-
 plugins/Makefile.am                                |    2 +-
 plugins/daap/Makefile.am                           |   54 +-
 plugins/daap/rb-daap-connection.c                  | 1894 --------------------
 plugins/daap/rb-daap-connection.h                  |  120 --
 plugins/daap/rb-daap-container-record.c            |  183 ++
 plugins/daap/rb-daap-container-record.h            |   75 +
 plugins/daap/rb-daap-hash.c                        |  518 ------
 plugins/daap/rb-daap-hash.h                        |   46 -
 plugins/daap/rb-daap-mdns-avahi.c                  |  122 --
 plugins/daap/rb-daap-mdns-avahi.h                  |   40 -
 plugins/daap/rb-daap-mdns-browser-avahi.c          |  405 -----
 plugins/daap/rb-daap-mdns-browser.h                |   91 -
 plugins/daap/rb-daap-mdns-publisher-avahi.c        |  423 -----
 plugins/daap/rb-daap-mdns-publisher.h              |   98 -
 plugins/daap/rb-daap-plugin.c                      |   86 +-
 plugins/daap/rb-daap-record-factory.c              |   77 +
 plugins/daap/rb-daap-record-factory.h              |   67 +
 plugins/daap/rb-daap-record.c                      |  412 +++++
 plugins/daap/rb-daap-record.h                      |   72 +
 plugins/daap/rb-daap-share.c                       | 1785 ------------------
 plugins/daap/rb-daap-share.h                       |   68 -
 plugins/daap/rb-daap-sharing.c                     |   19 +-
 plugins/daap/rb-daap-source.c                      |   80 +-
 plugins/daap/rb-daap-source.h                      |   23 +-
 plugins/daap/rb-daap-src.c                         |   35 +-
 plugins/daap/rb-daap-structure.c                   |  751 --------
 plugins/daap/rb-daap-structure.h                   |  204 ---
 plugins/daap/rb-dmap-container-db-adapter.c        |  193 ++
 plugins/daap/rb-dmap-container-db-adapter.h        |   64 +
 plugins/daap/rb-rhythmdb-dmap-db-adapter.c         |  275 +++
 plugins/daap/rb-rhythmdb-dmap-db-adapter.h         |   61 +
 .../daap/rb-rhythmdb-query-model-dmap-db-adapter.c |  156 ++
 .../daap/rb-rhythmdb-query-model-dmap-db-adapter.h |   61 +
 34 files changed, 1905 insertions(+), 6703 deletions(-)

commit 808ca1d54df2ecbf25fb9fc4d885ed3506689489
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun May 30 16:46:00 2010 +1000

    python: add bindings for rating widget (bug #620069)

 bindings/python/rb.defs     |   16 ++++++++++++++++
 bindings/python/rb.override |    1 +
 2 files changed, 17 insertions(+), 0 deletions(-)

commit 0c5ae11eb7ecd1fdb3f3943d86ecfffc83644bca
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun May 30 13:59:13 2010 +1000

    iradio: add KWUR to the initial station list (bug #618025)

 plugins/iradio/iradio-initial.pls |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit f04f386476e3e496e220c9c195c43f5d688e83fe
Author: Christian Kirbach <Christian.Kirbach@googlemail.com>
Date:   Sat May 29 22:04:57 2010 +0200

    Updated German translation

 po/de.po |  478 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 238 insertions(+), 240 deletions(-)

commit e1b4f6cdcc0d2946a9d545a4316d77ece3437634
Author: Sean McNamara <smcnam@gmail.com>
Date:   Sat May 29 23:56:46 2010 +1000

    vala: update rb.vapi to current standards, add a few methods (bug #619907)

 bindings/vala/rb.vapi |   74 +++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 65 insertions(+), 9 deletions(-)

commit 6e5ee5f13375e56088a92033d9a72e72dc13af6f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat May 29 10:55:43 2010 +0200

    Updated Spanish translation

 po/es.po |  286 ++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 141 insertions(+), 145 deletions(-)

commit 06d99662b27d1f8e8cb396f02f62436853b9262a
Author: Edgar Luna <edgar.luna@gmail.com>
Date:   Sat May 29 16:23:02 2010 +1000

    lyrics: add a lyrics parser for darklyrics.com (bug #525094)

 plugins/lyrics/lyrics/DarkLyricsParser.py |  163 +++++++++++++++++++++++++++++
 plugins/lyrics/lyrics/LyricsSites.py      |    4 +-
 plugins/lyrics/lyrics/Makefile.am         |    3 +-
 3 files changed, 168 insertions(+), 2 deletions(-)

commit a1795c3dd1f00e351800d904970e018a8dedf7df
Author: David Bate <davebate@gmail.com>
Date:   Sat May 29 15:37:16 2010 +1000

    lyrics: make TerraParser HTML regex match numeric entities (bug #619247)

 plugins/lyrics/lyrics/TerraParser.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 43753545d0db4169c7647e17829eaba15e8758f0
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Fri May 28 14:26:30 2010 +0200

    Updated German translation, fixed bug #619925

 po/de.po |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 7b7ba9bf4e24f467cf25275601d64492eaa63f4e
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu May 27 12:46:03 2010 +1000

    transfer-queue: remove extra unref for overwrite dialog

 shell/rb-track-transfer-queue.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 76709493323f27c3165b77bfaa41bb44c95ea891
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu May 27 12:45:33 2010 +1000

    statusbar: fix parameter types for the transfer queue progress signal

 shell/rb-statusbar.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a69f20cebe986ac172217e681cb9708f6bc38963
Author: Matt Novenstern <fisxoj@gmail.com>
Date:   Wed May 26 19:41:34 2010 +1000

    python: add bindings for rb_source_add_uri and rb_source_want_uri

 bindings/python/rb.defs |   36 ++++++++++++++++++++++++++++++++++++
 1 files changed, 36 insertions(+), 0 deletions(-)

commit 6e2af5646bcda16ddb8cc59a7f8dd7e2f4d4abdb
Author: Philippe Rouquier <bonfire-app@wanadoo.fr>
Date:   Tue May 25 11:21:27 2010 +0200

    Brasero does not remove temporary project after use because of G_SPAWN_FILE_AND_ARGV_ZERO

 .../rb-disc-recorder-plugin.c                      |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1b98b377a317d98f3079444dd6e95702036f452b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon May 24 09:51:10 2010 +1000

    daap: remove extra Connection header from streaming requests

 plugins/daap/rb-daap-connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit a32b49d856734801c0d6645bb7371213e409d9b9
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun May 23 23:19:56 2010 +1000

    python: add binding for rb_shell_player_get_active_source()

 bindings/python/rb.defs |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit a4d95d74d68bd5ee7b2426d1e939f65d20ae2d92
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun May 23 09:57:19 2010 +1000

    make RBAlertDialog build with -DGSEAL_ENABLED

 widgets/rb-alert-dialog.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit e2eeeac517c109f0650de8127665e7f5e5735257
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   Sun May 23 01:50:21 2010 +0200

    Updated Galician translations

 po/gl.po |  408 +++++++++++++++++++++++++++++++------------------------------
 1 files changed, 207 insertions(+), 201 deletions(-)

commit 59e04e5f011a347b84257a7e2815d5c5b9b3bb47
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat May 22 20:36:15 2010 +1000

    removable-media: remove old track transfer queue

 shell/rb-removable-media-manager.c |  183 +-----------------------------------
 shell/rb-removable-media-manager.h |   19 ----
 2 files changed, 1 insertions(+), 201 deletions(-)

commit 0c2876b4f85fec9bb4ef8d5c5105b069da48524f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat May 22 20:31:14 2010 +1000

    Use the new transfer queue for transfers to library and devices
    
    Notable things here are that we don't have to figure out the extension
    for the destination file name, and we can cancel the rest of the batch
    if the destination file system runs out of space or is read-only.

 sources/rb-library-source.c         |  129 ++++++++++++++-----------
 sources/rb-removable-media-source.c |  178 ++++++++++++++++-------------------
 2 files changed, 152 insertions(+), 155 deletions(-)

commit 2b442ff53aaf07615bd48bce48325fa27f3bdf69
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat May 22 18:43:16 2010 +1000

    shell: switch to new track transfer queue
    
    The RBShell creates a single instance of the transfer queue and makes it
    available through its 'track-transfer-queue' property.
    
    The status bar reads the transfer status directly from the queue rather
    than having the shell proxy it.

 shell/rb-shell.c     |   74 +++++++++++++------------------
 shell/rb-statusbar.c |  119 +++++++++++++++++++++++++++++--------------------
 shell/rb-statusbar.h |    8 +--
 3 files changed, 105 insertions(+), 96 deletions(-)

commit 46cbb164acee00905d427a047310f2b6d5be35d2
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat May 22 11:19:20 2010 +1000

    add new track transfer batch and queue system
    
    This system groups track transfers into batches.  A batch consists of a
    set of tracks to be transferred and the origin and destination sources.
    Batches report overall progress, can be cancelled as a unit, and provide
    a set of signals allowing greater integration into the UI, such as
    indicating which track is currently being ripped from a CD.
    
    The track transfer queue organises batches into an order of execution,
    only processing one at a time.  It provides overall progress information
    via signals and through a method.  It can also be used to find any
    outstanding transfer batches with a given source as the origin or
    destination.

 bindings/python/Makefile.am          |    2 +
 bindings/python/rb.defs              |  138 +++++-
 bindings/python/rb.override          |    2 +
 doc/reference/rhythmbox-docs.sgml    |    3 +
 doc/reference/rhythmbox-sections.txt |   59 +++-
 doc/reference/rhythmbox.types        |    6 +
 lib/rb-marshal.list                  |    8 +-
 shell/Makefile.am                    |   40 +-
 shell/rb-track-transfer-batch.c      |  882 ++++++++++++++++++++++++++++++++++
 shell/rb-track-transfer-batch.h      |  101 ++++
 shell/rb-track-transfer-queue.c      |  718 +++++++++++++++++++++++++++
 shell/rb-track-transfer-queue.h      |   83 ++++
 12 files changed, 2007 insertions(+), 35 deletions(-)

commit 5e48aa7d9d059b8345071b8090ae9505f180fabc
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat May 22 11:10:35 2010 +1000

    add RBAlertDialog, copied from nautilus/eel

 widgets/Makefile.am       |    2 +
 widgets/rb-alert-dialog.c |  445 +++++++++++++++++++++++++++++++++++++++++++++
 widgets/rb-alert-dialog.h |   60 ++++++
 3 files changed, 507 insertions(+), 0 deletions(-)

commit 8b528003d9d3e170c3d15907efa62485507522f0
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri May 21 22:49:40 2010 +1000

    encoder: rethink most of the encoder interface
    
    rb_encoder_get_preferred_mimetype has been renamed to
    rb_encoder_get_media_type, and it also takes the entry being encoded
    to allow more intelligent media type selection.
    
    rb_encoder_encode now takes a single destination media type, so the
    caller must first call rb_encoder_get_media_type to select one.
    
    Rather than prompting the user to overwrite a destination file, the
    encoder emits the 'overwrite' signal.
    
    The 'error' and 'completed' signals have been combined, so now the caller
    will only get one signal to notify it that the encoder has finished.  The
    'completed' signal now includes the destination media type.
    
    Two new error conditions have been added: one indicating the destination
    filesystem is full, and one indicating that the destination filesystem
    is mounted read-only.
    
    rb_encoder_get_missing_plugins provides GStreamer plugin installer detail
    strings for any plugins required to transcode to the specified media
    type.

 backends/gstreamer/rb-encoder-gst.c |  427 ++++++++++++++++++++++-------------
 backends/gstreamer/rb-encoder-gst.h |    2 +-
 backends/rb-encoder.c               |  135 ++++++++----
 backends/rb-encoder.h               |   41 ++--
 lib/rb-marshal.list                 |    2 +
 shell/rb-removable-media-manager.c  |    4 +-
 sources/rb-removable-media-source.c |    2 +-
 7 files changed, 399 insertions(+), 214 deletions(-)

commit f84916201bda837313aaf9b9ba9cb323468f3497
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri May 21 17:50:48 2010 +1000

    mtp: use the can_eject and eject vmethods rather than a custom action

 plugins/mtpdevice/mtp-ui.xml      |    2 +-
 plugins/mtpdevice/rb-mtp-plugin.c |   11 -----------
 plugins/mtpdevice/rb-mtp-source.c |   18 +++++++++++++++++-
 3 files changed, 18 insertions(+), 13 deletions(-)

commit 4c0b134f57ad6bbbb13933632379b56cf72f201f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri May 21 17:49:34 2010 +1000

    removable-media: convert can_eject and eject into vmethods
    
    This allows a source to determine how to eject itself, and to prompt the
    user if a track transfer or sync operation is in progress.

 shell/rb-removable-media-manager.c  |  143 +------------------------------
 sources/rb-removable-media-source.c |  159 +++++++++++++++++++++++++++++++++++
 sources/rb-removable-media-source.h |    5 +
 3 files changed, 169 insertions(+), 138 deletions(-)

commit e8aaf77ab31fd70ca3d10128ba55adeef3a38ba1
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu May 20 21:55:30 2010 +1000

    playbin2: handle state changes completely synchronously (bug #612942)
    
    If the state change completes successfully, we need to just perform the
    completion action immediately.  While we're at it, fix playback error
    handling - need to initialize the error pointer with NULL when using
    g_set_error.

 backends/gstreamer/rb-player-gst.c |   33 ++++++++++++++++++++++-----------
 1 files changed, 22 insertions(+), 11 deletions(-)

commit 4874bac91d30e6ed46ef88b900eb5f881dfe6c29
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed May 19 20:16:45 2010 +1000

    mtp: ignore devices that don't support any audio formats (bug #615743)
    
    libmtp also detects PTP cameras. It does not actually know them (in the
    udev rules), but since we do not check for this, PTP cameras regularly
    appear in Rhythmbox, which is confusing and useless.
    
    Check the supported file types of the device for audio types, and ignore
    the device if there aren't any suitable ones. Please note that a lot of
    cameras support read-only WAV, which is fairly uninteresting for our
    purposes and would lead to detecting them as music players, so ignore WAV.

 plugins/mtpdevice/rb-mtp-source.c |   31 ++++++++++++++++++++++++++++++-
 plugins/mtpdevice/rb-mtp-thread.c |    2 +-
 2 files changed, 31 insertions(+), 2 deletions(-)

commit b6fa4439d5b1e0a14d34bf5af09adf5e894208ca
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed May 19 18:39:10 2010 +1000

    source: protect against repeated deletion (bug #613526)
    
    Some devices appear and disappear when plugged in, which causes the
    corresponding source to be deleted twice - once when the device
    disappears and once when the device open operation fails.  The easy way
    to fix this is just to check that a source hasn't already been deleted
    when deleting it.

 sources/rb-source.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 6c5000926c79694d5fd21e22d2e5e4a6a9c28aba
Author: Hugo Sampaio <hvazsampaio@gmail.com>
Date:   Sat May 15 21:36:32 2010 -0300

    Updated Brazilian Portuguese translation
    
    Reviewed by Daniel Koda <danielskoda@gmail.com>

 po/pt_BR.po |  145 ++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 79 insertions(+), 66 deletions(-)

commit 23f9b9498ba3dbbb419f90c9eed8e1ec1782229b
Author: Philippe Gauthier <philippe.gauthier@deuxpi.ca>
Date:   Thu May 6 22:37:15 2010 +1000

    daap: Add artist and album sort order codes

 plugins/daap/rb-daap-connection.c |   42 +++++++++++++++------
 plugins/daap/rb-daap-share.c      |   74 ++++++++++++++++++++----------------
 plugins/daap/rb-daap-structure.c  |    4 +-
 plugins/daap/rb-daap-structure.h  |    4 +-
 4 files changed, 77 insertions(+), 47 deletions(-)

commit 4394826f36fad0ad36ea773b6d4525dfcfcd389b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed May 5 22:58:26 2010 +1000

    python: fix a number of python initialization problems (bug #617587)
    
    - pygtk.require("2.8") doesn't work - it's only after a major version,
      so we should pass in "2.0" instead
    - init_pygobject() is deprecated, use pygobject_init (and pass in the
      version we require) instead
    - init_pygtk() is a macro that returns from the current function on
      error, so we need to call it from a separate function for our error
      handling to work
    - if some aspect of python initialization failed, we were still using
      the pygobject GIL macros, which were crashing

 shell/main.c             |   13 +++++++++----
 shell/rb-python-module.c |   38 ++++++++++++++++++++++++++++++++------
 shell/rb-python-module.h |    2 ++
 3 files changed, 43 insertions(+), 10 deletions(-)

commit b1d9319dd1fadd4eddee2b966c85b6615fc10627
Author: Hendrik Richter <hendrikr@gnome.org>
Date:   Tue May 4 00:01:21 2010 +0300

    Updated German translation

 po/de.po |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 898aaf33bd8d97e205691a2244670f5bf53d65b4
Author: Petr Kovar <pknbe@volny.cz>
Date:   Sun May 2 18:17:04 2010 +0200

    Update Czech translation by Marek Cernocky

 po/cs.po |   62 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 33 insertions(+), 29 deletions(-)

commit 6a6147c6e0446b86d5ac7222362bc21541f2735a
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Sun May 2 11:45:21 2010 +0200

    Updated Slovenian translation

 po/sl.po |   69 ++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 36 insertions(+), 33 deletions(-)

commit 905a53d27dbd85173530e762db13e97de7f13f80
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sat May 1 00:08:59 2010 +0200

    Updated German translation

 po/de.po |  295 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 156 insertions(+), 139 deletions(-)

commit 0fb272d837c4cbe91fea187121f455b9804c6a17
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Apr 30 23:15:34 2010 +1000

    song-info: use g_strcmp0 where appropriate (bug #617157)
    
    Not all entry properties are guaranteed to be non-NULL, so we might as
    well use g_strcmp0 for all of them just to be safe.

 widgets/rb-song-info.c |   22 +++++++++++-----------
 1 files changed, 11 insertions(+), 11 deletions(-)

commit 92513dd4f2628be52e491643ee8bc098f40dc07b
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Wed Apr 28 08:23:22 2010 +0200

    Updated Spanish translation

 po/es.po |   68 +++++++++++++++++++++++++++++++------------------------------
 1 files changed, 35 insertions(+), 33 deletions(-)

commit 1ab43447c89554b3aaf48e57b07712d092b1a4cf
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Apr 26 21:36:05 2010 +1000

    rhythmdb: expose stat thread progress
    
    We're already polling to see when the stat thread finishes (more or
    less) so we might as well poll for its progress too.  Stat thread
    progress is displayed in the progress bar widget in the status bar,
    rather than just pulsing it while the database is busy.

 rhythmdb/rhythmdb-private.h |    2 ++
 rhythmdb/rhythmdb.c         |   36 ++++++++++++++++++++++++++++++------
 rhythmdb/rhythmdb.h         |    1 +
 shell/rb-statusbar.c        |   16 +++++-----------
 4 files changed, 38 insertions(+), 17 deletions(-)

commit b25bc268bf348276b9c4fd29373b16eb8be77335
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Apr 26 21:14:35 2010 +1000

    rhythmdb: use g_ascii_strtod to read the db version (bug #616636)
    
    We previously used sscanf(), which is (sometimes?) locale-aware, so in
    some locales, it was expecting a comma instead of a full stop as the
    decimal separator.  Misreading the version causes upgrade processing to
    be run on each startup, rather than just once, which messes up podcasts
    among other things.

 rhythmdb/rhythmdb-tree.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 97a5f93aa4f36632c4f4c3f5bb49d5acff826d2e
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   Mon Apr 26 07:58:07 2010 +0300

    Estonian translation updated

 po/et.po |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 67cc038a46132a20effe91c40f159f5edce75cb3
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Mon Apr 26 00:23:16 2010 +0200

    Updated Hungarian translation

 po/hu.po |  617 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 327 insertions(+), 290 deletions(-)

commit c89241859c127075c545641460f9b08b52c29750
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Sun Apr 25 23:57:12 2010 +0200

    Updated Hungarian translation

 po/hu.po |   84 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 42 insertions(+), 42 deletions(-)

commit 02322bfc3df9c76974d3baf4e5f8b52e586945e1
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 25 20:36:57 2010 +1000

    update .gitignore

 .gitignore |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit d95027b9c3bade62c9c451738358c053f106e22f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 25 15:34:36 2010 +1000

    mmkeys: use asynchronous dbus calls (bug #488308)
    
    This doesn't actually address the real cause of the problem, but it's
    the sensible thing to do anyway.

 plugins/mmkeys/rb-mmkeys-plugin.c |  158 +++++++++++++++++++-----------------
 1 files changed, 83 insertions(+), 75 deletions(-)

commit 3e697f910f14a212f5747d88473309b60c81f68d
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 25 12:41:30 2010 +1000

    don't crash when transferring files with no extension (bug #616411)

 plugins/ipod/rb-ipod-source.c       |    9 ++++++---
 plugins/mtpdevice/rb-mtp-source.c   |    3 +++
 sources/rb-removable-media-source.c |    2 +-
 3 files changed, 10 insertions(+), 4 deletions(-)

commit 8ec2026575a538afb422d5b08d76fc96b162dbeb
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:   Fri Apr 23 12:06:16 2010 +0200

    Updated Danish translation

 po/da.po |  506 ++++++++++++++++++++++++++++++++------------------------------
 1 files changed, 259 insertions(+), 247 deletions(-)

commit 89c908d6c28b55135185a844b3dcfaaf353e59c5
Author: Petr Kovar <pknbe@volny.cz>
Date:   Fri Apr 23 00:00:00 2010 +0200

    Update Czech translation by Marek Cernocky

 po/cs.po |   61 +++++++++++++++++++++++++++++++++++--------------------------
 1 files changed, 35 insertions(+), 26 deletions(-)

commit e7b3f41b9a7fda307e425f6d80d2f5689219420f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Apr 23 07:27:05 2010 +1000

    generic-player: don't crash saving empty playlists (bug #616538)
    
    If we try to save an empty playlist, totem-pl-parser currently returns
    FALSE without providing any error information, but we were expecting the
    error information to be there.

 .../rb-generic-player-playlist-source.c            |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e45edd60a0f714d44782a3eddf910a9dd3532e54
Author: Gintautas Miliauskas <gintautas@miliauskas.lt>
Date:   Mon Apr 19 02:02:53 2010 +0300

    Updated Lithuanian translation by Aurimas Černius.

 po/lt.po |  614 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 336 insertions(+), 278 deletions(-)

commit 5b8bd3750a1730c34d2512044d2efb7a0efd1236
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Sun Apr 18 19:53:39 2010 +0200

    Updated Slovenian translation

 po/sl.po |   70 ++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 39 insertions(+), 31 deletions(-)

commit d2ca8e6cf68ccae21e93dbe8c31f1b78e1698bd1
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 18 14:14:21 2010 +1000

    im-status: fix MC5 status restore (bug #612714)
    
    When getting the current status from MC5, treat the empty string as a
    valid status, but prefer non-empty strings.  The empty string is used
    for the default status, so we should restore to that on shutdown rather
    than leaving our last status in place.

 plugins/im-status/im-status/__init__.py |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit a57a51913b1057c85603bf3ada52f6d76582d139
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 18 13:25:18 2010 +1000

    file-helpers: don't ignore files when we don't get access::can-read

 lib/rb-file-helpers.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 09eb08e870ab6c39675d10bf838cb9802b7d1e32
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Apr 17 19:09:19 2010 +0200

    Updated Spanish translation

 po/es.po |  267 ++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 140 insertions(+), 127 deletions(-)

commit 7c5b6310b037479bf4f24c99576ccd6ad47bbdff
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Apr 17 22:45:47 2010 +1000

    add a pkg-config file for the plugin API

 Makefile.am     |    4 ++++
 configure.ac    |    2 ++
 rhythmbox.pc.in |   14 ++++++++++++++
 3 files changed, 20 insertions(+), 0 deletions(-)

commit 09f29d758ffa0681d54430e2b91aeb5426fa16f6
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Apr 17 22:45:21 2010 +1000

    vala: install .vapi files

 bindings/vala/Makefile.am |   12 ++++++++----
 configure.ac              |    2 ++
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 6d6065dfb817e941fc8b76053621900630036630
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Apr 17 22:44:11 2010 +1000

    install headers usable by C plugins

 backends/Makefile.am             |   16 +++++++++-----
 lib/Makefile.am                  |   18 ++++++++++------
 lib/libmediaplayerid/Makefile.am |    6 ++++-
 metadata/Makefile.am             |    5 ++++
 podcast/Makefile.am              |   11 +++++++--
 rhythmdb/Makefile.am             |   16 +++++++++-----
 shell/Makefile.am                |   23 ++++++++++++---------
 sources/Makefile.am              |   39 ++++++++++++++++++-------------------
 widgets/Makefile.am              |   26 ++++++++++++++----------
 9 files changed, 96 insertions(+), 64 deletions(-)

commit 46d77eff725f7191eb2698847506771f86d8a728
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Apr 17 10:54:49 2010 +1000

    media-player: use segmented bar widget to display sync preview
    
    For sync preview, we display the current device state and the device
    state after syncing.

 data/ui/media-player-properties.ui |   77 ++++++++---
 sources/rb-media-player-source.c   |  271 ++++++++++++++++++++++++++++--------
 2 files changed, 271 insertions(+), 77 deletions(-)

commit be3bbc01c65632801a374cdf22c349672b4b5cda
Author: Adam Zimmerman <adamz@src.gnome.org>
Date:   Thu Apr 15 16:23:15 2010 -0700

    magnatune: Set names of radio buttons explicitly
    
    In newer versions of pygtk(?), the name of a widget is not set from its id in
    the builder file. So we need to iterate over the radio buttons in the prefs
    dialog and set their name explicitly. We also need to use widget.get_name()
    instead of widget.props.name to access the name.
    
    Fixes bug #615658.

 plugins/magnatune/magnatune/__init__.py |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit d8b0d361a16604e77dddf99e62c84042994c2e21
Author: Vladimir Melo <vmelo@gnome.org>
Date:   Thu Apr 15 13:41:46 2010 -0400

    Updated Brazilian Portuguese translation.

 po/pt_BR.po |  572 ++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 310 insertions(+), 262 deletions(-)

commit 89af5ae70c19a5e685e612f3bca896f50aab96fa
Author: Aron Xu <aronxu@gnome.org>
Date:   Thu Apr 15 21:28:05 2010 +0800

    Update Simplified Chinese translation.

 po/zh_CN.po |  596 ++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 320 insertions(+), 276 deletions(-)

commit f1862aa20a233d39ebe879b196be57492c56c5a3
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Apr 15 22:52:03 2010 +1000

    file-helpers: skip the mount point when sanitizing a URI
    
    This is important when the mount point is not valid for the filesystem
    type that it contains.

 lib/rb-file-helpers.c |   53 +++++++++++++++++++++++++++++++++++++++++++++---
 lib/rb-file-helpers.h |    2 +-
 2 files changed, 50 insertions(+), 5 deletions(-)

commit e776656f399eb068f905cb28f8495764635d508d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:   Wed Apr 14 16:46:18 2010 +0200

    MTP: Fix memory leak
    
    Free the list returned by LIBMTP_Detect_Raw_Devices() after we are done with
    it.

 plugins/mtpdevice/rb-mtp-plugin.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 73c16bebab2b96a6ef1eefa384d6818d61ecaddb
Author: Petr Kovar <pknbe@volny.cz>
Date:   Mon Apr 12 23:43:19 2010 +0200

    Update Czech translation by Marek Cernocky

 po/cs.po |  574 +++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 310 insertions(+), 264 deletions(-)

commit 2c92cc5cf6244c636a6b673ac0d2622e5d9753cd
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Apr 12 07:33:43 2010 +1000

    podcast: display language names rather than language codes (bug #559849)
    
    Uses GStreamer language tag functions added in 0.10.26.

 podcast/rb-feed-podcast-properties-dialog.c |   27 ++++++++++++++++++++++++++-
 shell/Makefile.am                           |    3 ++-
 2 files changed, 28 insertions(+), 2 deletions(-)

commit 047b8cca1e8834a3c3b9bb9f92bc0c726ef87a9d
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Sun Apr 11 20:10:32 2010 +0200

    Added sl for Slovenian translation

 help/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a2952965e5ff9df400baaf7b7216c58cc3ad93ef
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Sun Apr 11 20:09:44 2010 +0200

    Updated Slovenian translation

 help/sl/sl.po | 1894 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 1894 insertions(+), 0 deletions(-)

commit fb4090793ae6d6eb937a07d7e9350e3ba19e718a
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Sun Apr 11 19:43:18 2010 +0200

    Updated Slovenian translation

 po/sl.po |  269 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 135 insertions(+), 134 deletions(-)

commit dfc275f6f276d2d566025c862d057f65e2397d32
Author: Robert Ancell <robert.ancell@canonical.com>
Date:   Sat Apr 10 22:43:04 2010 +1000

    podcast: use g_file_input_stream_query_info for downloads (bug #596615)
    
    Where it works (depends on gvfs version), this means we only use a
    single HTTP request for podcast downloads, rather than one to get the
    filename and size and a second to download it.  Aside from being more
    efficient, this also helps in cases where the server doesn't deal with
    HEAD requests properly.

 podcast/rb-podcast-manager.c |  135 ++++++++++++++++++++++++++----------------
 1 files changed, 84 insertions(+), 51 deletions(-)

commit 9964a90e94cff5283cd47a880f7740af20d5d68d
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sat Apr 10 12:57:54 2010 +0200

    Updated German translation

 po/de.po |  292 ++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 144 insertions(+), 148 deletions(-)

commit c38506aa4e44bb57f67cb76f2dbff12484dd8b9c
Author: Kang Bundo <bundo@bundo.biz>
Date:   Sat Apr 10 15:11:43 2010 +0900

    Updated Korean translation

 po/ko.po | 5484 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 3015 insertions(+), 2469 deletions(-)

commit 4cc2facfbe1c21f97bc636a3045c4bb334a27596
Author: Francisco Diéguez <fran.dieguez@mabishu.com>
Date:   Fri Apr 9 20:14:08 2010 +0200

    Updated Galician translations

 po/gl.po | 1028 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 542 insertions(+), 486 deletions(-)

commit 8495be9abb8030a6e543d19dc6b688bdbb15dcdf
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Apr 9 22:53:21 2010 +1000

    podcast: use sort keys when sorting by episode title and feed name

 sources/rb-podcast-source.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 3cdcefa58a11e05aba712be00b3afb9782d3eaae
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Apr 7 07:28:01 2010 +1000

    add gtk_widget_set_visible macro for gtk+ < 2.18 (bug #615007)

 lib/gseal-gtk-compat.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 55777fcb6ec68fd6e257425dfe66023225e9d440
Author: Christophe Fergeau <cfergeau@mandriva.com>
Date:   Thu Apr 1 23:20:42 2010 +0200

    [cd-recorder] fix compilation when using G_SEAL

 plugins/cd-recorder/rb-cd-recorder-plugin.c       |   20 ++++++++++----------
 plugins/cd-recorder/rb-playlist-source-recorder.c |   18 ++++++++++++------
 2 files changed, 22 insertions(+), 16 deletions(-)

commit bce7d73c664c8265a0900cb59e88c50e082edb35
Author: Lapo Calamandrei <calamandrei@gmail.com>
Date:   Tue Apr 6 15:40:32 2010 +0100

    Update Rhythmbox application icon
    
    Build system changes by Bastien Nocera <hadess@hadess.net>
    
    https://bugzilla.gnome.org/show_bug.cgi?id=614139

 configure.ac                                       |    2 +
 data/icons/hicolor/16x16/apps/Makefile.am          |    7 +-
 data/icons/hicolor/16x16/apps/rhythmbox.png        |  Bin 745 -> 1003 bytes
 data/icons/hicolor/16x16/apps/rhythmbox.svg        |  597 --
 data/icons/hicolor/22x22/apps/Makefile.am          |    7 +-
 data/icons/hicolor/22x22/apps/rhythmbox.png        |  Bin 1288 -> 1546 bytes
 data/icons/hicolor/24x24/apps/rhythmbox.png        |  Bin 1579 -> 1584 bytes
 data/icons/hicolor/256x256/Makefile.am             |    1 +
 data/icons/hicolor/256x256/apps/Makefile.am        |   11 +
 data/icons/hicolor/256x256/apps/rhythmbox.png      |  Bin 0 -> 61827 bytes
 data/icons/hicolor/32x32/apps/Makefile.am          |    7 +-
 data/icons/hicolor/32x32/apps/rhythmbox.png        |  Bin 1978 -> 2726 bytes
 data/icons/hicolor/32x32/apps/rhythmbox.svg        |  Bin 1978 -> 0 bytes
 data/icons/hicolor/48x48/apps/rhythmbox.png        |  Bin 3424 -> 5037 bytes
 data/icons/hicolor/Makefile.am                     |    2 +-
 data/icons/hicolor/scalable/apps/Makefile.am       |    6 +-
 .../hicolor/scalable/apps/rhythmbox-symbolic.svg   |   99 +
 data/icons/hicolor/scalable/apps/rhythmbox.svg     |  752 ---
 data/icons/src/Makefile.am                         |    2 +-
 data/icons/src/rhythmbox.svg                       | 6234 ++++++++++++++++++++
 20 files changed, 6354 insertions(+), 1373 deletions(-)

commit c8018fe463491690d77e367ac9280048c59d7b42
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Apr 6 22:53:59 2010 +1000

    rhythmdb: replace entry-changed GSList of changes with a GValueArray
    
    This is a bit inefficient - the change structures get copied twice while
    preparing them for emission - but the new representation can be accessed
    directly from python code.  This might slow startup by a tiny amount,
    but otherwise won't be noticeable.
    
    The various handlers we attach to entry-changed were all trivial to
    convert.

 plugins/daap/rb-daap-share.c    |    2 +-
 plugins/ipod/rb-ipod-source.c   |   18 +++++++++---------
 rhythmdb/rhythmdb-query-model.c |   11 ++++++-----
 rhythmdb/rhythmdb.c             |   25 ++++++++++++++++++++-----
 shell/rb-shell-player.c         |   16 +++++++++-------
 sources/rb-podcast-source.c     |   11 ++++++-----
 6 files changed, 51 insertions(+), 32 deletions(-)

commit cde5b4d64c31f0cbe976c5a1cf57705c7657f2b3
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Tue Apr 6 22:51:46 2010 +1000

    rhythmdb: add boxed type and python bindings for RhythmDBEntryChange
    
    First step in making the RhythmDB entry-changed signal useful in python.

 bindings/python/rhythmdb.defs     |   11 +++++++
 bindings/python/rhythmdb.override |   38 +++++++++++++++++++++++++
 rhythmdb/rhythmdb.c               |   56 +++++++++++++++++++++++++++++--------
 rhythmdb/rhythmdb.h               |    3 ++
 4 files changed, 96 insertions(+), 12 deletions(-)

commit a76b230265390788af55274d6fc91ae6835cf24d
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Tue Apr 6 14:55:35 2010 +0200

    Updated Spanish translation

 po/es.po |  291 ++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 143 insertions(+), 148 deletions(-)

commit f2b94b4e4a7dcd653226ab032b91099d9011a6e8
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Apr 5 21:12:38 2010 +1000

    podcast: use webkit to display HTML episode descriptions (bug #320507)
    
    The main interesting bit here is that we need to distinguish between
    plain text and HTML descriptions, as interpreting plain text as HTML
    removes all formatting.  Since we're dealing with small document
    fragments here, normal content type detection doesn't work.  Instead, we
    search for a set of strings, such as common tags and entities, that
    reliably indicate HTML content.
    
    The dependency on webkit is optional.

 configure.ac                           |   17 ++++
 data/ui/podcast-properties.ui          |   15 +---
 podcast/Makefile.am                    |    1 +
 podcast/rb-podcast-properties-dialog.c |  162 +++++++++++++++++++++++++++++++-
 shell/Makefile.am                      |    2 +
 5 files changed, 184 insertions(+), 13 deletions(-)

commit f6c1c8a82e046a568b827f59b1af9d3158d0d9fc
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Apr 5 17:28:36 2010 +1000

    playbin2: do everything asynchronously
    
    Rather than blocking until state changes finish, we now react to the
    state change bus messages.  This of course greatly reduces the amount of
    time we block the main loop, but also means that all signals are emitted
    on the main thread, even in cases where we start playback from a
    different thread (bug #614351).
    
    Also it turns out we don't need to pause the pipeline before seeking, so
    now we just send the seek event directly.

 backends/gstreamer/rb-player-gst.c |  494 ++++++++++++++++--------------------
 1 files changed, 224 insertions(+), 270 deletions(-)

commit cd2be0bd90e0a378531fb96940da19ebe70eb80c
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 4 16:27:53 2010 +1000

    xfade: use uridecodebin instead of src ! queue ! decodebin2 (bug #530775)
    
    uridecodebin is a better choice as it takes care of providing a network
    buffer automatically and it knows how to deal with sources like rtspsrc
    that only have sometimes src pads.  As a result, RTSP streams should
    work now, though there may be some continuity problems with some
    streams.

 backends/gstreamer/rb-player-gst-xfade.c |  164 +++++++++---------------------
 1 files changed, 48 insertions(+), 116 deletions(-)

commit 57f153784c638ef9c6fdb4da8aa16126ae3aa995
Author: Krasimir Chonov <mk2616@abv.bg>
Date:   Sun Apr 4 08:34:21 2010 +0300

    Updated Bulgarian translation

 po/bg.po |  422 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 234 insertions(+), 188 deletions(-)

commit fecc39f259ee44550614d0b6845cd6858b79a855
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 4 08:22:23 2010 +1000

    add get_type function declarations for builtin GStreamer elements
    
    GST_BOILERPLATE_FULL recently stopped declaring these, so we have to do
    it ourselves.

 plugins/fmradio/rb-fm-radio-gst-src.c |    1 +
 plugins/mtpdevice/rb-mtp-gst-sink.c   |    1 +
 plugins/mtpdevice/rb-mtp-gst-src.c    |    1 +
 3 files changed, 3 insertions(+), 0 deletions(-)

commit bb1a33b94d3d68b87597cef8c71d91177f63f21a
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sun Apr 4 08:19:54 2010 +1000

    python: drop some old compatibility code
    
    Also use pygobject's pkg-config file, not pygtk's, to find codegen and
    h2def.

 bindings/python/Makefile.am |    6 +++---
 configure.ac                |   19 ++++++++-----------
 shell/rb-python-module.c    |   34 ----------------------------------
 3 files changed, 11 insertions(+), 48 deletions(-)

commit 520e16e22ad92145455bf8e692b33dfde689bc34
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Apr 3 19:52:42 2010 +1000

    segmented-bar: add simple a11y implementation
    
    This makes the text used in the labels available as an image
    description.  Tested briefly with accerciser and orca.

 widgets/rb-segmented-bar.c |  203 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 203 insertions(+), 0 deletions(-)

commit 574a9ae0cee38a710046c69134a8c366c0b01f2e
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Sat Apr 3 18:08:31 2010 +1000

    segmented-bar: add RTL rendering
    
    I don't think the label layout is quite right, but it's close.

 widgets/rb-segmented-bar.c |   33 ++++++++++++++++++++++++++++++---
 1 files changed, 30 insertions(+), 3 deletions(-)

commit c3db852807f9257f3f335409ee5e8877b17eba91
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Sat Apr 3 08:37:07 2010 +0200

    Updated Slovenian translation

 po/sl.po |10751 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 5396 insertions(+), 5355 deletions(-)

commit 803135229f0e7f1967cfed004c8589b3c3e1e796
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   Fri Apr 2 15:46:21 2010 +0300

    Updated Ukrainian translation

 po/uk.po |  759 +++++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 403 insertions(+), 356 deletions(-)

commit 4a733887cd180ebb03d8b84256e32ed48b59589b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Apr 2 20:36:01 2010 +1000

    add version information to librhythmbox-core

 configure.ac      |   13 ++++++++++++-
 shell/Makefile.am |    4 +++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit a95213491fad615002e33ce30e36f59320820d40
Author: Adam Zimmerman <adamz@src.gnome.org>
Date:   Thu Apr 1 11:16:48 2010 -0700

    magnatune: Remove separate purchase action
    
    Magnatune no longer supports purchasing individual downloads. This patch
    removes the "Purchase Album" button from the toolbar, and changes the
    behaviour of the "Download Album" button slightly: if the user does not have
    a download account, it redirects them to the purchase page on Magnatune's
    website.

 plugins/magnatune/magnatune/MagnatuneSource.py |   10 +++++++---
 plugins/magnatune/magnatune/__init__.py        |    6 ------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 044ed3c7238093255bd015053d6086b4640ca42c
Author: Adam Zimmerman <adamz@src.gnome.org>
Date:   Thu Apr 1 10:07:55 2010 -0700

    magnatune: Use 'magnatunegenres' tag to set genres

 plugins/magnatune/magnatune/TrackListHandler.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b081631aa5daf77fedf9feb50bda705facc5a9f6
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Apr 1 21:57:59 2010 +1000

    fix compile errors with gtk+ < 2.20.0

 lib/gseal-gtk-compat.h                      |    2 +-
 plugins/status-icon/rb-status-icon-plugin.c |    1 +
 plugins/visualizer/rb-visualizer-plugin.c   |    1 +
 shell/rb-missing-plugins.c                  |    1 +
 widgets/rb-entry-view.c                     |    1 +
 5 files changed, 5 insertions(+), 1 deletions(-)

commit 061a53a9af6f3eb7436107ebf10d79b0e45f4c8b
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Wed Mar 31 21:58:44 2010 +1000

    use include paths relative to source root in header files
    
    This is the first step towards installing a set of headers suitable for
    building C plugins outside the source tree.

 backends/rb-encoder.h                          |    2 +-
 backends/rb-player.h                           |    2 +-
 metadata/rb-metadata-gst-common.h              |    2 +-
 podcast/rb-feed-podcast-properties-dialog.h    |    2 +-
 podcast/rb-podcast-manager.h                   |    2 +-
 podcast/rb-podcast-properties-dialog.h         |    2 +-
 rhythmdb/rhythmdb-import-job.h                 |    2 +-
 rhythmdb/rhythmdb-private.h                    |    6 +++---
 rhythmdb/rhythmdb-property-model.h             |    4 ++--
 rhythmdb/rhythmdb-query-model.h                |    2 +-
 rhythmdb/rhythmdb-tree.h                       |    4 ++--
 rhythmdb/rhythmdb.h                            |    6 +++---
 shell/rb-history.h                             |    3 +--
 shell/rb-missing-plugins.h                     |    2 +-
 shell/rb-play-order-linear-loop.h              |    4 ++--
 shell/rb-play-order-linear.h                   |    5 ++---
 shell/rb-play-order-queue.h                    |    5 ++---
 shell/rb-play-order-random-by-age-and-rating.h |    5 ++---
 shell/rb-play-order-random-by-age.h            |    5 ++---
 shell/rb-play-order-random-by-rating.h         |    5 ++---
 shell/rb-play-order-random-equal-weights.h     |    5 ++---
 shell/rb-play-order-shuffle.h                  |    5 ++---
 shell/rb-play-order.h                          |    2 +-
 shell/rb-playlist-manager.h                    |    6 +++---
 shell/rb-plugin.h                              |    2 +-
 shell/rb-plugins-engine.h                      |    2 +-
 shell/rb-python-plugin.h                       |    2 +-
 shell/rb-removable-media-manager.h             |    8 ++++----
 shell/rb-shell-clipboard.h                     |    4 ++--
 shell/rb-shell-player.h                        |    4 ++--
 shell/rb-shell-preferences.h                   |    2 +-
 shell/rb-shell.h                               |    6 +++---
 shell/rb-source-header.h                       |    2 +-
 shell/rb-statusbar.h                           |    4 ++--
 sources/rb-auto-playlist-source.h              |    2 +-
 sources/rb-browser-source.h                    |    6 +++---
 sources/rb-import-errors-source.h              |    6 +++---
 sources/rb-library-source.h                    |    6 +++---
 sources/rb-media-player-source.h               |    6 +++---
 sources/rb-missing-files-source.h              |    6 +++---
 sources/rb-play-queue-source.h                 |    2 +-
 sources/rb-playlist-source.h                   |   10 +++++-----
 sources/rb-podcast-source.h                    |    4 ++--
 sources/rb-removable-media-source.h            |    6 +++---
 sources/rb-source-search-basic.h               |    4 ++--
 sources/rb-source-search.h                     |    2 +-
 sources/rb-source.h                            |   10 +++++-----
 sources/rb-sourcelist-model.h                  |    2 +-
 sources/rb-sourcelist.h                        |    4 ++--
 sources/rb-static-playlist-source.h            |    4 ++--
 sources/rb-streaming-source.h                  |    2 +-
 widgets/rb-entry-view.h                        |    4 ++--
 widgets/rb-header.h                            |    4 ++--
 widgets/rb-library-browser.h                   |    6 +++---
 widgets/rb-property-view.h                     |    6 +++---
 widgets/rb-query-creator.h                     |    4 ++--
 widgets/rb-song-info.h                         |    6 +++---
 57 files changed, 114 insertions(+), 122 deletions(-)

commit 92e4ea2a6f0d2eede10d079243d542ac4d7479a7
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:   Tue Mar 30 21:18:54 2010 +0200

    Updated Danish translation

 po/da.po |  143 ++++++++++++++++++++++++++++++++++++++++++--------------------
 1 files changed, 97 insertions(+), 46 deletions(-)

commit 84491e57f0b727ec4547c1a0bc9854fd98a76464
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Tue Mar 30 20:53:04 2010 +0200

    Updated Spanish translation

 po/es.po |  284 +++++++++++++++++++++++++++++++++++++-------------------------
 1 files changed, 169 insertions(+), 115 deletions(-)

commit ed5b5bb2fbc0d55783af19c1c2d0a514ed0c23ab
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Mon Mar 29 16:05:40 2010 +0200

    Updated German translation

 po/de.po |  443 ++++++++++++++++++++++++++++++++++----------------------------
 1 files changed, 246 insertions(+), 197 deletions(-)

commit ee05ea0933aca20256967ef7801947cab00033ee
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Mar 29 23:19:22 2010 +1000

    add -DGSEAL_ENABLE for development builds with new enough gtk+
    
    When building from a VCS checkout or when --enable-more-warnings was
    passed to ./configure, and gtk+ is new enough (2.20.0), enable GSEAL.

 configure.ac |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 4001029dc53418721822d0d5ab410164b08499bc
Author: Javier Jardón <jjardon@gnome.org>
Date:   Mon Mar 29 23:17:50 2010 +1000

    Finish adding GSEAL compatibility (bug #595425)

 lib/gseal-gtk-compat.h                             |    4 ++
 plugins/audiocd/rb-audiocd-source.c                |    3 +-
 .../rb-disc-recorder-plugin.c                      |    6 ++-
 plugins/power-manager/rb-power-manager-plugin.c    |    2 +-
 plugins/status-icon/rb-status-icon-plugin.c        |    2 +-
 plugins/visualizer/rb-vis-widget.c                 |    4 +-
 plugins/visualizer/rb-visualizer-plugin.c          |    6 ++--
 shell/rb-missing-plugins.c                         |    2 +-
 shell/rb-shell.c                                   |    4 +-
 widgets/rb-entry-view.c                            |    4 +-
 widgets/rb-rating.c                                |    2 +-
 widgets/rb-segmented-bar.c                         |   39 +++++++++++---------
 12 files changed, 45 insertions(+), 33 deletions(-)

commit 44294f592f63ee60c78b3c777967a42aef4e1be9
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   Mon Mar 29 14:44:09 2010 +0200

    Updated Slovenian translation

 po/sl.po |  585 +++++++++++++++++++++++++++++++-------------------------------
 1 files changed, 296 insertions(+), 289 deletions(-)

commit bfb8a980063681809c34120bef5da8bb71715414
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Mar 29 22:17:02 2010 +1000

    python: add rhythmdb_query_model_copy_contents (bug #614184)

 bindings/python/rhythmdb.defs |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 5a787f4730009673585c81b5465458d3cb0a21bb
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Mar 29 21:37:58 2010 +1000

    remove arch-tag lines from rb-media-player-source.*

 sources/rb-media-player-source.c |    2 --
 sources/rb-media-player-source.h |    2 --
 2 files changed, 0 insertions(+), 4 deletions(-)

commit fdefa0500154974130253d9fa72f27782893c231
Merge: ae52ba7 5c2c381
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Mon Mar 29 21:37:13 2010 +1000

    Merge branch 'media-player-sync'

commit ae52ba75f8e6d4b9daea61666493172ef8661c26
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:   Mon Mar 29 00:13:47 2010 +0200

    Updated Danish translation

 po/da.po | 2667 +++++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 1520 insertions(+), 1147 deletions(-)

commit 0c574f07f00085f8a3734e8c1ed588a62d7dbbe6
Author: Aron Xu <aronxu@gnome.org>
Date:   Sun Mar 28 22:06:47 2010 +0800

    Update Simplfied Chinese translation.

 po/zh_CN.po | 2774 ++++++++++++++++++++++++++++++++++-------------------------
 1 files changed, 1601 insertions(+), 1173 deletions(-)


