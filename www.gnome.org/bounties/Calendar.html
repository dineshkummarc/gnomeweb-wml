
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <script src="dhtml-table.js"></script>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" media="screen" href="styles.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="http://www.gnome.org/default.css">
    <link rel="icon" type="image/png" href="http://www.gnome.org/img/logo/foot-16.png">
    <title>Calendar Bounties</title>
</head>

<body onLoad="defaultSort()"><div id="body">
<center>
<h1>Calendar Bounties</h1>
<div class="navigation"><a href="index.html#categories">[Main Page]</a></div>
</center>
<table class="table-tasks" cellspacing=2 border=0>
<thead><tr>
    <th class="category">Task Name</th>
    <th class="column-category" style=onMouseOver="ul(this)" onMouseOut="noul(this)" onClick="tableSort (this, 'Money')">Bounty</th>
</tr></thead>
<tr class="taskrow">
    <td style=onMouseOver="ul(this)" onMouseOut="noul(this)"><a href="#127528">National, religious, event calendars</a></td>
    <td bgcolor="#d0d0ff" >$15</td>
</tr>

<tr class="taskrow">
    <td style=onMouseOver="ul(this)" onMouseOut="noul(this)"><a href="#127537">Weather calendar backend</a></td>
    <td bgcolor="#d0d0ff" >$750</td>
</tr>

<tr class="taskrow">
    <td style=onMouseOver="ul(this)" onMouseOut="noul(this)"><a href="#127538">Publish your calendar</a></td>
    <td bgcolor="#d0d0ff" >$1000</td>
</tr>

<tr class="taskrow">
    <td style=onMouseOver="ul(this)" onMouseOut="noul(this)"><a href="#127541">Default free/busy URI</a></td>
    <td bgcolor="#d0d0ff" >$300</td>
</tr>

<tr class="taskrow">
    <td style=onMouseOver="ul(this)" onMouseOut="noul(this)"><a href="#127543">Calendar attachments</a></td>
    <td bgcolor="#d0d0ff" >$750</td>
</tr>

</table>
<p>
  
    <a name="127528"></a><a name="box1"></a>
    <div class="content-box">
      <div class="content-box-header">
	            	      <span class="table-header">National, religious, event calendars</span>
              <span class="bug-number">             
			      <a href="http://bugzilla.gnome.org/show_bug.cgi?id=127528" title="Visit the Bug to meet with others working on this bounty, declare your interest in working on this bounty, and get up to the minute information on this bounty.">(Bug #127528)</a> | | <a href="discuss.html" title="All discussions take place in IRC on irc.gnome.org in #bounties">Discuss</a> | <a href="mailto:bounty@lists.ximian.com?subject=submission for Bounty #127528&body=Bounty: 127528%0AName: %0AEmail: %0APhone: %0ASolution: %0ATeam mates: %0AHelp from: %0ANotes: %0ADonate My Winning: " title="Once your patch has been accepted by the module maintainers and you have registered yourself in the bug, claim your prize here.">Claim Bounty</a>
	    </span>
                      </div>
           <div class="content-box-second-header">
	     Calendar	     <span>
	     Bounty: <span class="bounty">$15		      </span>
	     </span>
	   </div>
	                 	    	<div class="content-box-body">
	    

<p>In Evolution 2.0, users can aggregate multiple simultaneous
calendar sources into a single view.  This means that you can overlay
group calendars and other people's calendars into your own calendar
view, which helps you keep others in mind while you schedule your
life.  The various backend calendars can even be color-coded in the
calendar view.</p>

<a href="evo-webcal-1.png"><img align=right border=0 src="evo-webcal-1-small.png" alt=""></a>

<p>We would like Evolution to ship with a large number of calendars
containing the schedules for national holidays, religious holidays,
and other events of general interest.  For example, calendars of
sporting events or a Linux conference schedule would be neat.</p>

<p>Because Evolution 2.0 allows you to specify a URL to a calendar, it
is even possible for these to be hosted online and cached locally.
This might be useful for things like the GNOME release schedule.</p>


<div class="headlinebar"> Affected Modules</div>


This task probably won't involve patching any existing modules, though
we will include any accepted calendars in the <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution">evolution</a> module.


<div class="headlinebar"> How</div>


<p>Find and check the schedules for various types of events, and create a
calendar in the standard iCal format.  Submit the calendar file or
files, along with a short description, to <a
href="mailto:evolution-patches@ximian.com">evolution-patches@ximian.com</a>.</p>

<p>Until Evolution provides an 'Export' mechanism, the files should be
copied (if created in Evolution) from the Evolution2.0 tree, that is
<code>~/.evolution/calendar/local/OnThisComputer/"name"</code>, where
"name" is the name of the calendar you created.  If created in
Evolution 1.4, the file to copy is
<code>~/evolution/local/Calendar/subfolders/"name"</code>.</p>


<div class="headlinebar"> Pointers</div>


The following links might be helpful:

<ul>
<li><a href="http://lists.ximian.com/mailman/listinfo/evolution">Evolution users list</a></li>
<li><a href="http://www.icalshare.com/">Apple's iCalShare site</a></li>
<li><a href="http://www.faqs.org/rfcs/rfc2445.html">RFC 2445</a>, the iCalendar specification</li>
<li>The <a href="#28528410">calendar publication</a> task is obviously somewhat related.</li>
</ul>

Please note that downloading proprietary <tt>.ical</tt> files and
submitting them is <i>not acceptable</i>.  To collect this bounty, you
must provide an unencumbered, freely-licensed (X11) iCalendar file.


<div class="headlinebar"> Special Note</div>


The bounty for this task is per-calendar.  We will pay bounties for up
to 30 calendars.</p>

      </div>
    </div>
  
    <a name="127537"></a><a name="box2"></a>
    <div class="content-box">
      <div class="content-box-header">
	            	      <span class="table-header">Weather calendar backend</span>
              <span class="bug-number">             
			      <a href="http://bugzilla.gnome.org/show_bug.cgi?id=127537" title="Visit the Bug to meet with others working on this bounty, declare your interest in working on this bounty, and get up to the minute information on this bounty.">(Bug #127537)</a> | | <a href="discuss.html" title="All discussions take place in IRC on irc.gnome.org in #bounties">Discuss</a> | <a href="mailto:bounty@lists.ximian.com?subject=submission for Bounty #127537&body=Bounty: 127537%0AName: %0AEmail: %0APhone: %0ASolution: %0ATeam mates: %0AHelp from: %0ANotes: %0ADonate My Winning: " title="Once your patch has been accepted by the module maintainers and you have registered yourself in the bug, claim your prize here.">Claim Bounty</a>
	    </span>
                      </div>
           <div class="content-box-second-header">
	     Calendar	     <span>
	     Bounty: <span class="bounty">$750		      </span>
	     </span>
	   </div>
	                 	    	<div class="content-box-body">
	    

<img border=0 src="suncloud.png" align=right alt="">
Write a calendar backend that contacts some weather source and provides
weather forecast data for the upcoming week or so as all-day events, so
it shows up in your calendar. This information should be cached locally,
so you can view it when offline.

<p>A mockup on how it should be integrated on the calendar view is below.</p>
<img src="cal-weather.png" align="center">


<div class="headlinebar"> How</div>


<p>The backend just has to get the weather forecast information from
some place (determining that place is part of the job for this bounty,
you might start by looking at where the weather applet gets its
information) and, using ECalBackendFile, create a local copy of that
information (an all day event for each day) in the local file managed
by ECalBackendFile. The backend should probably remove old weather
forecasts, and just keep the ones for the current day and future
days.</p>

<p>The only question remaining is how to allow users to add that backend
to the list of calendars configured. An option could be to create the 'Weather'
calendar on startup, so that it's always available to users. Although there
probably should be a way to add it back if a user ever removes it. In that
case, the 'New Calendar' dialog, new-calendar.c in (<a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui/dialogs">evolution/calendar/gui/dialogs</a>)
could be extended to support the addition of local, remote and any special
kind of calendar backends (weather, birthdays, etc).</p>

<p>Another solution could be to have a config control page for the weather backend,
so that it can ask users all the required information.</p>

<p>Also, a way to use the different weather icons is needed. The best way could be
to use the categories stuff, which unfortunately is hard coded (a fixed set of categories
and icons for those categories is available), so there is the need to have a way for the
backend to register those new categories (Sunny, Rainy, etc) and the icons
associated with it.</p>


<div class="headlinebar"> Affected Modules</div>


<ul>
<li><a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution-data-server/calendar/backends">evolution-data-server/calendar/backends</a> is where
your new backend should reside.
<li><a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution-data-server/src">evolution-data-server/src</a> server needs to register
the method (e.g. weather://) that maps to the backend.
</ul>


<div class="headlinebar"> Tips</div>


Use one of the existing backends, probably the http backend, as a
starting point. Grep sources for &quot;webcal&quot; and see how
it's hooked in. The old summary code used to pull weather data,
so that should provide some clues too.

      </div>
    </div>
  
    <a name="127538"></a><a name="box3"></a>
    <div class="content-box">
      <div class="content-box-header">
	            	      <span class="table-header">Publish your calendar</span>
              <span class="bug-number">             
			      <a href="http://bugzilla.gnome.org/show_bug.cgi?id=127538" title="Visit the Bug to meet with others working on this bounty, declare your interest in working on this bounty, and get up to the minute information on this bounty.">(Bug #127538)</a> | | <a href="discuss.html" title="All discussions take place in IRC on irc.gnome.org in #bounties">Discuss</a> | <a href="mailto:bounty@lists.ximian.com?subject=submission for Bounty #127538&body=Bounty: 127538%0AName: %0AEmail: %0APhone: %0ASolution: %0ATeam mates: %0AHelp from: %0ANotes: %0ADonate My Winning: " title="Once your patch has been accepted by the module maintainers and you have registered yourself in the bug, claim your prize here.">Claim Bounty</a>
	    </span>
                      </div>
           <div class="content-box-second-header">
	     Calendar	     <span>
	     Bounty: <span class="bounty">$1000		      </span>
	     </span>
	   </div>
	                 	    	<div class="content-box-body">
	    

<p>
   Apple's iCal has made "calendar sharing" popular. It's a nice feature where any user can create a calendar
   of events and then publish it on a website, to share it with other users. Others can then "subscribe" their
   calendar application to that calendar file, and updates are automatically synced to their imported calendar
   whenever the master file changes. This makes it easy and convenient to share conference schedules, meeting
   times, club events, moving dates and times and so on.
</p>

<p>
   Implement this calendar publishing feature in Evolution. There are two things: first, it needs to just upload
   the .ics file to a remote location, using gnome-vfs facilities (give the user a few common choices like
   ssh://, FTP, WebDav and saving to a file. Then automatically push updates to the exported file whenever new
   events are added or things are being changed. A GUI mockup for exporting is provided below:
</p>

<center>
<img src="publish_calendar.png" border=0>
</center>

<p>
   We should give a possibility to export to a simple HTML page as well for those visitors who don't use a
   calendar program that supports webcal:// (webcal is just a URI scheme that should invoke Evolution's
   "Calendar Import" dialog that does the same as this one but reverse).
</p>

<!--
<p>
   Also, you can use <a href="http://phpicalendar.sf.net">PhpICalendar</a> to make a dynamic web page for users
   that have PHP support on their server. Evolution could contain a working, stable snapshot of phpical in the
   distribution and you could upload it and set it up for the user's website (proper error checking should
   naturally be carried out, including checking for an existing installation of phpical).
</p>
-->


<div class="headlinebar"> Affected Modules</div>


<p>
   Both <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution">evolution</a> and <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution-data-server">evolution-data-server</a> will be affected.
</p>


<div class="headlinebar"> How</div>


<p>
   Augment the calendar's http backend with the necessary export capabilities. The backend resides in
   <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution-data-server/calendar/backends/http">evolution-data-server/calendar/backends/http</a>, and uses the file backend to operate on
   locally cached calendars. The backend could also handle the HTML generation, exporting it to one or more
   files alongside the ICS file. New named options need to be added to the backend's ESource - e.g.
   user, password, and a flag indicating whether to generate HTML. Additional GUI elements need to be
   added to <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui">evolution/calendar/gui</a> and <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui/dialogs">evolution/calendar/gui/dialogs</a>.
</p>

<p>
   When implementing the HTML generator, you may want to look at HTML
  output from existing web calendars such as <a
  href="http://phpicalendar.sf.net/">PhpICalendar</a>.
</p>

      </div>
    </div>
  
    <a name="127541"></a><a name="box4"></a>
    <div class="content-box">
      <div class="content-box-header">
	            	      <span class="table-header">Default free/busy URI</span>
              <span class="bug-number">             
			      <a href="http://bugzilla.gnome.org/show_bug.cgi?id=127541" title="Visit the Bug to meet with others working on this bounty, declare your interest in working on this bounty, and get up to the minute information on this bounty.">(Bug #127541)</a> | | <a href="discuss.html" title="All discussions take place in IRC on irc.gnome.org in #bounties">Discuss</a> | <a href="mailto:bounty@lists.ximian.com?subject=submission for Bounty #127541&body=Bounty: 127541%0AName: %0AEmail: %0APhone: %0ASolution: %0ATeam mates: %0AHelp from: %0ANotes: %0ADonate My Winning: " title="Once your patch has been accepted by the module maintainers and you have registered yourself in the bug, claim your prize here.">Claim Bounty</a>
	    </span>
                      </div>
           <div class="content-box-second-header">
	     Calendar	     <span>
	     Bounty: <span class="bounty">$300		      </span>
	     </span>
	   </div>
	                 	    	<div class="content-box-body">
	    

<p><a href="http://www.faqs.org/rfcs/rfc2445.html">RFC 2445</a> describes a method of describing free/busy
information (VFREEBUSY components).  Evolution currently will obtain
obtain free/busy information from the addressbook if the vCard or LDAP
property calFBURL (described in <a href="http://www.faqs.org/rfcs/rfc2739.html">RFC 2739</a>) is set.
</p>

<p> Evolution should support a default free/busy uri for users that do
not have the calFBURL property set.
</p>


<div class="headlinebar"> How</div>


<p>Add a setting to cal-prefs-dialog.c in <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui/dialogs">evolution/calendar/gui/dialogs</a> 
so the user can specify a template uri, for instance "http://freebusyserver.org/&lt;USERNAME&gt/freebusy.ifb".
</p>

<p>
When Evolution tries to obtain free/busy information for users, it
first requests the information from the calendar it will be saving the
data to.  If that fails, it tries to find an addressbook entry for the
username and look at the calFBURL property.  The code for these things
resides in e-meeting-model.h in <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui/">evolution/calendar/gui/</a>.  
To accomplish this bounty,
there should be a third method of obtaining the free/busy information,
namely the use of the template uri with appropriate substitution. Most
of the code that loads the calFBURL can be used again to update the
attendee's information.
</p>

You should subscribe to the 
evolution-hackers mailing list, and discuss any technical issues
there.  JP Rosevear <jpr@ximian.com> and Hans Petter Jansson 
<hpj@ximian.com>
will be the primary contacts on the list for the Calendar.
      </div>
    </div>
  
    <a name="127543"></a><a name="box5"></a>
    <div class="content-box">
      <div class="content-box-header">
	            	      <span class="table-header">Calendar attachments</span>
              <span class="bug-number">             
			      <a href="http://bugzilla.gnome.org/show_bug.cgi?id=127543" title="Visit the Bug to meet with others working on this bounty, declare your interest in working on this bounty, and get up to the minute information on this bounty.">(Bug #127543)</a> | | <a href="discuss.html" title="All discussions take place in IRC on irc.gnome.org in #bounties">Discuss</a> | <a href="mailto:bounty@lists.ximian.com?subject=submission for Bounty #127543&body=Bounty: 127543%0AName: %0AEmail: %0APhone: %0ASolution: %0ATeam mates: %0AHelp from: %0ANotes: %0ADonate My Winning: " title="Once your patch has been accepted by the module maintainers and you have registered yourself in the bug, claim your prize here.">Claim Bounty</a>
	    </span>
                      </div>
           <div class="content-box-second-header">
	     Calendar	     <span>
	     Bounty: <span class="bounty">$750		      </span>
	     </span>
	   </div>
	                 	    	<div class="content-box-body">
	    
<p>Add support in evolution for attaching files to events.</p>

<p>The iCalendar specification, <a href="http://www.faqs.org/rfcs/rfc2445.html">RFC 2445</a>, describes a
property ATTACH (4.8.1.1) for attaching data to an iCalendar object
(event or task).  The event and task editor should allow the user to
add and remove documents and files.  It should also allow the user to
open the attached using an appropriate mime handler (similar to
Nautilus or the mail portion of evolution)</p>

<p>The following picture illustrates the point:</p>

<img src="calendar-attachments.gif">

<p>To attach file, drag it on the event. The event should draw a two
pixel black outline to give visual feedback to "drag accept". You should
also be able to attach documents with a right-click menu.  There should
be a contextual menu item to open the editor and get the list of files
and documents</p>


<div class="headlinebar"> Affected Modules</div>

<a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution-data-server">evolution-data-server</a><br>
<a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution">evolution</a>

<div class="headlinebar"> How</div>

 

<p>The first step is to confirm that <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution-data-server/calendar/libical/src/libical">evolution-data-server/calendar/libical/src/libical</a> supports
the ATTACH property properly.  You will want to check that icalrecur.h
and icalrecur.c are adequate and that icalparser.c correctly reads in
the ATTACH property.  If it does not, you will need to correct
that.<p/>

<p>The second step is to to allow drag and drop of files on the day
view, week view and list view calendar items and the task list item
(see e-day-view.c, e-week-view.c and e-cal-list-view. in <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui">evolution/calendar/gui</a>). It can accept the file uri drop, look
up the event and then attach the item.</p>

<p>The third step is to create a page containing the attachment
information for the editor, and add it to the event editor and task
editors, and example of this is recurrence-page.c in <a href="http://cvs.gnome.org/bonsai/rview.cgi?cvsroot=/cvs/gnome&amp;dir=evolution/calendar/gui/dialogs">evolution/calendar/gui/dialogs</a>.  There should also be an
"Attach" button that pops up a file dialog.  The page should not be
visible unless there are attachments or the user clicks the "Attach"
button.  Double clicking and attachment should allow the user to open
the item with an appropriate handler.  You might design this page
similar to the mail composer's attachment area.</p>

<p>The fourth step is to add contextual menu item, "Edit
Attachments..." that should open the editor and display the attachments page.
a similar thing is done by the "Schedule Meeting..." context item.</p>


<div class="headlinebar"> Pointers</div>


<p>
You should subscribe to the <a
href="http://lists.ximian.com/mailman/listinfo/evolution-hackers">
evolution-hackers</a> mailing list, and discuss any technical issues
there.  Rodrigo Moya &lt;<a href="mailto:rodrigo@ximian.com">rodrigo@ximian.com</a>&gt; and Hans Petter Jansson 
&lt;<a href="mailto:hpj@ximian.com">hpj@ximian.com</a>&gt;
will be the primary contacts on the list for the Calendar.
</p>

      </div>
    </div>
</div>

<div id="sidebar">
<p class="section">More Information</p>
<ul>
<li><a href="index.html">Bounties Main Page</a><li>
<li><a href="rules.html">Contest Rules</a></li>
<li><a href="hints.html">Helpful Hints</a></li>
<li><a href="discuss.html">Bounties Discussion</a></li>
<li><a href="Winners.html">Claimed Bounties</a></li>
</ul>
</div>

<div id="hdr">
<div id="logo"><a href="http://www.gnome.org/"><img src="http://www.gnome.org/img/spacer" alt="Home"></a></div>
<div id="banner"><img src="http://www.gnome.org/img/spacer" alt=""></div>
<p class="none"></p>
<div id="hdrNav">
<a href="http://www.gnome.org/about/">About GNOME</a> &middot;
<a href="http://www.gnome.org/start/2.4/">Download</a> &middot;
<a href="http://www.gnome.org/">Users</a> &middot;
<a href="http://developer.gnome.org/">Developers</a> &middot;
<a href="http://foundation.gnome.org/">Foundation</a> &middot;
<a href="http://www.gnome.org/contact/">Contact</a>
</div>
</div>

<br>
<br>
<center>
<i>These pages were <a href="build.cs">autogenerated</a> using <a href="http://www.go-mono.com/">Mono</a>.</i>
</center>
</body>
</html>


</center>
</body>
</html>
