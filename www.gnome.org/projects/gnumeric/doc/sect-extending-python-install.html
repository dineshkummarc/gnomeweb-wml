<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
    div[class~="admonition"] {
      margin-left: 24px;
      margin-right: 24px;
      clear: left;
    }
    img[class~="admonition"] { float: left; }
  
    div[class~="autotoc"] { margin-left: 24px; padding: 0px; }
    div[class~="autotoc"] ul { margin-left: 0px; padding-left: 0px; }
    div[class~="autotoc"] ul li {
      margin-right: 0px;
      padding: 0px;
      list-style-type: none;
    }
    div[class~="autotoc"] ul li span[class~="label"] {
      margin-right: 0.8em;
    }
  
    div[class~="figure"] { margin-left: 24px; margin-right: 12px; }
    div[class~="figure"] div[class~="title"] span[class~="label"] {
      margin-right: 0.8em;
      font-style: italic;
    }
    pre[class~="programlisting"] {
      margin-left: 24px;
      margin-right: 12px;
      overflow: auto;
    }
    pre[class~="screen"] {
      margin-left: 24px;
      margin-right: 12px;
      overflow: auto;
    }
    pre[class~="synopsis"] {
      margin-left: 24px;
      margin-right: 12px;
      overflow: auto;
    }
    pre[class~="linenumbering"] {
      
      margin-top: 0px;
      margin-left: 18px;
      background-color: black;
      color: white;
      -moz-opacity: .3;
      padding-right: 0.4em;
      padding-left: 0.4em;
    }
    blockquote[class~="blockquote"] { margin-left: 24px; margin-right: 12px; }
    dt[class~="glossterm"] { margin-left: 8px; }
    dt[class~="glossterm"] + dd { margin-top: -8px; }
    dd[class~="glossdef"]     { margin-left: 24px; margin-right: 12px; }
    dd[class~="glosssee"]     { margin-left: 24px; margin-right: 12px; }
    dd[class~="glossseealso"] { margin-left: 24px; margin-right: 12px; }
  
    span[class~="co"] {
      font-size: 8px;
      padding-left:  0.4em;
      padding-right: 0.4em;
      margin-left:   0.2em;
      margin-right:  0.2em;
      border: solid 1px;
      -moz-border-radius: 8px;
      color: #FFFFFF;
      background-color: #000000;
      border-color: #000000;
    }
    span[class~="co"]:hover {
      color: #FFFFFF;
      background-color: #333333;
      border-color: #333333;
    }
    span[class~="co"] a { text-decoration: none; }
    span[class~="co"] a:hover { text-decoration: none; }
  
    div[class~="cmdsynopsis"] { font-family: monospace; }
  
    div[class~="list"] { margin-left: 24px; padding: 0px; }
    div[class~="list"] dl dt { margin-left: 0px; }
    div[class~="list"] dl dt + dd { margin-top: -8px; }
    div[class~="list"] dl dd {
      margin-left: 24px;
      margin-right: 12px;
    }
    div[class~="list"] ul { margin-left: 0px; padding-left: 0px; }
    div[class~="list"] ol { margin-left: 0px; padding-left: 0px; }
    div[class~="list"] ul li { margin-right: 12px; padding: 0px; }
    div[class~="list"] ol li { margin-right: 12px; padding: 0px; }
  
    dl[class~="qandaset"] dt + dd { margin-top: -8px; }
    dt[class~="question"] { margin-left: 0px; }
    dt[class~="question"] div[class~="label"] {
      float: right;
      margin-right: 1em;
    }
    dd[class~="answer"] { margin-left: 12px; }
    dt[class~="answer"] div[class~="label"] {
      float: right;
      margin-right: 1em;
    }
  
    div[class~="refentry"] h2[class~="refentry"] {
      border: none;
      margin-top: 1em;
    }
    div[class~="refentry"] + div[class~="refentry"] {
      border-top: dashed black 1px;
    }
  
    div[class~="table"] { margin-left: 24px; }
    div[class~="table"] div[class~="title"] { margin-bottom: 0.2em; }
    div[class~="table"] div[class~="title"] span[class~="label"] {
      margin-right: 0.8em;
      font-style: italic;
    }
    table {
      border-collapse: collapse;
      border: solid 1px;
      -moz-border-radius: 5px;
    }
  tr[class~="odd"] { background-color: #F0F0F0 }
    td { padding-left: 0.8em; padding-right: 0.8em; }
    th { padding-left: 0.8em; padding-right: 0.8em; }
    thead tr th {
      border-bottom: solid 1px;
    }
    td + td {
      border-left: solid 1px;
    }
    tbody {
      border: solid 1px;
      -moz-border-radius: 5px;
    }
  
    h1 { font-size: 1.6em; margin-top: 0em; }
    h2 { font-size: 1.4em; }
    h2[class~="title"] {
      margin-top: 1.8em;
      border-bottom: solid 1px;
    }
    h3 { font-size: 1.2em; margin-top: 1.8em; }
    h3 span[class~="title"] { border-bottom: solid 1px; }
    h4 { font-size: 1.0em; margin-top: 1.8em; }
    h4 span[class~="title"] { border-bottom: solid 1px; }
    h5 { font-size: 1.0em; margin-top: 1.2em; }
    h1 span[class~="label"] { padding-right: 0.8em; }
    h2 span[class~="label"] { padding-right: 0.8em; }
    h3 span[class~="label"] { padding-right: 0.8em; }
    h4 span[class~="label"] { padding-right: 0.8em; }
    h5 span[class~="label"] { padding-right: 0.8em; }
  
    body {
      padding-top: 8px;
      padding-left: 8px;
      padding-right: 12px;
    }
    div + div { margin-top: 1em; }
    p {
      text-align: justify;
    }
  </style>
</head>
<body><div class="sect2">
<a name="sect-extending-python-install"></a><h1 class="sect2 title"><span class="title"><span class="label">13.3.1</span>Installing and Building Gnumeric for Python</span></h1>
<p class="para">
      This section describes how to obtain the
      <span class="application" style="font-style: italic; ">Gnumeric</span> source code, configure it
      for Python and build it. This section will eventually be
      removed as Python becomes supported by default.
    </p>
<div class="sect3">
<a name="sect-extending-python-install-prelim"></a><h2 class="sect3 title"><span class="title"><span class="label">13.3.1.1</span>Preliminaries</span></h2>
<p class="para">
      I'm going to define some variables here so that you can insert
      the appropriate command or item for your system when they
      occur. I'll prefix them all with '$'.
    </p>
<div class="list"><div class="itemizedlist"><ul>
<li>
        <span class="para">
        <span class="emphasis" style="font-style: italic; ">$root</span>: Do whatever you do to become
        root. The usual options are:

        <div class="list"><div class="itemizedlist"><ul>
<li>
            <span class="para">
              <span class="literal" style="font-family: monospace; ">su -</span> and hit <span class="keycap" style="font-weight: bold; ">Enter</span>
            </span>
          </li>
<li>
            <span class="para">
            <span class="literal" style="font-family: monospace; ">sudo</span>
            </span>
          </li>
<li>
            <span class="para">
            <span class="literal" style="font-family: monospace; ">fakeroot</span> (works in some situations, but
            not all)
            </span>
          </li>
</ul></div></div>
        </span>
      </li>
<li>
         <span class="para">
           <span class="emphasis" style="font-style: italic; ">$version</span>: Whatever your current
           Gnumeric version is. Some examples:

           <div class="list"><div class="itemizedlist"><ul>
<li><span class="para">1.1.20</span></li>
<li><span class="para">1.1.20-bonobo</span></li>
<li><span class="para">1.1.90</span></li>
</ul></div></div>
         </span>
       </li>
</ul></div></div>
</div>
<div class="sect3">
<a name="sect-extending-python-install-build"></a><h2 class="sect3 title"><span class="title"><span class="label">13.3.1.2</span>In the Beginning (Installing and Building)</span></h2>
<p class="para">
      You need to get Python and Gnumeric, and the Python plugin for
      Gnumeric. You can get the binaries, the packaged source, or the
      developing edge CVS.
    </p>
<div class="sect4">
<a name="sect-extending-python-install-binaries"></a><h3 class="sect4 title"><span class="title"><span class="label">13.3.1.2.1</span>Getting the binaries (Debian)</span></h3>
<p class="para">
        I've only tested this on sid (unstable). The version you get
        from stable (woody) may not act quite the same.
      </p>
<div class="list"><div class="procedure"><ul><li>
          <p class="para">
            <span class="emphasis" style="font-style: italic; ">$root</span> <span class="literal" style="font-family: monospace; ">apt-get install
            gnumeric gnumeric-python python</span>
          </p>
        </li></ul></div></div>
</div>
<div class="sect4">
<a name="sect-extending-python-install-debsource"></a><h3 class="sect4 title"><span class="title"><span class="label">13.3.1.2.2</span>
        Getting and building the current Debianized source
      </span></h3>
<p class="para">
        If you have Debian, and don't need the bleeding edge, this is
        <span class="emphasis" style="font-style: italic; ">by far</span> the easiest way to get and build
        the source.
      </p>
<div class="list"><div class="procedure"><ol>
<li>
            <p class="para">
              Change to a directory where you want to hang the source
              directory.
            </p>
          </li>
<li>
            <p class="para">
              <span class="emphasis" style="font-style: italic; ">$root</span> <span class="literal" style="font-family: monospace; ">apt-get build-dep
			  gnumeric</span>
            </p>
          </li>
<li>
            <p class="para">
              <span class="literal" style="font-family: monospace; ">apt-get source gnumeric</span>
            </p>
          </li>
<li>
            <p class="para">
              <span class="literal" style="font-family: monospace; ">cd gnumeric-</span><span class="emphasis" style="font-style: italic; ">$version</span>
            </p>
          </li>
<li>
            <p class="para">
              <span class="literal" style="font-family: monospace; ">debian/rules build</span>
            </p>
          </li>
<li>
            <p class="para">
              To make the .deb packages: <span class="emphasis" style="font-style: italic; ">$root</span>
            <span class="literal" style="font-family: monospace; ">./debian/rules binary</span>
            </p>
          </li>
<li>
            <p class="para">
              To install those .deb packages:
            </p>
            <div class="list"><div class="procedure"><ol>
<li>
                <p class="para">
                  <span class="literal" style="font-family: monospace; ">cd ..</span> to change to that directory.
                </p>
              </li>
<li>
                <p class="para">
                  <span class="emphasis" style="font-style: italic; ">$root</span> <span class="literal" style="font-family: monospace; ">dpkg -i
                  gnum*deb</span> (presuming you don't have other
                  .deb packages beginning with "gnum" lying around
                  here.
                </p>
              </li>
</ol></div></div>
          </li>
<li>
            <p class="para">
              You may or may not want to remove those .deb files now:
              <span class="emphasis" style="font-style: italic; ">$root</span> <span class="literal" style="font-family: monospace; ">rm
              gnum*deb</span>)
            </p>
           </li>
</ol></div></div>
</div>
<div class="sect4">
<a name="sect-extending-python-install-cvs"></a><h3 class="sect4 title"><span class="title"><span class="label">13.3.1.2.3</span>Getting and building the source from CVS-HEAD</span></h3>
<p class="para">
        Remember that this is the developing edge. Things may not
        work. Generally don't do this unless you are subscribed to the
        mail list and possibly also on the IRC channel.
      </p>
<p class="para">
        You will need a few things for this to work at all:
      </p>
<div class="list"><div class="procedure"><ol>
<li><p class="para">gnome-common</p></li>
<li><p class="para">libgsf (see below)</p></li>
<li>
             <p class="para">
               pygtk2 (On Debian, make sure to get python-gtk2 and
               python-gtk2-dev)
             </p>
           </li>
<li><p class="para">gnumeric (see below, obviously)</p></li>
</ol></div></div>
<p class="para">
        And although the following will build in the main build space,
        it's probably better to build in a temporary space. But I
        can't be bothered to learn how to fiddle the build pathways.
      </p>
<div class="list"><div class="procedure"><ol>
<li>
            <p class="para">
              Change to a directory where you want to hang the source
              directory for Gnumeric and a few other Gnome things.
            </p>
          </li>
<li>
            <p class="para">
              <span class="literal" style="font-family: monospace; ">export
              CVSROOT=:pserver:anonymous@anoncvs.gnome.org:/cvs/gnome</span>
            </p>
          </li>
<li>
            <p class="para">
              <span class="literal" style="font-family: monospace; ">cvs login</span> (No password -- hit
              RETURN.)
            </p>
          </li>
<li>
            <p class="para">
              Getting and building libgsf:
            </p>

            <div class="list"><div class="procedure"><ol>
<li>
                <p class="para">
                  cvs co libgsf
                </p>
              </li>
<li>
                <p class="para">
                  cd libgsf
                </p>
              </li>
<li>
                <p class="para">
                  RedHat: <span class="literal" style="font-family: monospace; ">./autogen.sh</span>
                </p>
              </li>
<li>
                <p class="para">
                  Debian: <span class="literal" style="font-family: monospace; ">./autogen.sh --prefix=/usr
                --with-gconf-schema-file-dir=/etc/gconf/schemas</span>
                </p>
              </li>
<li>
                <p class="para">
                  <span class="literal" style="font-family: monospace; ">make</span>
                </p>
              </li>
<li>
                <p class="para">
                  <span class="emphasis" style="font-style: italic; ">$root</span> <span class="literal" style="font-family: monospace; ">make install</span>
                </p>
              </li>
<li>
                <p class="para">
                  If you find that this didn't work, try <span class="literal" style="font-family: monospace; ">make
                  clean</span> and then repeat from the autogen
                  step.
                </p>
              </li>
</ol></div></div>

          </li>
<li>
             <p class="para">
               Getting and building libgal <span class="emphasis" style="font-weight: bold; ">No longer necessary! (13 June
               2003)</span>
             </p>
	  </li>
<li>
            <p class="para">
              Getting and building gnumeric:
            </p>
		  <div class="list"><div class="procedure"><ol>
<li><p class="para"><span class="literal" style="font-family: monospace; ">cvs -z3 checkout gnumeric -d
				gnumeric-head</span></p></li>
<li><p class="para"><span class="literal" style="font-family: monospace; ">cd gnumeric-head</span></p></li>
<li><p class="para">RedHat: <span class="literal" style="font-family: monospace; ">./autogen.sh</span> and wait while it
			  compiles</p></li>
<li><p class="para">Debian: <span class="literal" style="font-family: monospace; ">./autogen.sh --prefix=/usr --with-gconf-schema-file-dir=/etc/gconf/schemas</span></p></li>
<li><p class="para"><span class="literal" style="font-family: monospace; ">make</span></p></li>
<li><p class="para"><span class="emphasis" style="font-weight: bold; ">Optional:</span> <span class="emphasis" style="font-style: italic; ">$root</span> <span class="literal" style="font-family: monospace; ">make install</span></p></li>
<li><p class="para">If you find that this didn't work, try <span class="literal" style="font-family: monospace; ">make clean</span> and
			  then repeat from the autogen step. For example,
			  sometimes I've had it not create the python-loader.</p></li>
</ol></div></div>
	   </li>
</ol></div></div>
<p class="para">
          OK, you should now have gnumeric! Test it! If you installed
          the Debianized version via apt-get, or did "make install",
          it should be installed to /usr/bin (or /usr/local/bin on
          RedHat?)  and you can just type
          <span class="literal" style="font-family: monospace; ">gnumeric</span>. Otherwise you will find it in
          <span class="literal" style="font-family: monospace; ">gnumeric-head/src/</span> and you will have to
          run it from there. 
        </p>
</div>
</div>
</div></body>
</html>
