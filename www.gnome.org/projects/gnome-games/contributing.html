<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
	<title>Gnome Games - Developer's Guidelines</title>
	<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="http://www.gnome.org/default.css" />
	<link rel="stylesheet" type="text/css" href="gnomegames.css" />
</head>
<body>

<div id="hdr">
	<a href="http://www.gnome.org/"><img id="logo" src="http://gnome.org/img/logo/text-64" alt="Home" title="Back to the GNOME front page" /></a>
	<p class="none"></p>
</div>

<div id="body">
     <div id="intro">
         <h1>Gnome Games - Developer's Guidelines</h1>
	 <p>These are step-by-step instructions about how to contribute to Gnome Games. These assume you are just starting out with GNOME development and are not a regular GNOME developer. The different modules that make up GNOME each have their own special quirks, but all of them should follow similar processes to Gnome Games.<p>
     </div>
     <div>
         <h2>I've got this great idea !</h2>
	 <p>You may have some new graphics, a new feature or a bug fix. Depending on what it is you should do different things.</p>
	 <ul>
	 <li><p><b>Graphics and Sounds</b> - submit these as a bug report in <a href="http://bugzilla.gnome.org/">Bugzilla</a>. Be warned that the size of Gnome Games is already quite large and we are quite picky about what we include, so don't feel bad if your contribution is rejected. Another frequent occurance is that the maintainer will ask for changes, this may hurt your pride, but it is also a sign that he wants them. <i>Do not submit graphics or sounds unless you are certain of their copyright status. Ideally it should be your own work.</i></p></li>
	 <li><p><b>Patches</b> - whether for bug fixes or enhancements, send these to <a href="http://bugzilla.gnome.org/">Bugzilla</a>. Details on how to make patches can be found below.</p></li>
	 <li><p><b>Major Enhancements and Features</b> - ultimately are treated like patches, but you should also discuss them on the <a href="http://mail.gnome.org/mailman/listinfo/games-list/">mailing list</a> before-hand since the integration into Gnome Games will requie some co-ordination with the release schedule.</p></li>
	 <li><p><b>Suggestions</b> - Suggestions come in many forms. Feature requests and user-interface criticism should go into <a href="http://bugzilla.gnome.org/">Bugzilla</a>, often with the severity "enhancement". Suggestions that are vague or far-reaching should be discussed on the <a href="http://mail.gnome.org/mailman/listinfo/games-list/">mailing list</a>.</p></li>
	 <li><p><b>New Games</b> - Forget it. Gnome Games is too large to be able to fit in new games. We will happily help you with making a GNOME compatible game, once again the correct place is the <a href="http://mail.gnome.org/mailman/listinfo/games-list/">mailing list</a>.</p></li>
	 </ul>

	 <h2>I want to help, any suggestions ?</h2>
	 <p>If you want to help out, but don't have a great new idea of your own, then we have plenty for you. The two major sources are the the <a href="http://cvs.gnome.org/viewcvs/gnome-games/TODO?view=markup">TODO</a> file in the top of the Gnome Games distribution and the list of <a href="http://bugzilla.gnome.org/buglist.cgi?short_desc_type=allwordssubstr&short_desc=&product=gnome-games&long_desc_type=allwordssubstr&long_desc=&status_whiteboard_type=allwordssubstr&status_whiteboard=&keywords_type=anywords&keywords=&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=NEEDINFO&emailtype1=substring&email1=&emailtype2=substring&email2=&bugidtype=include&bug_id=&changedin=&chfieldfrom=&chfieldto=Now&chfieldvalue=&cmdtype=doit&namedcmd=gnome-games&newqueryname=&order=Bug+Number&field0-0-0=noop&type0-0-0=noop&value0-0-0=">open bugs</a> in bugzilla. To avoid conflicts with two people working on the same thing, if it looks like it will take more than a small amount of effort it might pay to <a href="mailto:games-list@gnome.org">drop a line</a> to the mailing list describing your intentions.<p>
	 <p>Once you have your idea, you can proceed as above. If you are fixing a bug or implementing a feature requested in a bug report then the best place to send your code is as a patch at the end of the relevant bug report.<p>

        <h2>Getting the code</h2>
	<p>Obviously you need some code to work with. You can work with the latest tarballs from the <a href="http://ftp.gnome.org/pub/GNOME/sources/gnome-games/">FTP site</a> but these get out of date quickly. The best option is to use CVS. There are two options for using CVS: either update your entire GNOME system from CVS using something like <a href="http://www.daa.com.au/~james/software/jhbuild/"><tt>jhbuild</tt></a> or just download Gnome Games from CVS. <tt>jhbuild</tt> is comprehensive and guaranteed to keep you up to date. Unfortunately it takes a lot of time and disk space and often keeps you too close to the bleeding edge.</p>
<p>If you only want to work with Gnome Games then it is probably best just to download the gnome-games modules from CVS. To do this issue the following shell commands from the directory you want to store everything in.</p>

<pre class="programlisting">
<b>$ cvs -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome login</b>
Logging in to :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome
CVS password: 
<b>$ cvs -z3 -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome get gnome-games</b>
...
</pre>

<p>When asked for a password you can just hit enter, anyone can use anonymous CVS and there is no password. Once you issue the second command then a long list of file names will be printed as they are downloaded. Once it is finished you will have a directory named gnome-games and you are almost ready.</p>
<p>Go into the <tt>gnome-games</tt> directory and type <tt>./autogen.sh</tt>, this will run <tt>configure</tt> and set everything up. You can give <tt>autogen.sh</tt> any options you can give <tt>configure</tt> and you will probably want to use <tt>--prefix=/some/directory</tt>. <tt>autogen.sh</tt> may complain about missing libraries or libraries that are too old. If it does you will need to find and install appropriate versions of these libraries. Try looking in the <a href="http://ftp.gnome.org/pub/GNOME/sources/">GNOME FTP site</a>.</p>
<p>Once <tt>autogen.sh</tt> has run successfully you can type <tt>make</tt> to build everything. You are noe ready to begin hacking !</p>

<h2>Finding your way around</h2>

<p>Now you've got the code, you need to find the bit you want to alter. All the games are in subdirectories. There is also a subdirectory of library code called <tt>libgames-support</tt>. Some subdirectories are split into further <tt>src</tt> and <tt>data</tt> subdirectories.</p>
<p>With each game there are several common files beyond the normal <tt>.c</tt> and <tt>.h</tt> files.<p>
<ul>
<li><p><tt>*.schemas.in</tt> - These files contain <a href="http://www.gnome.org/projects/gconf/">gconf</a> keys.</p></li>
<li><p><tt>*.desktop</tt> - Files that describe menu entries.</p></li>
<li><p><tt>help/*</tt> - The help files. These are written in <a href="www.docbook.org">docbook</a> and are read by <a href="http://ftp.gnome.org/pub/GNOME/sources/yelp">yelp</a>. For English speakers the <tt>C</tt> subdirectory is what you want.</p></li> 
</ul>


<h2>Style</h2>

<p>In general you should stick to the style currently used in the files you are editing. There is a <a href="http://developer.gnome.org/doc/guides/programming-guidelines/code-style.html">GNOME coding style</a> but many games pre-date this and it is better for revision-tracking purposes not to re-indent the code.</p>
<p>You will also want to look at the <a href="http://developer.gnome.org/doc/guides/programming-guidelines/book1.html">GNOME programming guidelines</a> although these are a little old. For issues of user-interface style you should refer to the <a href="http://developer.gnome.org/projects/gup/hig/1.0/">Humand Interface Guidelines</a>.</p>

<h2>ChangeLogs</h2>

<p>When you make a change please document it in the ChangeLog file. Using <tt>emacs</tt> the key-combination <tt>C-x 4 a</tt> will create a new entry ready for you to fill in. Not all GNOME modules like ChangeLog entries for minor changes but for Gnome Games we appreciate it. It helps explain your patch and ensures you get proper credit.</p>

<h2>Keeping up to date</h2>

<p>Between the time you started hacking and when you finished the code in CVS has probably changed. To re-synchronise your code use the command:</p>

<pre class="programlisting">
<b>$ cvs -z3 -q -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome update -Pd gnome-games</b>
</pre>

<p>from the same directory you issues the previous cvs commands. You do not need to login again, in fact you only need to do that once ever. A list of files will be displayed along with a single character denoting their status. The only ones you need to know about are those labelled with a "C". The C is for conflict and it means that someone has changed a file you changed and the changes are incompatible.</p>

<h2>Patches</h2>
<p>Now that you have your code is synchronised with the GNOME CVS repository you need to generate a patch. You do this using the command:</p>

<pre class="programlisting">
<b>$ cvs -z3 -q -d :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome diff -u gnome-games > patch-file</b>
</pre>

<p>Note the use of the <tt>-u</tt> option. For Gnome Games the prefered form of diff is a unified diff. The patch is now in the file <tt>patch-file</tt> which you can attach to a bug-report using the "Create a New Attachment" link.</p>

     </div>

</div>



<div id="sidebar">
    <p class="section">Links</p>
    <ul>
    <li><a href="index.html">Gnome Games</a></li>
    <li><a href="http://cvs.gnome.org/">GNOME CVS Tools</a></li>
    <li><a href="http://bugzilla.gnome.org/">GNOME Bug Tracking System</a></li>
    </ul>	
</div>

<div id="copyright">
	Copyright &copy; 2004, <a href="http://www.gnome.org/">The GNOME Project</a><br />
	<a href="http://validator.w3.org/check/referer">Optimized</a>
	for <a href="http://www.w3.org/">standards</a>.
</div>

</body>
</html>
