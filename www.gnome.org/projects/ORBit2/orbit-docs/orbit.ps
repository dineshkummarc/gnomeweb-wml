%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: orbit.dvi
%%Pages: 94
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica-Bold Palatino-Roman Palatino-Bold
%%+ Palatino-Italic Courier Courier-Bold Helvetica Courier-Oblique
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -q orbit.dvi -o orbit.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2003.12.26:2117
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginProcSet: color.pro
%!
TeXDict begin/setcmykcolor where{pop}{/setcmykcolor{dup 10 eq{pop
setrgbcolor}{1 sub 4 1 roll 3{3 index add neg dup 0 lt{pop 0}if 3 1 roll
}repeat setrgbcolor pop}ifelse}B}ifelse/TeXcolorcmyk{setcmykcolor}def
/TeXcolorrgb{setrgbcolor}def/TeXcolorgrey{setgray}def/TeXcolorgray{
setgray}def/TeXcolorhsb{sethsbcolor}def/currentcmykcolor where{pop}{
/currentcmykcolor{currentrgbcolor 10}B}ifelse/DC{exch dup userdict exch
known{pop pop}{X}ifelse}B/GreenYellow{0.15 0 0.69 0 setcmykcolor}DC
/Yellow{0 0 1 0 setcmykcolor}DC/Goldenrod{0 0.10 0.84 0 setcmykcolor}DC
/Dandelion{0 0.29 0.84 0 setcmykcolor}DC/Apricot{0 0.32 0.52 0
setcmykcolor}DC/Peach{0 0.50 0.70 0 setcmykcolor}DC/Melon{0 0.46 0.50 0
setcmykcolor}DC/YellowOrange{0 0.42 1 0 setcmykcolor}DC/Orange{0 0.61
0.87 0 setcmykcolor}DC/BurntOrange{0 0.51 1 0 setcmykcolor}DC
/Bittersweet{0 0.75 1 0.24 setcmykcolor}DC/RedOrange{0 0.77 0.87 0
setcmykcolor}DC/Mahogany{0 0.85 0.87 0.35 setcmykcolor}DC/Maroon{0 0.87
0.68 0.32 setcmykcolor}DC/BrickRed{0 0.89 0.94 0.28 setcmykcolor}DC/Red{
0 1 1 0 setcmykcolor}DC/OrangeRed{0 1 0.50 0 setcmykcolor}DC/RubineRed{
0 1 0.13 0 setcmykcolor}DC/WildStrawberry{0 0.96 0.39 0 setcmykcolor}DC
/Salmon{0 0.53 0.38 0 setcmykcolor}DC/CarnationPink{0 0.63 0 0
setcmykcolor}DC/Magenta{0 1 0 0 setcmykcolor}DC/VioletRed{0 0.81 0 0
setcmykcolor}DC/Rhodamine{0 0.82 0 0 setcmykcolor}DC/Mulberry{0.34 0.90
0 0.02 setcmykcolor}DC/RedViolet{0.07 0.90 0 0.34 setcmykcolor}DC
/Fuchsia{0.47 0.91 0 0.08 setcmykcolor}DC/Lavender{0 0.48 0 0
setcmykcolor}DC/Thistle{0.12 0.59 0 0 setcmykcolor}DC/Orchid{0.32 0.64 0
0 setcmykcolor}DC/DarkOrchid{0.40 0.80 0.20 0 setcmykcolor}DC/Purple{
0.45 0.86 0 0 setcmykcolor}DC/Plum{0.50 1 0 0 setcmykcolor}DC/Violet{
0.79 0.88 0 0 setcmykcolor}DC/RoyalPurple{0.75 0.90 0 0 setcmykcolor}DC
/BlueViolet{0.86 0.91 0 0.04 setcmykcolor}DC/Periwinkle{0.57 0.55 0 0
setcmykcolor}DC/CadetBlue{0.62 0.57 0.23 0 setcmykcolor}DC
/CornflowerBlue{0.65 0.13 0 0 setcmykcolor}DC/MidnightBlue{0.98 0.13 0
0.43 setcmykcolor}DC/NavyBlue{0.94 0.54 0 0 setcmykcolor}DC/RoyalBlue{1
0.50 0 0 setcmykcolor}DC/Blue{1 1 0 0 setcmykcolor}DC/Cerulean{0.94 0.11
0 0 setcmykcolor}DC/Cyan{1 0 0 0 setcmykcolor}DC/ProcessBlue{0.96 0 0 0
setcmykcolor}DC/SkyBlue{0.62 0 0.12 0 setcmykcolor}DC/Turquoise{0.85 0
0.20 0 setcmykcolor}DC/TealBlue{0.86 0 0.34 0.02 setcmykcolor}DC
/Aquamarine{0.82 0 0.30 0 setcmykcolor}DC/BlueGreen{0.85 0 0.33 0
setcmykcolor}DC/Emerald{1 0 0.50 0 setcmykcolor}DC/JungleGreen{0.99 0
0.52 0 setcmykcolor}DC/SeaGreen{0.69 0 0.50 0 setcmykcolor}DC/Green{1 0
1 0 setcmykcolor}DC/ForestGreen{0.91 0 0.88 0.12 setcmykcolor}DC
/PineGreen{0.92 0 0.59 0.25 setcmykcolor}DC/LimeGreen{0.50 0 1 0
setcmykcolor}DC/YellowGreen{0.44 0 0.74 0 setcmykcolor}DC/SpringGreen{
0.26 0 0.76 0 setcmykcolor}DC/OliveGreen{0.64 0 0.95 0.40 setcmykcolor}
DC/RawSienna{0 0.72 1 0.45 setcmykcolor}DC/Sepia{0 0.83 1 0.70
setcmykcolor}DC/Brown{0 0.81 1 0.60 setcmykcolor}DC/Tan{0.14 0.42 0.56 0
setcmykcolor}DC/Gray{0 0 0 0.50 setcmykcolor}DC/Black{0 0 0 1
setcmykcolor}DC/White{0 0 0 0 setcmykcolor}DC end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (orbit.dvi)
@start /Fa 137[45 45 45 45 45 3[45 45 7[45 2[45 45 46[45
45 49[{TeXBase1Encoding ReEncodeFont}12 74.7198 /Courier-Oblique
rf /Fb 137[50 2[50 50 2[50 50 6[50 1[50 2[50 50 3[50
1[50 41[50 49[{TeXBase1Encoding ReEncodeFont}12 83.022
/Courier-Oblique rf /Fc 134[33 33 33 33 33 33 33 33 1[33
33 33 33 33 33 33 33 33 33 33 33 33 33 33 33 1[33 7[33
2[33 1[33 2[33 33 4[33 3[33 33 1[33 33 3[33 2[33 33 33
33 33 33 33 33 33 33 33 33 33 33 33 44[{TeXBase1Encoding ReEncodeFont}
51 55.1432 /Courier rf /Fd 137[33 1[33 33 33 2[33 33
33 33 33 1[33 33 1[33 33 1[33 1[33 49[33 33 33 45[{
TeXBase1Encoding ReEncodeFont}18 55.1432 /Courier-Bold
rf /Fe 134[30 6[30 1[30 30 6[30 30 30 30 1[30 30 30 3[30
1[30 26[30 27[30 36[{TeXBase1Encoding ReEncodeFont}15
49.6305 /Courier rf /Ff 134[37 37 54 37 42 21 37 25 1[42
42 42 62 17 37 17 17 42 42 21 42 42 37 42 42 1[42 5[50
6[54 1[50 58 5[21 54 1[46 1[54 54 50 50 6[21 4[42 1[42
2[42 1[21 25 21 2[25 25 17 36[37 2[{TeXBase1Encoding ReEncodeFont}47
74.7198 /Helvetica rf /Fg 139[25 4[46 9[42 22[54 19[25
58[{TeXBase1Encoding ReEncodeFont}5 74.7198 /Helvetica-Bold
rf /Fh 135[50 2[50 50 50 50 1[50 50 50 50 50 50 1[50
1[50 50 50 50 50 50 50 1[50 32[50 50 50 9[50 2[50 50
50 45[{TeXBase1Encoding ReEncodeFont}27 83.022 /Courier-Bold
rf /Fi 130[45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 2[45
3[45 2[45 45 45 45 1[45 45 45 45 45 1[45 45 2[45 45 1[45
45 45 2[45 45 45 45 4[45 1[45 1[45 45 45 45 45 45 45
45 45 45 45 1[45 45 1[45 45 34[{TeXBase1Encoding ReEncodeFont}69
74.7198 /Courier-Bold rf /Fj 129[40 7[40 40 40 40 40
1[40 40 1[40 40 40 1[40 40 2[40 40 40 40 40 1[40 9[40
1[40 40 1[40 40 5[40 5[40 40 4[40 6[40 1[40 2[40 40 40
40 9[40 36[{TeXBase1Encoding ReEncodeFont}35 67.2479
/Courier rf /Fk 129[45 45 1[45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
1[45 45 45 45 45 1[45 45 45 1[45 45 45 45 1[45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 2[45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 33[{TeXBase1Encoding ReEncodeFont}87
74.7198 /Courier rf /Fl 134[51 51 71 51 56 30 51 36 56
56 56 56 81 25 51 25 25 56 56 30 51 56 51 56 51 1[51
5[61 1[86 1[66 56 61 66 1[61 71 66 76 56 2[25 66 1[56
61 66 66 66 66 1[56 11[51 51 51 1[25 25 30 5[25 66 35[56
2[{TeXBase1Encoding ReEncodeFont}55 91.3242 /Helvetica-Bold
rf /Fm 106[40 149[{TeXBase1Encoding ReEncodeFont}1 66.4176
/Palatino-Roman rf /Fn 203[25 25 25 25 49[{
TeXBase1Encoding ReEncodeFont}4 49.8132 /Palatino-Roman
rf /Fo 134[56 56 78 56 61 33 56 39 61 61 61 61 89 28
56 1[28 61 61 33 56 61 56 61 56 9[95 2[61 67 73 78 67
78 73 84 1[73 1[28 1[78 61 67 73 73 73 73 1[61 17[33
6[73 38[{TeXBase1Encoding ReEncodeFont}45 100.457 /Helvetica-Bold
rf /Fp 134[42 42 60 42 46 28 32 32 38 42 37 46 65 23
37 23 23 42 42 23 32 42 34 38 37 1[42 7[78 1[65 1[46
55 65 51 65 65 78 46 2[28 65 60 46 51 65 55 51 60 7[42
42 42 42 42 42 42 42 42 42 1[21 28 3[28 28 23 36[44 2[{
TeXBase1Encoding ReEncodeFont}61 83.022 /Palatino-Italic
rf /Fq 134[46 42 69 46 51 28 37 32 51 51 46 51 74 28
51 28 28 51 46 32 42 51 37 51 42 23 42 2[50 7[55 51 60
69 51 69 1[83 51 2[32 69 1[46 51 69 60 55 65 2[50 50
1[21 1[42 42 42 42 42 42 42 42 42 42 25 21 28 21 2[28
28 2[74 2[33 31[51 2[{TeXBase1Encoding ReEncodeFont}66
83.022 /Palatino-Bold rf /Fr 134[68 1[95 1[74 40 68 47
74 74 74 74 108 34 68 1[34 74 74 40 68 74 68 74 68 12[74
1[88 95 81 95 5[34 88 1[74 2[88 88 88 10[68 68 68 68
68 68 2[34 46[{TeXBase1Encoding ReEncodeFont}40 121.553
/Helvetica-Bold rf /Fs 22[40 84[42 42 24[42 46 43 69
47 50 27 35 33 46 50 45 48 73 24 46 19 24 48 46 28 40
51 37 46 42 1[42 5[55 55 83 60 65 51 44 55 65 50 65 69
79 51 60 1[28 69 63 46 51 64 59 51 65 62 37 50 1[50 21
21 42 42 42 42 42 42 42 42 42 42 50 21 28 21 50 32 28
28 23 65 3[31 30[50 50 2[{TeXBase1Encoding ReEncodeFont}83
83.022 /Palatino-Roman rf /Ft 136[65 46 51 28 46 32 1[51
51 51 74 23 46 1[23 51 51 28 46 1[46 1[46 10[55 60 1[55
60 2[65 5[23 2[51 1[60 60 60 60 6[28 6[46 1[46 2[23 46[{
TeXBase1Encoding ReEncodeFont}34 83.022 /Helvetica-Bold
rf /Fu 22[61 111[61 1[86 1[68 37 61 43 1[68 68 68 1[31
61 1[31 68 68 1[61 68 61 68 61 12[68 74 80 3[80 92 68
4[86 68 74 2[80 66[{TeXBase1Encoding ReEncodeFont}30
110.502 /Helvetica-Bold rf /Fv 138[82 45 74 52 2[82 82
119 3[37 1[82 1[74 1[74 1[74 10[89 3[97 2[104 10[97 1[97
14[74 1[74 2[37 46[{TeXBase1Encoding ReEncodeFont}20
133.707 /Helvetica-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop Black 0 TeXcolorgray Black Black 745 104 a Fv(ORBit)36
b(Beginner)n(s)h(Documentation)f(V1.3)1610 1386 y Fu(Ewan)30
b(Birne)n(y)1530 1583 y(Mic)o(hael)h(Lausc)o(h)1642 1780
y(T)-9 b(od)o(d)29 b(Le)n(wis)1471 1977 y(St\351phane)h(Genaud)1499
2174 y(Frank)g(Rehber)n(g)q(er)p Black Black eop
%%Page: 2 2
2 1 bop Black 0 TeXcolorgray Black Black 197 89 a Ft(ORBit)22
b(Beginner)o(s)h(Documentation)e(V1.3)197 180 y Fs(by)g(Ewan)f(Birney)
-9 b(,)21 b(Michael)f(Lausch,)g(T)-8 b(odd)21 b(Lewis,)f(St\351phane)g
(Genaud,)g(and)h(Frank)f(Rehber)o(ger)197 363 y(Published)h(2003)p
Black Black eop
%%Page: 3 3
3 2 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(T)-10
b(ab)o(le)33 b(of)i(Contents)p 0 TeXcolorgray 596 247
a Fq(1.)20 b(Introduction)p Black Black 13 w(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(1)p Black 0 TeXcolorgray 795 358 a Fs(About)g(this)i
(documentation)p Black Black 13 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(1)p Black 0 TeXcolorgray
994 449 a(Change)f(Notes)g(between)f(1.3)g(and)g(1.2)p
Black Black 17 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(2)p Black 0 TeXcolorgray
994 541 a(Change)h(Notes)g(between)f(1.2)g(and)g(1.1)p
Black Black 17 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(2)p Black 0 TeXcolorgray
596 652 a Fq(2.)g(Frequently)e(Asked)i(Questions)p Black
Black 8 w(.)p Black Black -3 w(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(3)p Black 0 TeXcolorgray 795 763 a Fs(General)g(Questions)p
Black Black 8 w(.)p Black Black 2 w(.)p Black Black -1
w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(3)p
Black 0 TeXcolorgray 994 855 a(What)h(is)g(CORBA?)p Black
Black 3 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black 0 TeXcolorgray -1 w(3)p Black 0 TeXcolorgray 994
946 a(What)g(is)g(ORBit?)p Black Black 13 w(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(3)p Black 0 TeXcolorgray 994 1037 a(Why)g(ar)o(en't)f(you)h(using)
h(ILU/MICO/T)-6 b(AO?)p Black Black 4 w(.)p Black Black
-1 w(.)p Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black 0 TeXcolorgray -1 w(3)p Black 0 TeXcolorgray 994
1129 a(Is)21 b(ORBit)g(stable?)p Black Black 16 w(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(3)p
Black 0 TeXcolorgray 994 1220 a(Does)g(ORBit)h(work)f(with)h(other)f
(ORBs?)p Black Black 10 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(3)p Black 0 TeXcolorgray 994 1311 a(What)f(license)h(does)f(ORBit)
h(get)f(distributed)g(with)h(and)f(how)h(does)f(it)g(af)o(fect)e(me?)p
Black 0 TeXcolorgray(3)p Black 0 TeXcolorgray 994 1403
a(Why)j(doesn't)h(ORBit)f(compile)g(with)h(my)f(cc)f(compiler)h(?)p
Black Black 5 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black 0 TeXcolorgray -1 w(4)p Black 0 TeXcolorgray 994
1494 a(What)g(is)g(a)f(language)g(binding?)p Black Black
4 w(.)p Black Black 1 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(4)p
Black 0 TeXcolorgray 994 1585 a(What)h(language)f(bindings)i(does)f
(ORBit)g(pr)o(ovide?)p Black Black 11 w(.)p Black Black
-2 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(4)p Black 0 TeXcolorgray
994 1676 a(Does)g(ORBit)h(have)e(DII)h(and)f(DSI?)p Black
Black 12 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black 0 TeXcolorgray -1 w(4)p Black 0
TeXcolorgray 994 1768 a(Does)h(ORBit)h(pr)o(ovide)e(a)g(naming)h
(service?)p Black Black 9 w(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(4)p Black 0 TeXcolorgray
994 1859 a(Can)f(you)i(encrypt)e(a)h(CORBA)f(connection?)p
Black Black 18 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black 0 TeXcolorgray -1 w(4)p Black 0
TeXcolorgray 795 1950 a(Common)i(Coding)f(Pr)o(oblems)p
Black Black 17 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(4)p Black 0 TeXcolorgray
994 2042 a(LD_LIBRAR)m(Y_P)-8 b(A)i(TH)20 b(not)h(de\002ned)p
Black Black 19 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
0 TeXcolorgray -1 w(4)p Black 0 TeXcolorgray 994 2133
a(IOR)g(strings)h(with)g(newlines)p Black Black 10 w(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(4)p Black 0 TeXcolorgray 994 2224 a(Activating)f(POAManager)e
(befor)o(e)g(servants)i(can)f(handle)h(r)o(equests)p
Black Black 13 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(5)p Black 0 TeXcolorgray
596 2336 a Fq(3.)f(Installing)e(ORBit)p Black Black 10
w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(7)p Black 0 TeXcolorgray 795 2447 a Fs(Installing)k(fr)o(om)e
(RPMS)p Black Black 19 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(7)p
Black 0 TeXcolorgray 795 2538 a(Installing)i(fr)o(om)e(Sour)o(ce)p
Black Black 1 w(.)p Black Black -2 w(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(7)p
Black 0 TeXcolorgray 795 2630 a(Getting)h(the)g(examples)g(to)g(r)o(un)
p Black Black 19 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
0 TeXcolorgray -1 w(7)p Black 0 TeXcolorgray 795 2721
a(Known)h(platforms)f(wher)o(e)f(ORBit)h(works)p Black
Black 4 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(8)p Black 0 TeXcolorgray
596 2832 a Fq(4.)f(CORBA)g(concepts)p Black Black 3 w(.)p
Black Black -2 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black 0 TeXcolorgray -1 w(9)p Black 0
TeXcolorgray 795 2943 a Fs(Quick)h(tour)g(of)g(a)f(working)i
(client&server)p Black Black 14 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(9)p
Black 0 TeXcolorgray 994 3035 a(De\002nition)g(of)f(the)g(object)g(-)g
(the)f(IDL)p Black Black 11 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black 0 TeXcolorgray
-1 w(9)p Black 0 TeXcolorgray 994 3126 a(Identifying)h(the)g(Object)p
Black Black 21 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black 0 TeXcolorgray -1 w(9)p Black 0 TeXcolorgray
994 3217 a(Calling)g(the)g(method)p Black Black 10 w(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black 0 TeXcolorgray -1 w(9)p
Black 0 TeXcolorgray 994 3309 a(Moving)g(the)g(call)g(acr)o(oss)f(the)h
(network)p Black Black 15 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black 0 TeXcolorgray -1 w(9)p Black 0 TeXcolorgray 994
3400 a(Returning)h(the)f(answer)p Black Black 6 w(.)p
Black Black -1 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(10)p
Black 0 TeXcolorgray 994 3491 a(Continue)p Black Black
3 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(10)p
Black 0 TeXcolorgray 596 3603 a Fq(5.)f(First)g(CORBA)h(Programs)p
Black Black 7 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(11)p Black
0 TeXcolorgray 795 3714 a Fs(Examples)f(intr)o(oduction)p
Black Black 19 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black 0 TeXcolorgray(11)p Black 0 TeXcolorgray
795 3805 a(Files)h(at)f(a)h(glance)p Black Black 7 w(.)p
Black Black -1 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black 0 TeXcolorgray(11)p Black 0 TeXcolorgray 795 3896
a(Echo)g(client)g(&)f(server)p Black Black 15 w(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black 0 TeXcolorgray(12)p Black 0 TeXcolorgray
994 3988 a(Echo)h(client)p Black Black 4 w(.)p Black
Black 1 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(12)p
Black 0 TeXcolorgray 994 4079 a(Echo)g(Server)p Black
Black 11 w(.)p Black Black -2 w(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black 0 TeXcolorgray(16)p Black 0 TeXcolorgray
994 4170 a(Compiling)h(server)e(&)g(client)p Black Black
19 w(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black 0 TeXcolorgray(21)p Black 0 TeXcolorgray
795 4262 a(Calculator)g(client)h(&)f(server)p Black Black
1 w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(23)p
Black 0 TeXcolorgray 994 4353 a(Calculator)g(client)p
Black Black 11 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
0 TeXcolorgray(24)p Black 0 TeXcolorgray 994 4444 a(Calculator)g
(server)p Black Black 5 w(.)p Black Black -1 w(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(26)p
Black 0 TeXcolorgray 994 4536 a(Compiling)i(server)e(&)g(client)p
Black Black 19 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(33)p Black
0 TeXcolorgray 795 4627 a(Account)h(client)g(&)f(server)p
Black Black 12 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
0 TeXcolorgray(33)p Black 0 TeXcolorgray 994 4718 a(Account)h(client)p
Black Black 1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black 0 TeXcolorgray(34)p Black 0 TeXcolorgray 994 4810
a(Account)g(server)p Black Black 15 w(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
0 TeXcolorgray(37)p Black 0 TeXcolorgray 994 4901 a(Compiling)h(server)
e(&)g(client)p Black Black 19 w(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(42)p
Black 0 TeXcolorgray 795 4992 a(Byte-Sequence)g(client)h(&)f(server)p
Black Black 14 w(.)p Black Black -1 w(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(42)p Black
0 TeXcolorgray 994 5084 a(Byte-Sequence)g(client)p Black
Black 3 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(43)p Black
0 TeXcolorgray 994 5175 a(Byte-Sequence)g(server)p Black
Black 16 w(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
0 TeXcolorgray(46)p Black 0 TeXcolorgray 994 5266 a(Compiling)i(client)
f(&)g(server)p Black Black 17 w(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(51)p
Black 0 TeXcolorgray 795 5358 a(BadCall)e(client)i(&)g(server)p
Black Black 9 w(.)p Black Black -1 w(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black 0 TeXcolorgray(52)p Black 0 TeXcolorgray
994 5449 a(BadCall)e(client)p Black Black 19 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(53)p
Black 0 TeXcolorgray Black 3615 5585 a Fp(iii)p 0 TeXcolorgray
eop
%%Page: 4 4
4 3 bop 0 TeXcolorgray Black 0 TeXcolorgray Black 0 TeXcolorgray
994 89 a Fs(BadCall)19 b(server)p Black Black 12 w(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(56)p Black
0 TeXcolorgray 994 180 a(Compiling)j(client)f(&)g(server)p
Black Black 17 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(62)p Black
0 TeXcolorgray 795 272 a(NameResolve)g(client)g(&)f(server)p
Black Black 18 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(63)p
Black 0 TeXcolorgray 994 363 a(Example-T)-8 b(oolkit)21
b(Helpers)p Black Black 9 w(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black 0 TeXcolorgray(63)p Black 0 TeXcolorgray
994 454 a(NameResolve)g(client)p Black Black 8 w(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(66)p
Black 0 TeXcolorgray 994 546 a(NameResolve)g(server)p
Black Black 2 w(.)p Black Black -2 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(69)p
Black 0 TeXcolorgray 994 637 a(Compiling)h(client)f(&)g(server)p
Black Black 17 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(74)p Black
0 TeXcolorgray 795 728 a(Factory)f(client)h(&)g(server)p
Black Black 4 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(74)p
Black 0 TeXcolorgray 994 820 a(Factory)g(client)p Black
Black 14 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black 0 TeXcolorgray(75)p Black 0 TeXcolorgray
994 911 a(Factory)g(server)p Black Black 7 w(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(78)p
Black 0 TeXcolorgray 994 1002 a(Compiling)h(client)f(&)g(server)p
Black Black 17 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(85)p Black
0 TeXcolorgray 596 1114 a Fq(6.)f(How)h(to)f(do)h(garbage)f(collection)
e(under)i(CORBA)p Black Black 14 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black 0 TeXcolorgray(87)p Black 0 TeXcolorgray
795 1225 a Fs(The)h(question)p Black Black 5 w(.)p Black
Black 1 w(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black 0 TeXcolorgray(87)p Black
0 TeXcolorgray 795 1316 a(Dif)o(fer)o(ence)e(between)h(the)h(client)g
(and)f(the)h(server)p Black Black 12 w(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(87)p
Black 0 TeXcolorgray 795 1407 a(Server)o(-side)d(deactivation)p
Black Black 11 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(88)p
Black 0 TeXcolorgray 795 1499 a(Why)j(is)g(this)h(an)e(issue?)p
Black Black 6 w(.)p Black Black 1 w(.)p Black Black -1
w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black 0 TeXcolorgray(89)p
Black Black 197 5585 a Fp(iv)p Black eop
%%Page: 1 5
1 4 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(Chapter)34
b(1.)f(Intr)n(oduction)596 288 y Fs(ORBit)c(is)g(an)f(ef)o(\002cient,)g
(fr)o(ee)f(C-based)g(ORB,)i(compliant)g(to)g(CORBA)g(version)g(2.2.)e
(CORBA)596 380 y(stands)c(for)g(Common)h(Object)g(Request)g(Br)o(oker)e
(Ar)o(chitectur)o(e.)f(CORBA)i(in)h(many)g(ways)f(is)g(a)596
471 y(successor)i(to)h(the)g(Remote)g(Pr)o(ocedur)o(e)e(Call)h(\(RPC\))
g(system)h(common)h(on)f(UNIX)g(and)f(other)596 562 y(systems:)c(the)g
(best)f(oneline)i(description)f(of)g(CORBA)f(is)h(that)g(it)g(is)g
("Object)g(Orientated)f(RPC".)596 695 y(The)f(key)g(point)h(about)f
(CORBA)g(is)g(that)h(it)f(pr)o(ovides)f(a)h(way)g(for)g(two)h(pr)o
(ograms)e(to)i(communi-)596 786 y(cate)h(information.)i(The)g(CORBA)f
(mechanism)i(allows)f(these)f(two)h(pr)o(ograms)f(to)h(be)f(r)o(unning)
596 878 y(on)e Fp(differ)o(ent)g(machines)g Fs(and)g(written)h(in)f
Fp(differ)o(ent)g(pr)o(ogramming)e Fs(languages)i(while)h(safely)f
(\(and)596 969 y(portably\))i(exchanging)h(data.)e(They)i(also)g(could)
g(be)f(r)o(unning)i(in)f(the)g(same)g(pr)o(ogram,)e(on)j(the)596
1060 y(same)19 b(machine,)g(in)h(which)g(case)f(the)h(pr)o(ocess)f(of)g
(communication)i(is)f(much)g(quickeras)f(ORBit)596 1152
y(r)o(ecognises)h(that)h(it)g(does)g(not)g(need)g(to)g(open)g(any)g
(communication)h(channel.)596 1285 y(ORBit)k(has)h(some)g(important)f
(featur)o(es)f(which)i(distinguish)h(it)e(fr)o(om)g(other)h(CORBA)f
(imple-)596 1376 y(mentations.)i(Firstly)g(it)g(is)g(primarily)f(a)g
(C-based)g(implementation)h(\(using)g(the)g(standar)o(d)e(C)596
1467 y(mapping\),)18 b(which)i(many)f(other)h(CORBA)e(implementations)j
(do)e(not)g(cater)f(to.)h(Secondly)g(it)h(is)596 1559
y(a)c(fast)h(implementation,)h(meaning)g(that)f(it)h(moves)g
(information)g(on)g(and)f(of)o(f)f(the)i(communica-)596
1650 y(tion)24 b(channel)f(into)h(the)g(pr)o(ograms)f(quickly)-9
b(.)23 b(Thir)o(dly)g(it)h(is)g(ef)o(\002cient)e(in)i(terms)f(of)h(its)
f(memory)596 1741 y(usage,)29 b(meaning)h(it)g(can)f(be)h(r)o(un)g(on)h
(small)f(machines.)g(Fourthly)g(it)g(works,)h(and)e(works)h(in)596
1832 y(r)o(eal)24 b(life)h(pr)o(oblems.)h(Finally)g(it)g(is)g(fr)o(ee)f
(softwar)o(e,)f(that)i(is)g(fr)o(ee)e(in)i(terms)g(of)g(an)g(open)g
(license)596 1924 y(to)f(change)h(the)g(sour)o(ce)f(code.)g(This)h
(means)f(that)h(a)f(number)g(of)h(dif)o(fer)o(ent)d(people)j(\(both)f
(aca-)596 2015 y(demics)c(and)g(commerical)g(people\))g(can)g
(contribute)h(to)g(the)f(sour)o(ce)g(code)g(and)g(that)h(bugs)f(and)596
2106 y(pr)o(oblems)j(can)g(be)f(\002xed)h(quickly)-9
b(.)25 b(ORBit)g(unsurprisingly)h(is)e(ther)o(efor)o(e)f(licensed)h
(under)g(the)596 2198 y(GNU)c(Public)g(License)g(\(GPL\).)g(Mor)o(e)f
(information)i(about)f(how)i(the)e(terms)g(of)h(this)g(license)f(af-)
596 2289 y(fect)f(you)i(can)f(be)f(found)i(in)f(the)h(F)-6
b(AQ,)19 b(and)h(you'r)o(e)g(encouraged)f(to)i(r)o(ead)d(the)j(actual)e
(GPL)h(text)596 2380 y(that)g(comes)h(in)h(the)f(distribution)596
2513 y(The)c(CORBA)h(mechanism)h(is)f(ideal)g(for)g(classic)g
(client/server)f(applications,)h(say)g(a)g(graphical)596
2605 y(client)25 b(GUI)f(communicating)j(to)e(a)f(database)f(server)-6
b(,)24 b(or)g(much)i(simpler)f(applications,)f(such)596
2696 y(as)d(one)i(pr)o(ogram)f(asking)g(for)h(a)e(mail)i(service)e(fr)o
(om)h(the)h(CORBA)f(system.)g(ORBit)h(was)g(made)596
2787 y(principly)32 b(for)g(the)h(latter)e(case:)h(that)g(is)h
(communicating)h(information)f(between)f(dif)o(fer)o(ent)596
2879 y(pr)o(ograms)18 b(r)o(unning)h(in)g(a)f(desktop)h(envir)o(oment)g
(\(the)f(Gnome)i(envir)o(oment\).)e(ORBit)h(is)g(a)f(fully)596
2970 y(blown)g(generic)g(ORB)h(and)e(can)h(be)f(used)h(in)g(many)h
(other)f(applications)g(outside)g(of)g(the)g(gnome)596
3061 y(desktop)i(-)h(ther)o(e)f(is)h(absolutely)g(no)g(r)o(equir)o
(ement)f(to)i(be)e(r)o(unning)i(Gnome)g(for)f(ORBit.)596
3194 y(This)g(documentation)h(is)f(aimed)g(principly)g(at)g(getting)g
(people)g(with)h(C)f(pr)o(ogramming)g(expe-)596 3285
y(rience)h(started)g(with)i(ORBit)g(and)e(some)i(discussion)g(about)f
(the)g(challenges)h(of)f(writing)g(ORB)596 3377 y(awar)o(e)16
b(softwar)o(e.)h(If)h(you)g(ar)o(e)f(a)h(looking)h(for)f(a)g(mor)o(e)g
(\003uf)o(fy)f(description)i(about)f(what)g(CORBA)596
3468 y(is)f(I)h(would)g(start)f(at)g(the)g(Resour)o(ce)g(section)i
(below)-8 b(.)18 b(If)f(you)h(want)f(to)h(know)g(the)g(technical)g
(nitty-)596 3559 y(gritty)j(about)f(ORBit,)h(go)h(to)f(the)g(sour)o(ce)
f(code,)g(or)h(hang)g(out)g(on)h(the)f(ORBit)g(mailing)h(list.)596
3692 y(It)h(is)g(also)h(hoped)f(that)g(this)h(documentation)g(will)g
(be)e(a)h(starting)h(point)f(for)g(a)g(mor)o(e)g(technical)596
3784 y(orientated)d(documentation)h(about)g(how)h(ORBit)f(is)g(str)o
(uctur)o(ed)f(and)g(the)h(internal)g(functions.)197 4052
y Fo(About)29 b(this)g(documentation)596 4194 y Fs(This)125
b(documentation)g(is)g(curr)o(ently)f(maintained)g(by)g(Frank)h(Rehber)
o(ger)622 4285 y(fr)o(ehber)o(g@gnome.or)o(g)1417 4252
y Fn(1)1442 4285 y Fs(.)26 b(For)h(the)f(de\002nitive)h(guide)f(about)g
(what)h(is)g(going)g(on,)g(always)f(go)596 4377 y(to)31
b(the)h(sour)o(ce)f(code)g(\(with)g(any)h(luck,)f(it)h(will)g(have)f
(documentation\))g(or)h(the)f(C)h(mapping)596 4468 y(document)21
b(at)f(the)h(OMG.)f(If)h(you)g(think)h(ther)o(e)e(is)h(mistake)f(with)i
(this)f(documentation,)h(please)596 4559 y(email)f(me.)g(If)g(you)i
(would)f(like)f(to)h(contribute)g(an)f(example)g(or)h(another)g
(chapter)-6 b(,)20 b(please)h(also)596 4651 y(get)f(in)h(contact,)g(or)
g(post)g(to)g(the)g(orbit)g(mailing)h(list.)596 4783
y(This)50 b(documentation)g(was)f(written)h(with)g(major)g
(contributions)h(fr)o(om)e(Ewan)g(Birney)-9 b(,)596 4875
y(Michael)32 b(Launsch)h(and)f(T)-8 b(odd)33 b(Lewis,)g(edited)f(by)h
(St\351phane)g(Genaud,)f(ORBit)i(update)e(by)596 4966
y(Frank)20 b(Rehber)o(ger)-6 b(.)20 b(It)h(is)g(written)g(in)g(docbook)
h(XML.)e(Y)-8 b(ou)22 b(can)e(get)h(:)p Black 596 5182
a Fm(\225)p Black 58 w Fs(The)16 b(documentation)h(and)e(examples)g(at)
31 b(http://www)-8 b(.gnome.or)o(g/pr)o(ojects/ORBit2/orbit-)679
5273 y(docs.tar)i(.gz)1092 5240 y Fn(2)p Black 3642 5585
a Fp(1)p Black eop
%%Page: 2 6
2 5 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(1.)g(Intr)o(oduction)p Black Black 596 89 a Fm(\225)p
Black 278 w Fs(A)235 b(PostScript)h(version)g(of)f(this)h(document)g
(at)1391 180 y(http://www)-8 b(.gnome.or)o(g/pr)o
(ojects/ORBit2/orbit-docs/orbit.ps)679 239 y Fn(3)p Black
596 405 a Fm(\225)p Black 58 w Fs(A)16 b(PDF)g(version)g(of)g(this)h
(document)f(at)31 b(http://www)-8 b(.gnome.or)o(g/pr)o
(ojects/ORBit2/orbit-)679 496 y(docs/orbit.pdf)1242 463
y Fn(4)596 881 y Fl(Chang)q(e)24 b(Notes)h(between)g(1.3)g(and)g(1.2)p
Black 596 1155 a Fm(\225)p Black 43 w Fs(POrt)c(back)f(to)h
(docbook4.1.2)e(used)i(by)g(gnome-doc)g(pr)o(oject)p
Black 596 1288 a Fm(\225)p Black 43 w Fs(r)o(ename)e(impl_*__destr)o
(oy)h(to)h(impl_*__\002ni,)g(being)g(CORBA)-6 b('s)20
b(nomenclatur)o(e)p Black 596 1420 a Fm(\225)p Black
43 w Fs(\002x)g(memory-leaks)h(in)g(server)f(implementations:)i
(deactivate)d(servants)i(at)f(termination)596 1861 y
Fl(Chang)q(e)k(Notes)h(between)g(1.2)g(and)g(1.1)p Black
596 2135 a Fm(\225)p Black 43 w Fs(Intr)o(oduced)19 b(section)j(for)e
(change)h(notes)p Black 596 2268 a Fm(\225)p Black 43
w Fs(\002xing)g(__destr)o(oy)e(__\002ni)i(confusion)p
Black 596 2401 a Fm(\225)p Black 43 w Fs(Add)e(chapter)h(for)h(sample)f
(codes)h(byteseq,)g(badcall)f(and)g(name-r)o(esolve)197
2863 y Fu(Notes)p Black 596 3009 a Fs(1.)p Black 69 w(mailto:fr)o
(ehber)o(g@gnome.or)o(g)p Black 596 3142 a(2.)p Black
69 w(http://www)-8 b(.gnome.or)o(g/pr)o(ojects/ORBit2/orbit-docs.tar)i
(.gz)p Black 596 3275 a(3.)p Black 69 w(http://www)e(.gnome.or)o(g/pr)o
(ojects/ORBit2/orbit-docs/orbit.ps)p Black 596 3408 a(4.)p
Black 69 w(http://www)g(.gnome.or)o(g/pr)o
(ojects/ORBit2/orbit-docs/orbit.pdf)p Black 197 5585
a Fp(2)p Black eop
%%Page: 3 7
3 6 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(Chapter)34
b(2.)f(Frequentl)n(y)i(Asked)d(Questions)596 288 y Fs(This)21
b(is)g(to)g(answer)g(your)g(questions)h(about)f(ORBit)g(and)g(Corba)197
557 y Fo(General)28 b(Questions)596 809 y Fl(What)d(is)h(CORB)m(A?)596
946 y Fs(CORBA)16 b(stands)g(for)g(Common)i(Object)f(Request)g(Br)o
(oker)e(Ar)o(chitectur)o(e,)f(standar)o(dized)g(by)j(the)596
1037 y(Object)28 b(Management)g(Gr)o(oup)g(\(OMG\).)g(It)g(consists)i
(of)e(an)h(Interface)e(De\002nition)j(Language)596 1129
y(\(IDL\),)17 b(language)i(bindings)g(and)f(pr)o(otocols)i(to)f(allow)g
(inter)o(operation)f(between)h(applications)p Black 596
1448 a Fm(\225)p Black 43 w Fs(written)i(in)g(dif)o(fer)o(ent)e(pr)o
(ogramming)i(languages)p Black 596 1581 a Fm(\225)p Black
43 w Fs(r)o(unning)h(in)f(dif)o(fer)o(ent)e(pr)o(ocesses)p
Black 596 1714 a Fm(\225)p Black 43 w Fs(developed)g(for)i(dif)o(fer)o
(ent)e(operating)h(systems)596 1847 y(A)142 b(mor)o(e)h(detailed)f
(answer)h(to)h(this)g(question)g(is)g(available)d(at)616
1938 y(http://www)-8 b(.omg.or)o(g/gettingstarted)2003
1905 y Fn(1)596 2246 y Fl(What)25 b(is)h(ORBit?)596 2383
y Fs(ORBit)44 b(is)h(an)f(implementation)h(of)f(CORBA,)g(which)h(is)f
(used)g(\(amongst)h(other)f(things\))596 2475 y(in)e(the)h(GNOME)f(pr)o
(oject.)g(Active)g(development)g(is)h(done)f(for)g(ORBit2,)h(being)f(a)
g(clean)596 2566 y(r)o(e-implementation)20 b(fr)o(om)g(scratch.)h(The)f
(old)h(ORBit)h(code)e(is)h(no)h(longer)f(maintained.)596
2874 y Fl(Wh)n(y)k(aren't)g(y)n(ou)f(using)h(ILU/MICO/T)-8
b(A)l(O?)596 3011 y Fs(Most)30 b(of)h(GNOME)f(is)h(written)f(in)h(C,)f
(both)h(for)g(performance)e(r)o(easons,)h(and)g(because)f(C++)596
3102 y(still)f(isn't)g(as)g(portable)f(and)g(widely)h(available.)e(So)h
(integration)i(with)f(CORBA)f(should)i(use)596 3194 y(the)20
b(IDL)h(C)f(mapping,)g(which)i(r)o(ules)f(out)g(T)-6
b(AO)20 b(and)g(MICO.)g(ILU)f(was)i(r)o(uled)f(out)h(because)f(the)596
3285 y(license)h(appear)o(ed)d(as)i(too)i(r)o(estrictive)d(at)i(the)g
(time)g(for)f(fr)o(ee)f(softwar)o(e.)596 3593 y Fl(Is)25
b(ORBit)h(stab)o(le?)596 3730 y Fs(ORBit)21 b(is)h(used)f(in)g(pr)o
(etty)g(much)g(any)h(GNOME)f(application,)f(which)i(gives)g(quite)f
(some)h(test-)596 3821 y(ing)f(for)f(the)h(featur)o(es)e(used.)i(Other)
g(featur)o(es)e(have)h(seen)h(little)g(or)g(no)g(testing.)596
4129 y Fl(Does)j(ORBit)i(w)n(ork)f(with)h(other)f(ORBs?)596
4266 y Fs(Y)-8 b(es.)24 b(This)h(is)g(one)f(of)h(the)f(primary)g
(featur)o(es)f(of)h(CORBA,)g(and)g(available)f(thr)o(ough)h(the)h
(Inter)o(-)596 4357 y(net)g(Inter)o(-ORB)g(Pr)o(otocol)g(\(IIOP\).)g
(Ther)o(e)f(is)i(one)g(pitfall:)e(ORBit)i(has)f(a)g(pr)o(oprietary)f
(security)596 4449 y(mechanism)d(to)g(authenticate)g(clients.)g(If)f
(inter)o(operability)g(is)i(desir)o(ed)d(then)i(you)h(might)f(have)596
4540 y(to)g(\002gur)o(e)f(out)h(a)f(work-ar)o(ound)h(for)f(this.)596
4848 y Fl(What)25 b(license)g(does)g(ORBit)h(g)q(et)f(distrib)n(uted)h
(with)g(and)e(ho)o(w)h(does)g(it)h(aff)o(ect)596 4949
y(me?)596 5086 y Fs(The)d(idl)h(compiler)g(is)g Fp(GNU)f(Public)g
(licensed)i Fs(\()e(GPL\).)g(The)h(libaries)f(ar)o(e)f
Fp(Library)j(GPL)e Fs(\(L-GPL\))596 5177 y(licensed.)d(The)h(code)g
(generated)e(fr)o(om)i(the)g(idl)g(compiler)g(have)g(no)g(r)o
(estriction.)g(Bascially)f(this)596 5268 y(means)25 b(you)h(can)f(use)h
(ORBit)g(in)g(your)f(own)i(applications)e(\(including)h(pr)o(oprietary)
e(applica-)596 5360 y(tions\),)18 b(the)g(only)i(r)o(estriction)e
(being)g(that)g(people)g(whom)i(you)e(distribute)g(your)h(working)g
(code)p Black 3642 5585 a Fp(3)p Black eop
%%Page: 4 8
4 7 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(2.)g(Fr)o(equently)i(Asked)e(Questions)p Black 596
89 a Fs(to)j(must)i(be)e(able)g(to)h(update)e(the)i(ORBit)g(libraries)f
(at)g(will.)h(If)g(you)g(wish)g(to)g(modify)g(and)f(dis-)596
180 y(tribute)31 b(the)h(ORBit)h(idl)f(compiler)g(you)h(have)e(to)h
(distribute)g(that)g(modi\002cation)h(under)f(the)596
272 y(GPL.)596 580 y Fl(Wh)n(y)25 b(doesn't)g(ORBit)h(compile)g(with)g
(m)m(y)f(cc)g(compiler)g(?)596 717 y Fs(ORBit)33 b(uses)g(some)g(of)g
(the)g(extensions)h(that)f(gcc)f(allows,)h(including)h(assignment)g(to)
f(casts)596 808 y(and)20 b(void)h(*)g(pointer)h(arithmetic.)e(Mor)o(e)g
(curr)o(ent)g(versions)i(of)f(ORBit)g(will)h(r)o(emove)e(these)h(and)
596 899 y(eventually)f(it)h(is)g(likely)h(the)e(ORBit)i(will)f(compile)
h(with)f(all)g(ANSI)f(C)g(compilers.)596 1032 y(Y)-8
b(ou)21 b(can)g(always)f(install)i(gcc)e(and)h(use)f(that.)h(This)g
(will)h(always)e(work.)596 1340 y Fl(What)25 b(is)h(a)f(langua)o(g)q(e)
f(binding?)596 1477 y Fs(A)j(language)g(binding)h(de\002nes)g(how)g(to)
g(use)g(the)g(IDL)f(operations)h(in)g(a)f(pr)o(ogramming)h(lan-)596
1569 y(guage.)d(Ther)o(e)g(is)h(a)f(client-side)h(mapping)g(which)g
(explains)g(how)h(to)f(call)f(operations,)h(and)f(a)596
1660 y(server)o(-side)15 b(mapping)j(which)h(de\002nes)f(how)g(to)g
(implement)h(them.)f(The)f(client)h(side)g(mapping)596
1751 y(is)j(lar)o(gely)f(implementation-independent.)596
1884 y(On)g(the)f(server)g(side,)g(dif)o(fer)o(ent)f('object)i
(adapters')e(ar)o(e)g(pr)o(ovided)g(by)i(ORB)g(vendors;)f(only)i(the)
596 1975 y('Portable)i(Object)g(Adapter)6 b(')22 b(\(POA\))h
(implemented)h(by)f(ORBit)h(allows)g(portability)g(between)596
2067 y(CORBA)c(implementations.)596 2375 y Fl(What)25
b(langua)o(g)q(e)f(bindings)h(does)g(ORBit)h(pr)n(o)n(vide?)596
2512 y Fs(At)k(the)h(moment)h(only)g(the)f(C)g(binding.)h(Python)g(and)
f(Perl)f(bindings)i(ar)o(e)e(being)h(seriously)596 2603
y(talked)g(about.)h(Bindings)g(\(in)h(various)f(degr)o(ees)e(of)i
(completeness\))h(ar)o(e)d(also)j(available)d(for)596
2694 y(C++,)21 b(Lisp,)f(Pascal,)g(Python,)i(Ruby)-9
b(,)21 b(and)f(TCL;)g(others)h(ar)o(e)e(in-pr)o(ogr)o(ess.)596
3002 y Fl(Does)24 b(ORBit)i(ha)o(ve)e(DII)j(and)d(DSI?)596
3139 y Fs(Y)-8 b(es.)17 b(Though)i(bewar)o(e)d(that)h(using)i(DII)f
(and)f(DSI)g(in)h(some)g(cases)f(r)o(equir)o(es)g(the)g(use)h(of)f
(dynAny)-9 b(,)596 3231 y(which)21 b(is)g(not)h(supported)e(yet.)596
3539 y Fl(Does)k(ORBit)i(pr)n(o)n(vide)f(a)g(naming)g(ser)q(vice?)596
3676 y Fs(Y)-8 b(es.)28 b(In)g(addition,)g(it)g(is)h(possible)f(to)h
(use)f(a)f(thir)o(d-party)g(naming)i(service,)e(e.g.)h(using)g(the)h
(--)596 3767 y(ORBNamingIOR)d(command)f(line)h(option.)f(The)g('Inter)o
(operable)f(Naming')h(speci\002cation)h(is)596 3858 y(not)21
b(yet)g(supported.)596 4166 y Fl(Can)j(y)n(ou)h(encr)q(ypt)f(a)h(CORB)m
(A)h(connection?)596 4303 y Fs(Y)-8 b(es,)29 b(ORBit)h(supports)g(IIOP)
g(over)f(SSL.)f(the)i(implementation)g(is)g(based)f(on)h(OpenSSL)e(and)
596 4395 y(support)j(client)h(and)g(server)e(side)i(authentication.)g
(Frank)f(O'Dwyer)i(did)e(initial)h(work)g(on)596 4486
y(this)21 b(for)g(ORBit.)197 4887 y Fo(Common)29 b(Coding)g(Pr)n(ob)o
(lems)596 5139 y Fl(LD_LIBRAR)-5 b(Y_P)c(A)h(TH)24 b(not)h(de\002ned)
596 5276 y Fs(ORBit)69 b(uses)g(dynamically)g(loadable)f(libraries)h
(and)f(these)i(need)e(to)h(be)g(on)h(the)596 5367 y(LD_LIBRAR)m(Y_P)-8
b(A)i(TH)19 b(for)i(things)h(to)f(work.)p Black 197 5585
a Fp(4)p Black eop
%%Page: 5 9
5 8 bop Black 0 TeXcolorgray Black 2362 -132 a Fp(Chapter)21
b(2.)f(Fr)o(equently)h(Asked)g(Questions)p Black 596
89 a Fl(IOR)k(strings)g(with)h(ne)o(wlines)596 226 y
Fs(When)19 b(you)h(get)g(an)f(object)h(using)h(a)e(stringi\002ed)h
(IOR,)g(make)f(sur)o(e)g(you)h(trim)g(the)f(trailing)h(new-)596
317 y(line)h(fr)o(om)f(the)h(string)g(befor)o(e)f(passing)h(it)g(on.)
596 625 y Fl(Activ)n(ating)26 b(PO)-5 b(AMana)o(g)q(er)24
b(bef)n(ore)g(ser)q(v)n(ants)h(can)f(handle)h(requests)596
762 y Fs(Y)-8 b(ou)21 b(must)h(activate)d(the)i(POAManager)f(befor)o(e)
f(incoming)j(r)o(equests)f(can)g(be)f(pr)o(ocessed)596
928 y Fk(PortableServer_POAManager_activate\(P)o(ortabl)o(eServe)o
(r_POA_)o(_get_t)o(he_POA)o(Manage)o(r\(poa,)o(&ev\),&)o(ev\))197
1431 y Fu(Notes)p Black 596 1578 a Fs(1.)p Black 69 w(http://www)-8
b(.omg.or)o(g/gettingstarted/)p Black 3642 5585 a Fp(5)p
Black eop
%%Page: 6 10
6 9 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(2.)g(Fr)o(equently)i(Asked)e(Questions)p Black Black
197 5585 a(6)p Black eop
%%Page: 7 11
7 10 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(Chapter)34
b(3.)f(Installing)h(ORBit)197 405 y Fo(Installing)29
b(fr)n(om)g(RPMS)596 547 y Fs(The)c(RPMs)g(can)g(be)g(found)g(on)h
(many)f(web)g(sites.)g(The)g(whole)h(ORBit)g(package)e(is)i(br)o(oken)e
(in)596 638 y(two)k(parts)g(\(as)g(for)g(most)h(RPMs\))f(:)g(the)h
Fk(ORBit2)e Fs(package)g(contains)i(the)f(libraries)g(to)h(use)f(it,)
596 729 y(and)d(the)h Fk(ORBit2-devel)e Fs(package)h(contains)h(the)g
(necessary)g(\002les)g(to)g(develop)g(with)h(ORBit,)596
821 y(i.e.)20 b(the)h(idl)f(compiler)h(and)g(the)g(headers)e(\002les.)
596 953 y(I)25 b(r)o(ecommend)f(the)h(RPM)h(r)o(epositories)f(like)g
(http://www)-8 b(.rpm\002nd.or)o(g)26 b(to)g(\002nd)f(the)g(RPMS)596
1045 y(that)j(best)h(suit)g(your)g(distribution.)h(Though)g(ORBit)f(is)
g(pr)o(obably)f(installed)h(if)f(you)i(alr)o(eady)596
1136 y(have)22 b(GNOME)h(installed,)g(you)g(must)h(download)f(the)g
Fk(ORBit-devel)e Fs(to)i(develop)g(with)h(OR-)596 1227
y(Bit.)596 1360 y(Installation)d(is)g(quite)g(simple)h(:)e(once)h(the)g
(packages)f(ar)o(e)f(downloaded,)i(go:)685 1525 y Fj(bash)42
b($)f Fi(rpm)j(-Uvh)g(ORBit2*)g(ORBit2-devel*)596 1782
y Fs(Note)20 b(that)h(this)h(will)f(upgrade)f(any)h(pr)o(evious)f
(rpm-based)f(installation)j(of)f(ORBit.)197 2100 y Fo(Installing)29
b(fr)n(om)g(Sour)n(ce)596 2242 y Fs(Installing)c(fr)o(om)f(ORBit2)g
(sour)o(ce)g(code)g(is)g(very)g(easy)-9 b(.)24 b(Y)-8
b(ou)25 b(need)f(to)h(have)e(glib)i(version)g(2.0.0)596
2333 y(or)c(later)g(series)h(installed.)g(T)-8 b(o)22
b(see)f(if)h(you)g(have)g(glib)g(installed)f(\(and)g(what)h(version\))g
(go)44 b Fq(glib-)596 2424 y(con\002g)20 b(--version)596
2557 y Fs(Y)-8 b(ou)21 b(can)g(obtain)g(the)g(latest)f(version)i(of)e
(glib)h(fr)o(om)g(http://www)-8 b(.gtk.or)o(g/)596 2690
y(Now)27 b(just)h(download)f(the)h(latest)e(stable)h(tar)g(ball)f(of)h
(ORBit.)h(Start)e(by)h(going)h(to)g(the)f(gnome)596 2781
y(web)c(site)i(\(http://www)-8 b(.gnome.or)o(g/\),)25
b(choose)g(download)f(and)g(\002nd)g(your)h(closest)f(mirr)o(or)596
2873 y(site.)596 3005 y(ORBit)h(installs)h(as)f(a)g(standar)o(d)e(gnu)j
(application,)f(so)g(going)h Fh(./configure)73 b Fs(followed)26
b(by)645 3097 y Fh(make)65 b Fs(and)16 b(then)g(getting)h(r)o(oot)f
(permissions)h(and)65 b Fh(make)49 b(install)65 b Fs(will)17
b(do)f(everything)596 3188 y(as)k(expected.)596 3321
y Fp(What)i(to)g(do)g(if)g(you)h(don')m(t)e(have)h(r)o(oot)g
(permissions)h Fs(Basically)g(you)g(want)f(to)i(r)o(un)f(all)f(of)h
(the)g(above)596 3412 y(but)17 b(with)h Fh(./configure)48
b(--prefix=<installation)d(location>)66 b Fs(which)18
b(will)g(in-)596 3504 y(stall)i(under)h Fp(pr)o(e\002x)p
Fs(/bin)f(/libs)i(etc.)596 3636 y(If)g(ORBit2)g(2.7)g(does)g(not)h
(compile)g(with)h(some)f(commer)o(cial)f(C)g(compilers,)h(this)g(is)g
(because)f(it)596 3728 y(uses)i(a)g(number)h(of)f(gcc)g(extensions)h
(which)h(ar)o(e)d(not)i(supported)f(elsewher)o(e.)f Fp(you)h(can)g
(always)596 3819 y(download)19 b(gcc)h(and)g(install)h(that)f
Fs(for)g(it)h(to)g(work.)197 4137 y Fo(Getting)30 b(the)e(e)n(xamples)g
(to)h(run)596 4279 y Fs(Once)113 b(you)h(have)f(successfully)h
(installed)f(orbit,)h(getting)g(the)f(examples)596 4370
y(to)94 b(r)o(un)h(should)g(be)f(\002ne.)h(The)f(examples)g(ar)o(e)e
(available)h(by)i(http)f(fr)o(om)620 4461 y(http//www)-8
b(.gnome.or)o(g/pr)o(ojects/ORBit2/orbit-docs.tar)i(.gz)2809
4428 y Fn(2)2834 4461 y Fs(.)24 b(Gunzip)g(and)g(untar)g(the)596
4553 y(package,)19 b(per)o(haps)h(like:)596 4718 y Fj(bash)41
b($)p Fi(gunzip)j(-c)h(orbit-docs.tar.gz)d(|)j(tar)f(-xvf)g(-)596
4892 y Fs(This)33 b(should)h(build)f(a)g(documentation)h(dir)o(ectory)e
(that)i(contains)g(this)f(documentation)h(in)596 4983
y(both)d(sgml)h(\(docbook\))f(and)f(html,)i(and)e(an)h(examples)f(dir)o
(ectory)-9 b(.)30 b(Move)g(to)h(the)g(examples)596 5075
y(dir)o(ectory)-9 b(,)19 b(and)h(go)596 5240 y Fj(bash)41
b($)p Fi(./configure)596 5322 y Fj(bash)g($)p Fi(cd)k(echo)596
5404 y Fj(bash)c($)p Fi(make)p Black 3642 5655 a Fp(7)p
Black eop
%%Page: 8 12
8 11 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(3.)g(Installing)h(ORBit)p Black 596 89 a Fs(Pr)o(oceed)e(similarly)j
(for)e(the)h(calculator)f(example.)596 222 y(T)-8 b(o)25
b(actually)f(r)o(un)h(the)g(echo)f(example,)g(open)h(two)g(windows)h
(up.)e(Run)i Fk(echo-server)c Fs(in)k(one)596 313 y(and)21
b Fk(echo-client)e Fs(in)j(the)g(other)f(\(echo-server)g(writes)g(out)h
(the)g(\002le)g Fk(echo.ref)e Fs(which)i(echo-)596 405
y(client)17 b(r)o(eads\).)e(If)h(you)i(want)f(to)g(have)g(fun)g(now)-8
b(,)18 b(compile)f(orbit)g(on)h(a)e(dif)o(fer)o(ent)f(machine,)i(make)
596 496 y(echo-client)j(on)h(the)f(dif)o(fer)o(ent)e(machine,)i(move)66
b Fk(echo.ref)d Fs(fr)o(om)20 b(the)g(\002rst)h(machine)f(to)h(the)596
587 y(second)j(and)g(r)o(un)h(echo-client:)f(eh)h(voila)f(-)g
(client/server)h(over)f(tcp/ip)g(with)i(the)e(same)g(code)596
679 y(that)c(ran)h(using)g(unix)g(sockets)h(on)f(a)f(single)i(machine.)
762 885 y Fg(Note:)c Ff(F)m(rom)g(ORBit)h(0.5.3,)f(IIOP)h(comm)o
(unications)e(o)o(v)n(er)i(IP)g(soc)o(k)o(ets)g(are)f(disab)o(led)f(b)o
(y)h(def)n(ault)f(f)n(or)762 967 y(secur)q(ity)k(reasons)o(.)g(Y)-10
b(ou)21 b(should)f(create)h(an)61 b Fj(/etc/orbitrc)67
b Ff(\(f)n(or)21 b(a)h(system-wide)f(settings\),)g(or)762
1050 y(an)60 b Fj(~/.orbitrc)k Ff(\(f)n(or)20 b(one)f(user')l(s)i
(setting\))d(containing)g(something)g(lik)o(e)i(:)762
1207 y Fj(ORBIIOPUSock=1)762 1281 y(ORBIIOPIPv4=1)762
1355 y(ORBIIOPIPv6=0)762 1520 y Ff(Alter)r(nativ)n(ely)-7
b(,)17 b(y)o(ou)i(can)h(also)g(use)h(command)e(line)g(par)o(ameters)o
(.)197 2012 y Fo(Kno)n(wn)29 b(platf)n(orms)h(where)e(ORBit)g(w)n(orks)
596 2154 y Fs(ORBit)21 b(in)f(theory)h(is)g(portable)f(to)h(any)f(UNIX)
g(system)h(\(using)g(the)g(GNU)f(con\002gur)o(e)g(system)i(to)596
2245 y(de\002ne)f(the)h(system\).)f(T)-7 b(ry)21 b(it)h(out)g(-)f(it)h
(will)g(pr)o(obably)f(work.)h(However)-6 b(,)21 b(you)h(may)g(want)f
(to)h(see)596 2336 y(if)e(your)h(platform)g(has)f(de\002nitely)i(been)e
(used)h(befor)o(e)p Black 596 2552 a Fm(\225)p Black
43 w Fs(GNU/Linux,)f(i386)g(Redhat/SuSE/Debian)g(distributions)p
Black 596 2685 a Fm(\225)p Black 43 w Fs(GNU/Linux,)g(alpha)p
Black 596 2818 a Fm(\225)p Black 43 w Fs(GNU/Linux,)g(spar)o(c)p
Black 596 2951 a Fm(\225)p Black 43 w Fs(Solaris)g(2.6)g(\(UltraSpar)o
(c\))p Black 596 3084 a Fm(\225)p Black 43 w Fs(Digital)h(UNIX)f(4.0)p
Black 596 3216 a Fm(\225)p Black 43 w Fs(Fr)o(eeBSD)f(2.2.7-RELEASE)e
(\(Intel\))p Black 596 3349 a Fm(\225)p Black 43 w Fs(IRIX)k(6.2)f
(\(you)h(can)f(get)h(it)g(fr)o(om)f(http://fr)o(eewar)o(e.sgi.com\))596
3482 y(If)g(you)h(manage)g(to)g(compile)g(it)g(on)g(any)g(other)g
(platforms,)f(let)h(me)g(know)-8 b(.)197 3728 y Fu(Notes)p
Black 596 3875 a Fs(1.)p Black 69 w(http://www)g(.rpm\002nd.or)o(g)p
Black 596 4008 a(2.)p Black 69 w(http//www)g(.gnome.or)o(g/pr)o
(ojects/ORBit2/orbit-docs.tar)i(.gz)p Black 596 4140
a(3.)p Black 69 w(http://fr)o(eewar)o(e.sgi.com)p Black
197 5585 a Fp(8)p Black eop
%%Page: 9 13
9 12 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(Chapter)34
b(4.)f(CORB)l(A)g(concepts)596 288 y Fs(Please)22 b(skip)i(this)g
(chapter)f(and)g(head)g(straight)g(to)h(the)g(\002rst)g(examples)e(if)i
(you)g(ar)o(e)e(the)h(sort)h(of)596 380 y(person)i(who)g(understands)g
(better)f(just)h(by)g(example.)f(The)h(examples)f(chapter)g(can)g(be)h
(r)o(ead)596 471 y(without)c(r)o(eading)d(this)j(chapter)-6
b(.)596 604 y(This)28 b(chapter)f(is)h(to)g(help)f(you)i(get)e(an)h
(understanding)g(of)f(all)h(the)f(dif)o(fer)o(ent)f(terms)i(that)f(ar)o
(e)596 695 y(bandied)19 b(about)i(ORBs)g(and)g(CORBA.)596
828 y(CORBA)d(is)h(a)g(collection)h(of)e(standar)o(ds)g(de\002ned)g(by)
h(the)g(Object)g(Management)f(Gr)o(oup)h(\(OMG)596 919
y(-)31 b(the)i(sole)f(purpose)g(of)g(the)h(OMG)f(is)g(to)h(pr)o(ovide)e
(a)h(framework)f(for)h(people)g(to)h(agr)o(ee)d(on)596
1011 y(standar)o(ds)17 b(for)i(CORBA\).)f(The)h(OMG)g(does)h(not)f(pr)o
(ovide)f(any)h(working)i(implementations)f(of)596 1102
y(the)k(CORBA)h(standar)o(ds,)e(and)h(so)i(can)e(be)g(impartial.)h
(Most)f(people)h(who)h(use)e(CORBA)h(only)596 1193 y(r)o(eally)18
b(keep)g(one)i(or)f(two)h(of)f(these)h(standar)o(ds)d(in)j(their)f
(heads,)g(but)g(all)g(the)g(standar)o(ds)f(ar)o(e)f(fr)o(ee)596
1285 y(to)25 b(be)f(r)o(ead)g(fr)o(om)g(the)h(OMG)g(web)g(site)50
b(http://www)-8 b(.omg.or)o(g/)2800 1251 y Fn(1)2825
1285 y Fs(.)25 b(However)g(it)g(is)g(good)h(to)596 1376
y(have)20 b(an)g(idea)g(about)h(how)h(all)e(these)h(standar)o(ds)e
(\002t)i(together)g(to)h(pr)o(ovide)d(CORBA.)197 1645
y Fo(Quic)n(k)28 b(tour)h(of)g(a)f(w)n(orking)h(c)n(lient&ser)q(ver)596
1786 y Fs(The)c(basic)g(mechanism)h(of)f(CORBA)g(is)h(to)f(r)o(un)h(a)f
(method)g(\(that)g(is)h(a)f(function\))g(of)h(an)f(object)596
1878 y(fr)o(om)d(a)g(separate)f(pr)o(ogram)h(\(in)g(fact)g(the)h(pr)o
(ogram)f(need)g(not)h(be)f(separate,)f(but)i(don't)g(worry)596
1969 y(about)31 b(that)h(yet\).)f(Going)i(fr)o(om)f(one)g(end)g(of)f
(this)i(to)f(the)g(other)-6 b(,)32 b(this)g(is)h(what)e(needs)h(to)g
(be)596 2060 y(de\002ned.)596 2312 y Fl(De\002nition)25
b(of)h(the)f(object)g(-)h(the)f(IDL)596 2449 y Fs(A)d(de\002nition)i
(of)g(what)f(methods)h(can)e(be)h(called)g(on)g(what)h(objects)f(need)g
(to)g(be)g(pr)o(ovided)f(for)596 2541 y(both)e(the)g(caller)f(and)g
(callee.)f(This)j(is)f(done)f(using)i(the)40 b Fp(Interface)19
b(De\002nition)h(Language)39 b Fs(or)g(IDL)596 2632 y(of)23
b(the)g(object.)g(The)g(only)h(information)h(which)f(is)f(r)o(equir)o
(ed)f(to)h(make)g(a)g(caller)f(able)h(to)g(call)g(an)596
2723 y(object)i(on)g(a)f(r)o(emote)g(server)g(is)h(the)g(IDL)g(of)f
(the)h(object.)g(Everything)g(else)g(is)g(handled)f(by)h(the)596
2815 y(standar)o(ds)19 b(de\002ned)h(by)h(the)g(OMG.)596
3123 y Fl(Identifying)26 b(the)f(Object)596 3260 y Fs(The)d(calling)i
(pr)o(ogram)e(needs)g(to)i(identify)f(the)g(\(possibly)g(r)o(emote\))f
(object)i(somehow)-8 b(.)24 b(This)g(is)596 3351 y(done)18
b(by)g(something)i(called)d(an)h Fp(IOR)p Fs(,)f(which)i(can)f(be)g(r)o
(epr)o(esented)e(as)i(a)f(string,)i(and)f(ther)o(efor)o(e)596
3442 y(used)f(as)h(an)g(ar)o(gument)g(in)h(the)f(pr)o(ogram.)f
(Decoding)i(the)g(IOR)g(the)f(client)g(can)g(tell)h(the)f(CORBA)596
3533 y(pr)o(otocol)j(and)f(character)f(encoding)i(the)g(server)f
(supports,)h(beside)g(much)g(mor)o(e)f(details.)596 3841
y Fl(Calling)25 b(the)h(method)596 3978 y Fs(The)19 b(calling)g(pr)o
(ogram)g(needs)g(to)g(actually)g(call)g(the)g(method)h(on)g(the)f
(object)h(somehow)-8 b(.)21 b(This)f(is)596 4070 y(done)h(in)g(the)g
(pr)o(ogramming)g(language)f(of)h(the)g(caller)-6 b(,)20
b(and)g(the)h(way)g(the)g(IDL)g(of)g(the)g(maps)g(to)596
4161 y(the)i(pr)o(ogramming)g(language)f(is)i(standar)o(dised)d(by)i
(the)g(OMG.)g(This)g(is)g(called)f(the)h Fp(Language)596
4252 y(Mapping)p Fs(,)c(and)h(all)g(the)g(dif)o(fer)o(ent)f(ORBs)i(pr)o
(ovide)e(at)h(least)g(one)h(mapping.)g(ORBit)g(pr)o(ovides)e(at)596
4344 y(the)h(moment)i(a)f(C)f(mapping.)596 4477 y(Of)f(course,)h(C)f
(is)i(a)e(compiled)h(language,)f(so)h(to)g(write)g(a)g(C)f(pr)o(ogram)g
(which)i(is)f(going)h(to)f(make)596 4568 y(an)k(ORBit)i(call,)e(one)h
(needs)g(to)g(compile)h(the)f(IDL)g(of)g(the)g(object)g(one)g(wants)g
(to)h(access)e(using)596 4659 y(the)18 b(orbit-idl)g(compiler)-6
b(,)18 b(and)g(then)g(write)g(a)g(C)g(pr)o(ogram)g(which)h(call)f
(functions)h(that)f(the)g(orbit-)596 4751 y(idl)26 b(compiler)i
(de\002nes,)e(compile)i(this)f(user)g(written)h(code)e(along)i(with)f
(the)g(code)g(generated)596 4842 y(for)20 b(the)h(client)g(by)g(the)g
(orbit)g(compiler)-6 b(,)20 b(and)h(link)g(it)g(to)g(the)g(orbit)g(and)
g(network)g(libraries.)596 4975 y(However)31 b(for)g(mor)o(e)g(dynamic)
h(languages)f(\(eg,)g(Python\),)h(a)f(mor)o(e)g(natural)g(way)h(of)f
(using)596 5066 y(CORBA)21 b(is)h(to)g(dynamically)g(load)f(in)h(the)g
(IDL)g(de\002nition)g(and)f(use)h(it)g(without)h(any)e(separate)596
5157 y(compile)g(phase.)f(The)h(beauty)f(of)h(CORBA)f(is)h(that)g(it)g
(supports)g(both)h(mechanisms)p Black 3642 5585 a Fp(9)p
Black eop
%%Page: 10 14
10 13 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(4.)g(CORBA)h(concepts)p Black 596 89 a Fl(Mo)n(ving)k(the)g(call)h
(acr)n(oss)e(the)h(netw)n(ork)596 226 y Fs(The)d(function)g(call)g(on)h
(the)f(client)g(now)h(gets)g(handled)e(by)h(the)h Fp(Object)f(Request)h
(Br)o(oker)f Fs(or)g Fp(ORB)596 317 y Fs(and)c(gets)h(translated)e(to)i
(the)g(actual)f(TCP/IP)h(r)o(equest)f(to)i(the)e(server)g
Fp(ORB)h Fs(which)g(is)g(handling)596 409 y(the)j(object)h(to)g(be)f
(called.)g(The)g(two)h(ORBs)g(communicate)h(via)e(a)g(pr)o(otocol)g
(called)g(the)h Fp(Internet)596 500 y(InterOrb)j(Pr)o(otocol)f
Fs(or)i Fp(IIOP)p Fs(,)d(which)k(is)e(standar)o(d.)f(This)i(means)f
(that)h(the)f(ORBs)h(could)g(come)596 591 y(fr)o(om)d(dif)o(fer)o(ent)f
(suppliers,)i(and)g(never)f(had)h(been)g(tested)f(against)h(each)g
(other)-6 b(,)25 b(and)f(yet)h(still)596 683 y(work.)596
991 y Fl(Returning)f(the)i(ans)o(wer)596 1128 y Fs(On)31
b(the)g(server)g(side,)f(a)h(mirr)o(or)g(of)g(the)g(client)g(pr)o
(ocess)g(happens,)g(translating)g(the)g(r)o(equest)596
1219 y(fr)o(om)c(TCP/IP)g(packets)g(to)h(an)g(actual)e(call)h(in)h(the)
g(pr)o(ogramming)g(language)f(used)g(to)h(write)596 1310
y(the)i(server)-6 b(.)29 b(The)h(servant)f(object,)i(written)f(by)g
(whoever)h(wr)o(ote)e(the)i(server)e(then)i(pr)o(ovides)596
1402 y(the)23 b(r)o(eturn)f(values,)g(and)h(the)g(r)o(esults)f(ar)o(e)g
(sent)h(back)f(down)i(the)f(ORBs)h(to)f(the)g(client)g(in)h(r)o(eply)
596 1493 y(message.)596 1801 y Fl(Contin)o(ue)596 1938
y Fs(This)i(may)g(seem)g(like)g(a)g(lot)h(of)f(work)g(for)g(a)g(rather)
f(simple)h(thing,)h(but)f(the)g(idea)g(about)g(hav-)596
2029 y(ing)f(so)f(many)h(standar)o(ds)e(is)i(that)f(some)h(of)g(the)f
(standar)o(ds)f(can)h(change)h(and)f(adapt)f(without)596
2121 y(everything)31 b(in)g(CORBA)g(shifting.)g(Learning)g(about)g
(CORBA)f(is)h(usually)h(much)f(easier)f(by)596 2212 y(example,)19
b(so)j(I)e(would)i(dip)e(into)i(the)f(next)f(chapter)g(and)h(come)g
(back)f(to)h(this)h(one)f(later)-6 b(.)197 2541 y Fu(Notes)p
Black 596 2688 a Fs(1.)p Black 69 w(http://www)e(.omg.or)o(g/)p
Black 197 5585 a Fp(10)p Black eop
%%Page: 11 15
11 14 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(Chapter)34
b(5.)f(Fir)n(st)i(CORB)l(A)d(Pr)n(ograms)197 405 y Fo(Examples)c(intr)n
(oduction)596 547 y Fs(Thr)o(ee)17 b(dif)o(fer)o(ent,)e(working)20
b(pr)o(ograms)d(will)i(be)f(pr)o(esented)e(in)j(this)g(chapter)-6
b(.)17 b(They)h(ar)o(e)e(all)i(very)596 638 y(simple)23
b(and)f(worth)h(looking)h(over)e(and)g(r)o(unning)i(\(you)f(will)g
(\002nd)g(the)g(sour)o(ce)f(code)g(for)g(them)596 729
y(in)f(the)g(examples)f(dir)o(ectory)g(that)g(comes)i(with)f
(orbit-docs.tar)-6 b(.gz\))596 862 y(I)46 b(have)g(tested)g(out)i(the)e
(\002rst)h(two)g(examples,)f(echo)h(and)f(calculator)g(and)g(they)h
(work)596 953 y(fr)o(om)33 b(the)g(code)g(in)h(this)h(document.)e(The)h
(actual)e(code)i(with)g(make\002les)f(can)h(be)f(found)g(at)626
1045 y(http://www)-8 b(.gnome.or)o(g/pr)o(ojects/ORBit2/orbit-docs.tar)
i(.gz)2843 1012 y Fn(1)2868 1045 y Fs(.)30 b(However)-6
b(,)31 b(it)f(is)h(likely)596 1136 y(that)19 b(the)h(code)f(is)h(not)h
(is)f(well)g(written)g(as)f(we)h(would)g(like,)f(and)h(I)f(am)h(sur)o
(e)f(it)h(could)f(get)h(better)-6 b(.)596 1227 y(Please)28
b(dr)o(op)g(me)h(a)g(note)h(if)e(you)i(would)f(like)h(to)f(contribute)g
(something)i(to)f(the)f(examples,)596 1319 y(pr)o(eferably)18
b(as)j(patches)f(to)h(the)g(code)g(in)g(examples)f(dir)o(ectory)g(and)g
(the)h(orbit.xml)g(document.)197 1637 y Fo(Files)28 b(at)g(a)g(glance)
596 1778 y Fs(Befor)o(e)17 b(we)i(pr)o(esent)f(these)i(examples,)e(we)h
(should)h(sketch)f(what)g(\002les)g(ar)o(e)f(generated)g(or)h(writ-)596
1870 y(ten)30 b(by)g(the)g(pr)o(ogrammer)f(in)i(a)e(typical)h(ORBit)h
(application.)f(The)g(load)g(of)g(\002les)g(generated)596
1961 y(fr)o(om)j(the)h(IDL)g(speci\002cation)g(may)g(seem)f(very)h
(complex)g(at)f(a)g(\002rst)i(glance,)e(and)g(the)h(fol-)596
2052 y(lowing)28 b(table)e(tries)h(to)g(make)f(clear)o(er)f(which)j
(\002les)f(ar)o(e)e(r)o(eally)h(important.)h(The)g(\002rst)g(\002le)g
(the)596 2144 y(pr)o(ogrammer)d(must)h(write)g(in)h(an)f(ORBit)g
(application,)g(is)g(the)g(IDL)g(\002le.)g(For)h(a)69
b Fk(f.idl)g Fs(IDL)596 2235 y(speci\002cation,)20 b(r)o(unning)596
2400 y Fj(bash)41 b($)p Fi(orbit-idl-2)j(--skeleton-impl)e(f.idl)596
2574 y Fs(will)24 b(pr)o(oduce)f(most)i(of)e(the)h(needed)f(\002les)h
(to)h(start)e(writing)i(the)f(application)g(\(you)g(can)f(see)h(it)596
2666 y(as)c(a)g(framework\).)g(They)h(ar)o(e)e(listed)i(in)g(the)g
(following)h(table:)p 596 2859 3099 4 v 596 2859 V 596
2986 4 128 v 600 2961 a Ft(File)p 2143 2986 V 1403 w(Usa)o(g)q(e)p
3691 2986 V 596 2990 3099 4 v 596 2990 V 596 3117 4 128
v 600 3092 a Fs(f-stubs.c)p 2143 3117 V 1239 w(do)f(not)h(edit)e
(\(translation)h(of)g(your)g(IDL\))p 3691 3117 V 596
3121 3099 4 v 596 3121 V 596 3248 4 128 v 600 3223 a(f-skels.c)p
2143 3248 V 1252 w(do)g(not)h(edit)e(\(translation)h(of)g(your)g(IDL\))
p 3691 3248 V 596 3252 3099 4 v 596 3252 V 596 3379 4
128 v 600 3354 a(f-common.c)p 2143 3379 V 1111 w(do)g(not)h(edit)e
(\(generated)f(fr)o(om)i(IDL\))p 3691 3379 V 596 3383
3099 4 v 596 3383 V 596 3510 4 128 v 600 3485 a(f.h)p
2143 3510 V 1449 w(do)g(not)h(edit)p 3691 3510 V 596
3514 3099 4 v 596 3514 V 596 3641 4 128 v 600 3616 a(f-skelimpl.c)p
2143 3641 V 1116 w(add)e(the)h(code)f(of)h(the)g(server)f(methods)p
3691 3641 V 596 3645 3099 4 v 596 3645 V 596 3794 a(Files)h(r)o
(emaining)f(to)i(write)e(:)p 596 3987 V 596 3987 V 596
4115 4 128 v 600 4090 a(f-client.c)p 2143 4115 V 1232
w(write)h(the)g(client)g(code)p 3691 4115 V 596 4118
3099 4 v 596 4118 V 596 4337 4 220 v 600 4221 a(f-server)-6
b(.c)p 2143 4337 V 1210 w(write)21 b(the)g(generic)g(code)f(for)h
(servant)2146 4312 y(cr)o(eation)p 3691 4337 V 596 4340
3099 4 v 596 4340 V 596 4647 a(The)h(\002rst)h(thr)o(ee)f(\002les)h
(deal)f(with)h(communication)i(implementation)f(and)e(ar)o(e)f
(automatically)596 4739 y(generated)26 b(fr)o(om)i(your)g(IDL)g
(\002le.)g(The)73 b Fk(f-skelimpl.c)e Fs(\002le)28 b(contains)h(the)f
(framework)g(of)596 4830 y(the)f(servant)f(functions:)i(you)f(should)h
(\002nd)f(near)f(the)h(end)g(of)g(the)g(\002le,)f(function)i(pr)o
(ototypes)596 4921 y(corr)o(esponding)j(to)g(the)g(one)h(you)f(have)g
(declar)o(ed)e(in)i(your)h(IDL,)f(your)g(r)o(eal)f(code)h(must)g(be)596
5013 y(inserted)e(between)g(markers.)g(Of)h(course,)f(you)h(should)h
(keep)e(this)h(\002le)g(only)h(on)f(the)g(server)596
5104 y(side)20 b(since)h(it)g(is)g(of)g(no)g(use)g(for)g(the)g(client.)
596 5237 y(The)68 b Fk(f-client.c)f Fs(\(you)24 b(can)g(choose)g
(another)g(name\))g(is)g(to)g(be)g(written)g(by)g(the)g(pr)o(ogram-)596
5328 y(mer)-6 b(.)28 b(This)i(is)g(wher)o(e)f(the)g(pr)o(ogrammer)g
(initializes)h(the)f(ORB)h(and)f(binds)h(the)f(client)h(to)g(the)596
5419 y(server)20 b(using)h(the)g(IOR.)p Black 3601 5585
a Fp(11)p Black eop
%%Page: 12 16
12 15 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fs(The)64
b Fk(f-server.c)f Fs(\(you)20 b(can)f(choose)i(another)e(name\))h(must)
g(also)g(be)f(written)h(but)g(this)h(part)596 180 y(is)j(rather)f
(generic)h(and)f(is)i(usually)f(copied)f(fr)o(om)h(an)g(existing)g
(application)g(and)g(har)o(dly)f(ever)596 272 y(modi\002ed)k(during)g
(the)f(application)h(developpement.)f(It)h(always)g(deals)f(with)h(the)
g(ORB)h(ini-)596 363 y(tialization)c(and)g(the)h(POA)g(cr)o(eation)f
(so)h(that)f(servants)h(ar)o(e)e(spawned)h(to)h(execute)f(the)h(server)
596 454 y(code)20 b(de\002ned)g(in)66 b Fk(f-skelimpl.c)43
b Fs(.)197 772 y Fo(Ec)o(ho)29 b(c)n(lient)f(&)f(ser)q(ver)596
914 y Fs(The)32 b(aim)g(for)f(this)i(example)e(is)i(to)f(r)o(un)h(a)e
(client)i(which)g(accepts)e(typed)h(input)g(and)g(this)h(is)596
1005 y(printed)20 b(out)h(on)h(the)f(server)e(on)j(stdout)596
1138 y(The)e(echo)h(functionality)h(is)f(r)o(epr)o(esented)e(in)i(the)g
(following)h(very)e(short)i(IDL.)596 1354 y Fq(Example)c(5-1.)h(Echo)h
(IDL)h(\002le)596 1601 y Fk(//)44 b(MyFirstOrbit)f(program)g(-)i(The)f
(Echo)h(object)596 1684 y(//)596 1766 y(//)f(All)g(this)g(does)h(is)f
(pass)g(a)h(string)f(from)g(the)596 1848 y(//)g(client)g(to)g(the)h
(server.)596 2012 y(interface)e(Echo)h({)640 2095 y(void)h
(echoString\(in)d(string)i(input\);)596 2177 y(};)596
2484 y Fs(The)22 b Fp(interface)g Fs(de\002nition)i(is)e(the)h(key)f
(part)f(of)i(the)f(de\002nition.)h(Each)f(interface)f(de\002nes)h(an)g
(ob-)596 2575 y(ject)27 b(which)i(can)e(have)h(methods)g(on)g(it.)g(In)
g(this)g(case)f(ther)o(e)g(is)h(one)g(method,)g(which)h(takes)e(a)596
2667 y(string)h(ar)o(gument)f(and)h(r)o(eturns)f(nothing.)i(The)f
Fp(in)g Fs(declaration)f(befor)o(e)g(the)h(ar)o(gument)f(indi-)596
2758 y(cates)17 b(that)i(this)g(ar)o(guments)f(is)h(only)h(passed)e
(into)h(the)g(method.)f(Generally)h(all)f(ar)o(guments)g(ar)o(e)596
2849 y(in)j(ar)o(guments,)f(for)g(the)h(\002rst)g(case.)596
2982 y(This)33 b(idl)h(is)f(found)g(in)h(the)f(\002le)h
Fk(echo.idl)p Fs(.)d(T)-8 b(o)34 b(compile)g(the)f(idl)g(one)h(does)f
(the)g(following)596 3073 y(step:)77 b Fk($)44 b Fi(orbit-idl-2)f
(--skeleton-impl)g(echo.idl)76 b Fs(which)33 b(will)h(pr)o(oduce)d
(most)j(of)596 3165 y(the)22 b(needed)g(\002les)h(to)f(start)h(writing)
g(the)g Fp(echo)f Fs(application)g(\(you)h(can)f(see)g(it)h(as)f(a)g
(framework\).)596 3256 y(They)e(ar)o(e)g(listed)h(in)g(the)g(following)
h(table:)p 596 3407 3102 4 v 596 3407 V 596 3535 4 128
v 600 3510 a Ft(File)p 1628 3535 V 1063 w(Usa)o(g)q(e)h(f)n(or)g
(Client)p 2661 3535 V 384 w(Usa)o(g)q(e)g(f)n(or)g(Ser)q(ver)p
3694 3535 V 596 3538 3102 4 v 596 3538 V 596 3666 4 128
v 600 3641 a Fs(echo.h)p 1628 3666 V 1121 w(r)o(eadonly)p
2661 3666 V 705 w(r)o(eadonly)p 3694 3666 V 596 3669
3102 4 v 596 3669 V 596 3797 4 128 v 600 3772 a(echo-common.c)p
1628 3797 V 783 w(r)o(eadonly)p 2661 3797 V 705 w(r)o(eadonly)p
3694 3797 V 596 3800 3102 4 v 596 3800 V 596 3928 4 128
v 600 3903 a(echo-stubs.c)p 1628 3928 V 911 w(r)o(eadonly)p
2661 3928 V 855 w(-)p 3694 3928 V 596 3931 3102 4 v 596
3931 V 596 4059 4 128 v 600 4034 a(echo-skels.c)p 1628
4059 V 1074 w(-)p 2661 4059 V 855 w(r)o(eadonly)p 3694
4059 V 596 4062 3102 4 v 596 4062 V 596 4190 4 128 v
600 4165 a(echo-skelimpl.c)p 1628 4190 V 938 w(-)p 2661
4190 V 608 w(template)d(for)h(user)f(code)p 3694 4190
V 596 4193 3102 4 v 596 4193 V 596 4343 a(Files)h(r)o(emaining)g(to)h
(write)f(ar)o(e)f(listed)h(in)h(following)h(table,)d(starting)i(with)g
Fp(echo-client.c)d Fs(in)j(fol-)596 4434 y(lowing)g(chapter)-6
b(.)p 596 4627 3099 4 v 596 4627 V 596 4755 4 128 v 600
4730 a(echo-client.c)p 2143 4755 V 1090 w(write)21 b(the)g(client)g
(code)p 3691 4755 V 596 4758 3099 4 v 596 4758 V 596
4977 4 220 v 600 4861 a(echo-server)-6 b(.c)p 2143 4977
V 1068 w(write)21 b(the)g(generic)g(code)f(for)h(servant)2146
4952 y(cr)o(eation)p 3691 4977 V 596 4980 3099 4 v 596
4980 V Black 197 5585 a Fp(12)p Black eop
%%Page: 13 17
13 16 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fl(Ec)o(ho)j(c)n
(lient)596 226 y Fs(The)c(client)h(code)g(is)g(shown)h(her)o(e)596
446 y Fq(Example)c(5-2.)h(echo-client.c)596 611 y Fk(/*)640
693 y(*)45 b(Echo)f(client)g(program..)f(Hacked)h(by)h(Ewan)f(Birney)g
(<birney@sanger.ac.uk>)640 776 y(*)h(from)f(echo)g(test)g(suite,)g
(update)g(for)g(ORBit2)g(by)h(Frank)f(Rehberger)640 858
y(*)h(<F.Rehberger@xtradyne.de>)640 940 y(*)640 1022
y(*)g(Client)f(reads)g(object)g(reference)f(\(IOR\))h(from)g(local)g
(file)g('echo.ref')f(and)640 1104 y(*)i(forwards)e(console)h(input)g
(to)h(echo-server.)d(A)j(dot)f(.)h(as)g(single)e(character)640
1187 y(*)i(in)g(input)e(terminates)h(the)g(client.)640
1269 y(*/)596 1433 y(#include)f(<stdio.h>)596 1515 y(#include)g
(<signal.h>)596 1598 y Fi(#include)g(<orbit/orbit.h>)596
1762 y Fk(/*)640 1844 y(*)i(This)f(header)g(file)g(was)g(generated)g
(from)g(the)g(idl)640 1926 y(*/)596 2091 y Fi(#include)f("echo.h")596
2255 y Fk(/**)640 2337 y(*)i(test)f(for)g(exception)640
2420 y(*/)596 2502 y(static)596 2584 y(gboolean)596 2666
y(raised_exception\(CORBA_Environment)39 b(*ev\))596
2748 y({)640 2830 y(return)44 b(\(\(ev\)->_major)f(!=)h
(CORBA_NO_EXCEPTION\);)596 2913 y(})596 3077 y(/**)640
3159 y(*)h(in)g(case)f(of)g(any)g(exception)g(this)g(macro)g(will)g
(abort)g(the)g(process)640 3241 y(*/)596 3324 y(static)596
3406 y(void)596 3488 y(abort_if_exception\(CORBA_Environment)38
b(*ev,)44 b(const)g(char*)g(mesg\))596 3570 y({)640 3652
y(if)h(\(raised_exception)d(\(ev\)\))i({)685 3735 y(g_error)g(\("\045s)
g(\045s",)g(mesg,)g(CORBA_exception_id)e(\(ev\)\);)685
3817 y(CORBA_exception_free)g(\(ev\);)685 3899 y(abort\(\);)640
3981 y(})596 4063 y(})596 4228 y(static)h(CORBA_ORB)88
b(global_orb)44 b(=)g(CORBA_OBJECT_NIL;)e(/*)j(global)f(orb)g(*/)596
4392 y(/*)g(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 4474 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
4556 y(*/)596 4639 y(static)596 4721 y(void)596 4803
y(client_shutdown)d(\(int)i(sig\))596 4885 y({)954 4967
y(CORBA_Environment)87 b(local_ev[1];)954 5050 y
(CORBA_exception_init\(local_ev\);)954 5214 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 5296 y({)1313 5378 y Fi
(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i(local_ev\);)1313
5461 y Fk(abort_if_exception)e(\(local_ev,)h("caught)g(exception"\);)p
Black 3601 5585 a Fp(13)p Black eop
%%Page: 14 18
14 17 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 954 89 a Fk(})596
171 y(})596 418 y(/*)44 b(Inits)g(ORB)g(@orb)g(using)g(@argv)g
(arguments)g(for)g(configuration.)f(For)h(each)640 500
y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g(the)g
(counter)g(of)h(@argc_ptr)640 582 y(*)g(will)f(be)h(decremented.)d
(Signal)i(handler)g(is)g(set)h(to)f(call)640 664 y(*)h
(echo_client_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g(and)g
(SIGTERM)640 747 y(*)h(signals.)88 b(If)45 b(error)f(occures)f(@ev)i
(points)f(to)g(exception)f(object)h(on)640 829 y(*)h(return.)640
911 y(*/)596 993 y(static)596 1075 y(void)596 1158 y(client_init)d
(\(int)672 b(*argc_ptr,)865 1240 y(char)626 b(*argv[],)1178
1322 y(CORBA_ORB)402 b(*orb,)1178 1404 y(CORBA_Environment)42
b(*ev\))596 1486 y({)954 1569 y(/*)j(init)f(signal)g(handling)f(*/)954
1733 y(signal\(SIGINT,)87 b(client_shutdown\);)954 1815
y(signal\(SIGTERM,)42 b(client_shutdown\);)954 1979 y(/*)j(create)e
(Object)h(Request)g(Broker)g(\(ORB\))g(*/)954 2144 y
Fi(\(*orb\))g(=)h(CORBA_ORB_init\(argc_ptr,)40 b(argv,)k
("orbit-local-orb",)e(ev\);)954 2226 y Fk(if)j
(\(raised_exception\(ev\)\))c(return;)596 2308 y(})596
2473 y(/*)j(Releases)f(@servant)h(object)g(and)g(finally)g(destroys)f
(@orb.)h(If)h(error)640 2555 y(*)g(occures)f(@ev)g(points)g(to)g
(exception)g(object)f(on)i(return.)640 2637 y(*/)596
2719 y(static)596 2801 y(void)596 2884 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 2966 y(CORBA_Object)625 b(service,)1313
3048 y(CORBA_Environment)356 b(*ev\))596 3130 y({)954
3212 y(/*)45 b(releasing)e(managed)h(object)f(*/)954
3295 y Fi(CORBA_Object_release\(service,)d(ev\);)954
3377 y Fk(if)45 b(\(raised_exception\(ev\)\))c(return;)954
3541 y(/*)k(tear)f(down)g(the)g(ORB)h(*/)954 3623 y(if)g(\(orb)f(!=)g
(CORBA_OBJECT_NIL\))954 3706 y({)1313 3788 y(/*)g(going)g(to)h(destroy)
e(orb..)h(*/)1313 3870 y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)1313
3952 y Fk(if)j(\(raised_exception\(ev\)\))d(return;)954
4034 y(})596 4116 y(})596 4281 y(/**)640 4363 y(*)640
4445 y(*/)596 4527 y(static)596 4610 y(CORBA_Object)596
4692 y(client_import_service_from_stream)e(\(CORBA_ORB)446
b(orb,)909 4774 y(FILE)627 b(*stream,)909 4856 y(CORBA_Environment)42
b(*ev\))596 4938 y({)640 5021 y(CORBA_Object)h(obj)h(=)h
(CORBA_OBJECT_NIL;)640 5103 y(gchar)f(*objref=NULL;)640
5267 y(fscanf)g(\(stream,)g("\045as",)f(&objref\);)89
b(/*)44 b(FIXME,)g(handle)g(input)g(error)g(*/)640 5432
y(obj)h(=)f(\(CORBA_Object\))f(CORBA_ORB_string_to_object)d
(\(global_orb,)p Black 197 5585 a Fp(14)p Black eop
%%Page: 15 19
15 18 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 954 89 a Fk(objref,)954
171 y(ev\);)640 253 y(free)45 b(\(objref\);)640 418 y(return)f(obj;)596
500 y(})596 664 y(/**)640 747 y(*)640 829 y(*/)596 911
y(static)596 993 y(CORBA_Object)596 1075 y
(client_import_service_from_file)39 b(\(CORBA_ORB)447
b(orb,)820 1158 y(char)627 b(*filename,)820 1240 y(CORBA_Environment)42
b(*ev\))596 1322 y({)954 1404 y(CORBA_Object)88 b(obj)179
b(=)44 b(NULL;)954 1486 y(FILE)403 b(*file)134 b(=)44
b(NULL;)954 1651 y(/*)h(write)f(objref)f(to)i(file)f(*/)954
1815 y(if)h(\(\(file=fopen\(filename,)c("r"\)\)==NULL\))1313
1897 y(g_error)i(\("could)h(not)g(open)h(\045s\\n",)e(filename\);)640
2062 y(obj=client_import_service_from_stream)c(\(orb,)44
b(file,)g(ev\);)640 2226 y(fclose)g(\(file\);)640 2390
y(return)g(obj;)596 2473 y(})596 2719 y(/**)640 2801
y(*)640 2884 y(*/)596 2966 y(static)596 3048 y(void)596
3130 y(client_run)f(\(Echo)88 b(echo_service,)820 3212
y(CORBA_Environment)355 b(*ev\))596 3295 y({)640 3377
y(char)45 b(filebuffer[1024+1];)640 3541 y(g_print\("Type)e(messages)g
(to)i(the)f(server\\n")685 3623 y("a)h(single)e(dot)i(in)f(line)g(will)
h(terminate)e(input\\n"\);)640 3788 y(while\()h
(fgets\(filebuffer,1024,stdin\))c(\))45 b({)685 3870
y(if\()g(filebuffer[0])d(==)j('.')f(&&)g(filebuffer[1])f(==)i('\\n')f
(\))730 3952 y(break;)685 4116 y(/*)h(chop)f(the)g(newline)g(off)g(*/)
685 4199 y(filebuffer[strlen\(filebuffer\)-1])c(=)k('\\0';)685
4363 y(/*)h(using)f(the)g(echoString)f(method)h(in)g(the)h(Echo)f
(object)730 4445 y(*)h(this)f(is)g(defined)g(in)g(the)h(echo.h)f
(header,)f(compiled)h(from)730 4527 y(*)h(echo.idl)e(*/)685
4692 y Fi(Echo_echoString\(echo_service,filebuffer,)o(ev\);)685
4774 y Fk(if)i(\(raised_exception)d(\(ev\)\))i(return;)640
4856 y(})596 4938 y(})596 5103 y(/*)640 5185 y(*)h(main)640
5267 y(*/)596 5349 y(int)596 5432 y(main\(int)e(argc,)h(char*)g
(argv[]\))p Black 3601 5585 a Fp(15)p Black eop
%%Page: 16 20
16 19 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fk({)640
171 y(CORBA_char)43 b(filename[])h(=)g("echo.ref";)640
336 y(Echo)h(echo_service)d(=)j(CORBA_OBJECT_NIL;)954
500 y(CORBA_Environment)d(ev[1];)954 582 y Fi
(CORBA_exception_init\(ev\);)640 747 y(client_init)h(\(&argc,)h(argv,)g
(&global_orb,)f(ev\);)640 829 y Fk(abort_if_exception\(ev,)e("init)j
(failed"\);)640 993 y(g_print)g(\("Reading)f(service)h(reference)f
(from)h(file)h(\\"\045s\\"\\n",)e(filename\);)640 1158
y Fi(echo_service)g(=)i(\(Echo\))f(client_import_service_from_file)39
b(\(global_orb,)1223 1240 y("echo.ref",)1223 1322 y(ev\);)954
1404 y Fk(abort_if_exception\(ev,)i("import)j(service)g(failed"\);)640
1569 y Fi(client_run)f(\(echo_service,)g(ev\);)954 1651
y Fk(abort_if_exception\(ev,)e("service)j(not)g(reachable"\);)640
1815 y Fi(client_cleanup)f(\(global_orb,)g(echo_service,)f(ev\);)954
1897 y Fk(abort_if_exception\(ev,)f("cleanup)j(failed"\);)954
2062 y(exit)g(\(0\);)596 2144 y(})596 2318 y Fs(The)20
b(client)h(can)g(be)f(br)o(oken)h(down)g(into)h(thr)o(ee)e(distinct)h
(sections.)p Black 596 2659 a Fm(\225)p Black 43 w Fs(Initialising)h
(the)f(ORB)p Black 596 2791 a Fm(\225)p Black 63 w Fs(Getting)h(the)f
(Object)p Black 596 2924 a Fm(\225)p Black 43 w Fs(Using)g(the)g
(Object)596 3057 y(The)d(key)h(part)f(of)h(the)g(client)g(is)g(when)g
(it)g(calls)g(the)g(echoString)g(method)g(on)h(the)f(server)-6
b(.)17 b(The)i(idl)596 3148 y(de\002nition)820 3314 y
Fk(void)44 b(echoString\(in)e(string)i(input\);)596 3488
y Fs(Ends)23 b(up)g(becoming)h(the)f(following)i(de\002nition)f(in)g
(the)f(echo.h)h(header)e(\002le)h(generated)f(fr)o(om)596
3579 y(the)e(idl)596 3745 y Fk(extern)43 b(void)h
(Echo_echoString\(Echo)670 b(obj,)1851 3827 y(CORBA_char)357
b(*astring,)1851 3909 y(CORBA_Environment)42 b(*ev\);)596
4083 y Fs(This)21 b(follows)h(the)f(accepted)e(r)o(ules)i(for)f(Object)
h(based)f(pr)o(ogramming)h(in)h(C,)e(that)h(is)p Black
596 4424 a Fm(\225)p Black 63 w Fs(The)g(Object)g(is)g(passed)f(in)h
(as)g(the)g(\002rst)g(ar)o(gument)f(to)h(the)g(function)p
Black 596 4556 a Fm(\225)p Black 63 w Fs(The)g(method)g(name)g(is)g
(quali\002ed)g(by)g(the)g(object)g(name)f(befor)o(ehand)p
Black 596 4689 a Fm(\225)p Black 43 w Fs(Exceptions)i(ar)o(e)f(handled)
g(by)i(a)e(str)o(uctur)o(e)h(that)g(is)h(passed)e(in)i(as)f(the)g(last)
g(ar)o(gument)g(to)h(the)679 4781 y(function)596 4913
y(Of)16 b(course,)h(you)g(don't)h(have)e(to)h(follow)h(this)f(in)h
(your)f(own)h(code,)e(but)h(this)g(is)g(how)h(the)f(CORBA)596
5005 y(C)j(mapping)h(works,)g(and)g(it)g(is)g(not)g(a)g(bad)e
(solution.)p Black 197 5585 a Fp(16)p Black eop
%%Page: 17 21
17 20 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fl(Ec)o(ho)j(Ser)q
(ver)596 226 y Fs(The)e(server)h(is)g(basically)f(mor)o(e)h
(complicated)g(than)g(the)g(client,)g(but)g(has)g(some)g(commonality)
596 317 y(with)i(the)f(client.)g(The)h(server)e(has)h(to)h(at)f(the)g
(end)g(of)h(the)f(day)g(go)h(into)g(a)e(main)i(loop)g(wher)o(e)f(it)596
409 y(listens)j(to)g(connections.)h(Befor)o(e)d(that)h(it)h(has)g(to)f
(cr)o(eate)f(the)i(ORB)g(and)f(bind)h(its)g(own)g(imple-)596
500 y(mentations)21 b(of)g(the)g(objects)g(to)g(the)g(ORB.)596
633 y(In)k(r)o(eal)e(life)i(servers,)f(this)i(gets)f(much)g(mor)o(e)g
(complicated,)f(but)h(as)g(this)h(is)f(an)g(example,)e(it)j(is)596
724 y(pr)o(etty)20 b(simple)h(once)g(you)g(get)g(thr)o(ough)g(the)g
(ORB)g(initialisation)h(pr)o(ocess.)596 940 y Fq(Example)c(5-3.)h
(echo-server)-5 b(.c)19 b(source)h(code)596 1105 y Fk(/*)640
1187 y(*)45 b(echo-server)e(program.)g(Hacked)h(from)g(Echo)h(test)f
(suite)g(by)640 1270 y(*)h(<birney@sanger.ac.uk>,)c(ORBit2)j(udpate)g
(by)g(Frank)g(Rehberger)640 1352 y(*)h(<F.Rehberger@xtradyne.de>)640
1434 y(*/)596 1598 y(#include)e(<stdio.h>)596 1681 y(#include)g
(<stdlib.h>)596 1763 y(#include)g(<string.h>)596 1845
y(#include)g(<signal.h>)596 1927 y(#include)g(<orbit/orbit.h>)596
2092 y(#include)g("echo-skelimpl.c")596 2174 y(#include)g
("examples-toolkit.h")e(/*)k(provides)e(etk_abort_if_exception)f(*/)596
2338 y(static)h(CORBA_ORB)447 b(global_orb)43 b(=)i(CORBA_OBJECT_NIL;)d
(/*)i(global)g(orb)h(*/)596 2420 y(static)e(PortableServer_POA)f
(root_poa)133 b(=)45 b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596
2585 y(/*)f(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 2667 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
2749 y(*/)596 2831 y(static)596 2913 y(void)596 2996
y(server_shutdown)d(\(int)i(sig\))596 3078 y({)640 3160
y(CORBA_Environment)87 b(local_ev[1];)640 3242 y
(CORBA_exception_init\(local_ev\);)954 3407 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 3489 y({)1313 3571 y Fi
(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i(local_ev\);)1313
3653 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 3735 y(})596 3818 y(})596 3982 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 4064 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 4146 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
4229 y(*)h(echo_server_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)640 4311 y(*)h(signals.)88 b(If)45 b(error)f(occures)f
(@ev)i(points)f(to)g(exception)f(object)h(on)640 4393
y(*)h(return.)640 4475 y(*/static)596 4557 y(void)596
4640 y(server_init)d(\(int)762 b(*argc_ptr,)865 4722
y(char)716 b(*argv[],)865 4804 y(CORBA_ORB)491 b(*orb,)865
4886 y(PortableServer_POA)86 b(*poa,)865 4968 y(CORBA_Environment)131
b(*ev\))596 5050 y({)640 5133 y(PortableServer_POAManager)86
b(poa_manager)43 b(=)h(CORBA_OBJECT_NIL;)640 5297 y(CORBA_Environment)
87 b(local_ev[1];)640 5379 y(CORBA_exception_init\(local_ev\);)p
Black 3601 5585 a Fp(17)p Black eop
%%Page: 18 22
18 21 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk(/*)45
b(init)f(signal)g(handling)f(*/)640 171 y(signal\(SIGINT,)88
b(server_shutdown\);)640 253 y(signal\(SIGTERM,)43 b
(server_shutdown\);)640 418 y(/*)i(create)f(Object)f(Request)h(Broker)g
(\(ORB\))g(*/)999 582 y Fi(\(*orb\))g(=)g(CORBA_ORB_init\(argc_ptr,)d
(argv,)j("orbit-local-orb",)e(ev\);)640 664 y Fk(if)j
(\(etk_raised_exception\(ev\)\))685 747 y(goto)f(failed_orb;)999
911 y Fi(\(*poa\))g(=)g(\(PortableServer_POA\))685 993
y(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)640 1075 y Fk(if)i(\(etk_raised_exception\(ev\)\))685
1158 y(goto)f(failed_poa;)999 1322 y Fi(poa_manager)f(=)i
(PortableServer_POA__get_the_POAManage)o(r\(*poa)o(,)39
b(ev\);)640 1404 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1486 y(goto)f(failed_poamanager;)685 1651 y Fi
(PortableServer_POAManager_activate\(poa_m)o(anager)o(,)39
b(ev\);)640 1733 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1815 y(goto)f(failed_activation;)999 1979 y Fi(CORBA_Object_release)d
(\(\(CORBA_Object\))i(poa_manager,)g(ev\);)640 2062 y
Fk(return;)640 2226 y(failed_activation:)640 2308 y(failed_poamanager:)
954 2390 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 2473 y(failed_poa:)640 2555 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 2637 y(failed_orb:)640
2719 y(return;)596 2801 y(})596 2966 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
3048 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 3130 y(*)h(return.)640 3212
y(*/)596 3295 y(static)e(void)596 3377 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 3459 y(CORBA_Environment)42 b(*ev\))596 3541
y({)954 3623 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)999 3788 y Fi(CORBA_ORB_run\(orb,)e(ev\);)640
3870 y Fk(if)j(\(etk_raised_exception\(ev\)\))40 b(return;)954
4034 y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f
(signal)g(handler)685 4116 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h
(called)e(*/)596 4199 y(})596 4363 y(/*)h(Releases)f(@servant)h(object)
g(and)g(finally)g(destroys)f(@orb.)h(If)h(error)640 4445
y(*)g(occures)f(@ev)g(points)g(to)g(exception)g(object)f(on)i(return.)
640 4527 y(*/)596 4610 y(static)e(void)596 4692 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 4774 y(PortableServer_POA)87
b(poa,)685 4856 y(CORBA_Object)357 b(ref,)685 4938 y(CORBA_Environment)
87 b(*ev\))596 5021 y({)640 5103 y(PortableServer_ObjectId)131
b(*objid)313 b(=)44 b(NULL;)685 5267 y Fi(objid)g(=)h
(PortableServer_POA_reference_to_id)39 b(\(poa,)44 b(ref,)g(ev\);)640
5349 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)p
Black 197 5585 a Fp(18)p Black eop
%%Page: 19 23
19 22 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 89 a Fk(/*)45
b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89 b(__fini)43
b(destructor)h(*/)685 171 y Fi(PortableServer_POA_deactivate_object)39
b(\(poa,)44 b(objid,)g(ev\);)640 253 y Fk(if)h
(\(etk_raised_exception\(ev\)\))40 b(return;)685 418
y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g(FALSE,)f(ev\);)640
500 y Fk(if)i(\(etk_raised_exception\(ev\)\))40 b(return;)640
664 y(CORBA_free)j(\(objid\);)999 829 y Fi(CORBA_Object_release)e
(\(\(CORBA_Object\))i(poa,)h(ev\);)640 911 y Fk(if)h
(\(etk_raised_exception\(ev\)\))40 b(return;)999 1075
y Fi(CORBA_Object_release)h(\(ref,)j(ev\);)640 1158 y
Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
1322 y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954
1404 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 1486
y({)1313 1569 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358
1651 y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 1733 y
Fk(if)k(\(etk_raised_exception\(ev\)\))40 b(return;)954
1815 y(})596 1897 y(})596 2062 y(/*)k(Creates)g(servant)f(and)i
(registers)e(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
2144 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 2226 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
2308 y(*)i(on)g(return.)640 2390 y(*/)596 2473 y(static)e(CORBA_Object)
596 2555 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 2637 y(PortableServer_POA)86 b(poa,)775 2719
y(CORBA_Environment)h(*ev\))596 2801 y({)640 2884 y(Echo)i(ref)45
b(=)f(CORBA_OBJECT_NIL;)685 3048 y Fi(ref)h(=)f(impl_Echo__create)e
(\(poa,)i(ev\);)640 3130 y Fk(if)h(\(etk_raised_exception\(ev\)\))685
3212 y(return)f(CORBA_OBJECT_NIL;)640 3377 y(return)g(ref;)596
3459 y(})596 3623 y(/*)640 3706 y(*)h(main)640 3788 y(*/)596
3952 y(int)596 4034 y(main)f(\(int)g(argc,)g(char)g(*argv[]\))596
4116 y({)640 4199 y(CORBA_Object)f(servant)h(=)g(CORBA_OBJECT_NIL;)640
4363 y(CORBA_char)f(filename[])h(=)g("echo.ref";)640
4527 y(CORBA_Environment)87 b(ev[1];)640 4610 y
(CORBA_exception_init\(ev\);)685 4774 y Fi(server_init)43
b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g(ev\);)640
4856 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i(init"\);)685
5021 y Fi(servant)f(=)g(server_activate_service)d(\(global_orb,)i
(root_poa,)h(ev\);)640 5103 y Fk(etk_abort_if_exception\(ev,)d("failed)
i(activating)h(service"\);)640 5267 y(g_print)g(\("Writing)f(service)h
(reference)f(to:)i(\045s\\n\\n",)e(filename\);)685 5432
y Fi(etk_export_object_to_file)e(\(global_orb,)p Black
3601 5585 a Fp(19)p Black eop
%%Page: 20 24
20 23 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 909 89 a Fi(servant,)909
171 y(filename,)909 253 y(ev\);)640 336 y Fk
(etk_abort_if_exception\(ev,)41 b("failed)i(exporting)h(IOR"\);)685
500 y Fi(server_run)f(\(global_orb,)g(ev\);)640 582 y
Fk(etk_abort_if_exception\(ev,)e("failed)i(entering)h(main)g(loop"\);)
685 747 y Fi(server_cleanup)f(\(global_orb,)f(root_poa,)i(servant,)f
(ev\);)640 829 y Fk(etk_abort_if_exception\(ev,)e("failed)i
(cleanup"\);)640 993 y(exit)i(\(0\);)596 1075 y(})596
1414 y Fs(The)27 b(key)i(part)e(of)h(the)g(server)f(is)h(when)h(it)f
(calls)g Fq(servant)f(=)h(impl_Echo__create)23 b(\(poa,)k(ev\);)p
Fs(.)596 1505 y(This)j(is)h(a)e(function)i(de\002ned)f(in)h(\002le)f
Fk(echo-skelimpl.c)d Fs(being)k(included)f(at)f(top)i(of)f(echo-)596
1597 y(server)-6 b(.c.)23 b(For)j(each)f(object)h(method)f(of)h(echo)f
(object)h(interface)e(\002le)i Fk(echo-skelimpl.c)d Fs(con-)596
1688 y(tains)28 b(a)f(pr)o(ede\002ned)g(implementation)i(that)f(must)h
(be)f(extended)f(by)h(user)g(\(speci\002c)g(r)o(egions)596
1779 y(ar)o(e)i(marked)g(by)i(comments\);)g(incoming)h(r)o(equests)e
(ar)o(e)f(delegated)g(by)i(object)g(manager)f(to)596
1871 y(speci\002c)24 b(method)h(implementation.)h(-)e(For)h(echo)g
(server)f(application)h(only)g(a)g(single)g(line)g(for)596
1962 y(method)30 b Fq(echoString\(..\))c Fs(must)31 b(be)e(inserted,)g
(this)h(line)g(will)g(print)g(the)g(echo-string)g(to)g(con-)596
2053 y(sole.)e(Let's)g(have)g(a)g(look)h(at)f Fk(echo-skelimpl.c)e
Fs(that)i(has)g(been)g(generated)f(by)i Fq(orbit-idl-2)596
2145 y Fs(tool)23 b(as)f(template)g(for)g(user)-6 b(.)21
b(Ther)o(efor)h(only)h(a)f(single)h(line)f(has)h(been)f(added)f(by)h
(user)g Fq(g_print)596 2236 y(\("\045s\\n",)e(input\);)f
Fs(at)h(very)g(end)h(of)g(\002le)g(in)g(function)g(body)g
Fp(impl_Echo_echoString\(..\))p Fs(.)762 2443 y Fg(Note:)15
b Ff(Constr)q(uctor)f(\(__create\))g(and)h(Destr)q(uctor)f
(\(__\002ni\))h(are)g(de\002ned,)f(too)m(.)h(Ho)o(w)g(to)h(e)n(xtend)e
(those)762 2525 y(functions)k(de\002ning)h(lif)n(ecycle)g(of)h(objects)
g(will)f(be)h(subject)f(to)i(ne)n(xt)e(chapters)o(.)596
2915 y Fq(Example)f(5-4.)h(echo-skelimpl.c)596 3080 y
Fk(#include)43 b("echo.h")596 3245 y(/***)h(App-specific)e(servant)i
(structures)f(***/)596 3409 y(typedef)g(struct)596 3491
y({)730 3574 y(POA_Echo)g(servant;)730 3656 y(PortableServer_POA)f
(poa;)730 3820 y(/*)j(------)e(add)i(private)e(attributes)g(here)i
(------)e(*/)730 3902 y(/*)i(------)e(----------)g(end)i(------------)e
(------)g(*/)596 3984 y(})596 4067 y(impl_POA_Echo;)596
4231 y(/***)h(Implementation)e(stub)i(prototypes)f(***/)596
4395 y(static)g(void)h(impl_Echo__fini\(impl_POA_Echo)c(*)45
b(servant,)1044 4478 y(CORBA_Environment)d(*)i(ev\);)596
4560 y(static)f(void)596 4642 y(impl_Echo_echoString\(impl_POA_Echo)c
(*)44 b(servant,)909 4724 y(const)g(CORBA_char)f(*)i(input,)f
(CORBA_Environment)e(*)j(ev\);)596 4889 y(/***)f(epv)g(structures)f
(***/)596 5053 y(static)g(PortableServer_ServantBase__epv)d
(impl_Echo_base_epv)i(=)i({)730 5135 y(NULL,)134 b(/*)44
b(_private)g(data)g(*/)730 5217 y(\(gpointer\))f(&amp;)h
(impl_Echo__fini,)e(/*)j(finalize)e(routine)h(*/)730
5300 y(NULL,)134 b(/*)44 b(default_POA)f(routine)h(*/)596
5382 y(};)596 5464 y(static)f(POA_Echo__epv)g(impl_Echo_epv)g(=)h({)p
Black 197 5585 a Fp(20)p Black eop
%%Page: 21 25
21 24 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 730 89 a Fk(NULL,)134
b(/*)44 b(_private)g(*/)730 171 y(\(gpointer\))f(&)i
(impl_Echo_echoString,)596 336 y(};)596 500 y(/***)f(vepv)g(structures)
f(***/)596 664 y(static)g(POA_Echo__vepv)g(impl_Echo_vepv)f(=)j({)730
747 y(&impl_Echo_base_epv,)730 829 y(&impl_Echo_epv,)596
911 y(};)596 1075 y(/***)f(Stub)g(implementations)e(***/)596
1240 y(static)h(Echo)596 1322 y(impl_Echo__create\(PortableServer_POA)
38 b(poa,)44 b(CORBA_Environment)e(*)j(ev\))596 1404
y({)730 1486 y(Echo)f(retval;)730 1569 y(impl_POA_Echo)f(*newservant;)
730 1651 y(PortableServer_ObjectId)e(*objid;)730 1815
y(newservant)i(=)i(g_new0\(impl_POA_Echo,)c(1\);)730
1897 y(newservant->servant.vepv)g(=)j(&impl_Echo_vepv;)730
1979 y(newservant->poa)e(=)865 2062 y(\(PortableServer_POA\))f
(CORBA_Object_duplicate\(\(CORBA_Object\))e(poa,)44 b(ev\);)730
2144 y(POA_Echo__init\(\(PortableServer_Servant\))38
b(newservant,)43 b(ev\);)730 2226 y(/*)i(Before)e(servant)h(is)g(going)
g(to)h(be)f(activated)g(all)775 2308 y(*)h(private)e(attributes)g(must)
h(be)h(initialized.)88 b(*/)730 2473 y(/*)45 b(------)e(init)h(private)
g(attributes)f(here)h(------)g(*/)730 2555 y(/*)h(------)e(----------)g
(end)i(-------------)d(------)i(*/)730 2719 y(objid)g(=)h
(PortableServer_POA_activate_object\(po)o(a,)39 b(newservant,)k(ev\);)
730 2801 y(CORBA_free\(objid\);)730 2884 y(retval)h(=)g
(PortableServer_POA_servant_to_reference\(po)o(a,)39
b(newservant,)k(ev\);)730 3048 y(return)h(retval;)596
3130 y(})596 3295 y(static)f(void)596 3377 y
(impl_Echo__fini\(impl_POA_Echo)c(*)45 b(servant,)f(CORBA_Environment)e
(*)i(ev\))596 3459 y({)775 3541 y Fi
(CORBA_Object_release\(\(CORBA_Object\))39 b(servant->poa,)j(ev\);)730
3706 y Fk(/*)j(No)f(further)g(remote)f(method)h(calls)g(are)h
(delegated)e(to)775 3788 y(*)i(servant)e(and)h(you)h(may)f(free)g(your)
g(private)g(attributes.)f(*/)730 3870 y(/*)i(------)e(free)h(private)g
(attributes)f(here)h(------)g(*/)730 3952 y(/*)h(------)e(----------)g
(end)i(-------------)d(------)i(*/)730 4116 y
(POA_Echo__fini\(\(PortableServer_Servant\))38 b(servant,)44
b(ev\);)730 4281 y(g_free\(servant\);)596 4363 y(})596
4527 y(static)f(void)596 4610 y(impl_Echo_echoString\(impl_POA_Echo)c
(*)44 b(servant,)909 4692 y(const)g(CORBA_char)f(*)i(input,)f
(CORBA_Environment)e(*)j(ev\))596 4774 y({)730 4856 y(/*)g(------)133
b(insert)44 b(method)g(code)g(here)134 b(------)43 b(*/)730
4938 y Fi(g_print)h(\("\045s\\n",)f(input\);)730 5021
y Fk(/*)i(------)e(----------)g(end)i(------------)e(------)g(*/)596
5103 y(})p Black 3601 5585 a Fp(21)p Black eop
%%Page: 22 26
22 25 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fl(Compiling)25
b(ser)q(ver)f(&)h(c)n(lient)596 226 y Fs(The)31 b(following)h
(make\002le)f(can)g(be)g(used)g(to)g(compile)h(both,)f(the)g(client)h
(and)e(the)i(server)-6 b(.)29 b(Be)596 317 y(awar)o(e)24
b(of)i(the)h(location)g(of)f(ORBit)h(:)f(on)h(my)f(system)h(it)g(has)f
(been)g(installed)g(under)g(/usr)h(but)596 409 y(it)g(could)g(be)g
(/usr/local)g(if)g(you)h(have)e(built)i(it)f(fr)o(om)g(the)g(sour)o
(ces,)f(and)h(hence)g(the)g(path)g(for)596 500 y(ORBIT)20
b(variables)f(below)i(may)f(vary)-9 b(.)19 b(If)h(using)h(ORBit)g
(binary)f(packages)f(shipped)i(with)g(your)596 591 y(Linux)f(or)h
(BSD/Unix)g(distribution)g(the)g(make\002le)g(below)g(will)h(do.)596
811 y Fq(Example)c(5-5.)h(Make\002le)596 977 y Fk(PREFIX)43
b(?=)i(/usr)596 1059 y(CC)f(=)h(gcc)596 1141 y(TARGETS=echo-client)c
(echo-server)596 1223 y(ORBIT_IDL=orbit-idl-2)596 1305
y(CFLAGS=-g)i(-DORBIT2=1)g(-D_REENTRANT)g
(-I$\(PREFIX\)/include/orbit-2.0)d(\\)909 1388 y
(-I$\(PREFIX\)/include/linc-1.0)g(-I$\(PREFIX\)/include/glib-2.0)h(\\)
909 1470 y(-I$\(PREFIX\)/lib/glib-2.0/include)596 1552
y(LDFLAGS=)i(-Wl,--export-dynamic)e(-L$\(PREFIX\)/lib)i(-lORBit-2)g
(-llinc)h(-lgmodule-2.0)f(\\)1178 1634 y(-ldl)h(-lgobject-2.0)f
(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g(-lm)596 1716
y(IDLOUT=echo-common.c)e(echo-stubs.c)i(echo-skels.c)g(echo.h)596
1881 y(all:)h($\(IDLOUT\))f(echo-client)g(echo-server)596
2045 y(echo-server.o)f(:)j(echo-server.c)d(echo-skelimpl.c)596
2209 y(echo-client)g(:)j(echo-client.o)e(echo-common.o)f(echo-stubs.o)
596 2292 y(echo-server)g(:)j(echo-server.o)e(echo-common.o)f
(echo-skels.o)596 2456 y($\(IDLOUT\):)h(echo.idl)954
2538 y($\(ORBIT_IDL\))g(echo.idl)596 2703 y(clean:)954
2785 y(rm)i(-rf)f(*.o)g(*~)h($\(IDLOUT\))596 2949 y(distclean:)e(clean)
954 3031 y(rm)i(-rf)f(echo-client)f(echo-server)596 3422
y Fq(Example)18 b(5-6.)h(Invoking)h(make)596 3565 y Fe
([frehberg@papaya)26 b(echo]$)i Fd(make)596 3626 y Fc(orbit-idl-2)34
b(echo.idl)596 3687 y(orbit-idl-2)g(2.4.1)f(compiling)629
3747 y(small)g(mode,)h(show)f(preprocessor)h(errors,)g(passes:)g(stubs)
f(skels)h(common)f(headers)629 3808 y(skel_impl)g(imodule)596
3929 y(gcc)g(-DORBIT2=1)h(-D_REENTRANT)g(-I/usr/include/orbit-2.0)h
(-I/usr/include/linc-1.0)596 3990 y(-I/usr/include/glib-2.0)g
(-I/usr/lib/glib-2.0/include)101 b(-c)33 b(-o)h(echo-client.o)596
4051 y(echo-client.c)596 4111 y(gcc)f(-DORBIT2=1)h(-D_REENTRANT)g
(-I/usr/include/orbit-2.0)h(-I/usr/include/linc-1.0)596
4172 y(-I/usr/include/glib-2.0)g(-I/usr/lib/glib-2.0/include)101
b(-c)33 b(-o)h(echo-common.o)596 4233 y(echo-common.c)596
4293 y(gcc)f(-DORBIT2=1)h(-D_REENTRANT)g(-I/usr/include/orbit-2.0)h
(-I/usr/include/linc-1.0)596 4354 y(-I/usr/include/glib-2.0)g
(-I/usr/lib/glib-2.0/include)101 b(-c)33 b(-o)h(echo-stubs.o)596
4415 y(echo-stubs.c)596 4475 y(gcc)f(-Wl,--export-dynamic)i(-lORBit-2)f
(-llinc)f(-lgmodule-2.0)h(-ldl)g(-lgobject-2.0)596 4536
y(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g(-lm)66 b(echo-client.o)34
b(echo-common.o)596 4597 y(echo-stubs.o)100 b(-o)33 b(echo-client)596
4657 y(gcc)g(-DORBIT2=1)h(-D_REENTRANT)g(-I/usr/include/orbit-2.0)h
(-I/usr/include/linc-1.0)596 4718 y(-I/usr/include/glib-2.0)g
(-I/usr/lib/glib-2.0/include)101 b(-c)33 b(-o)h(echo-server.o)596
4779 y(echo-server.c)596 4839 y(gcc)f(-DORBIT2=1)h(-D_REENTRANT)g
(-I/usr/include/orbit-2.0)h(-I/usr/include/linc-1.0)596
4900 y(-I/usr/include/glib-2.0)g(-I/usr/lib/glib-2.0/include)101
b(-c)33 b(-o)h(echo-skels.o)596 4961 y(echo-skels.c)596
5021 y(gcc)f(-Wl,--export-dynamic)i(-lORBit-2)f(-llinc)f(-lgmodule-2.0)
h(-ldl)g(-lgobject-2.0)596 5082 y(-lgthread-2.0)g(-lpthread)g
(-lglib-2.0)g(-lm)66 b(echo-server.o)34 b(echo-common.o)596
5143 y(echo-skels.o)100 b(-o)33 b(echo-server)596 5317
y Fs(After)g(calling)i Fq(make)e Fs(in)h(terminal)h(window)g(all)g
(sour)o(ces)f(have)g(been)g(compiled)g(and)g(you)596
5408 y(should)23 b(open)h(a)e(second)h(terminal)g(window)-8
b(.)25 b(In)e(the)g(\002rst)g(window)h(we)f(will)h(start)f(the)g
(server)p Black 197 5585 a Fp(22)p Black eop
%%Page: 23 27
23 26 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fs(with)g(the)g
(command:)f Fq(./echo-server)p Fs(.)f(The)h(server)g(should)h(print)g
(a)f(very)g(long)i(string)f(into)h(the)596 180 y(\002le)31
b Fk(echo.ref)p Fs(,)f(starting)i(with)h(the)e(4)h(character)e
(sequence)h Fk(IOR:)g Fs(In)h(the)g(second)g(window)596
272 y(we)23 b(will)h(print)g(content)h(of)e Fk(echo.ref)g
Fs(to)h(console)g(and)f(start)h(the)f(client)h(with)h(the)f(command)596
363 y Fq(./echo-client)p Fs(.)15 b(Y)-8 b(ou)21 b(should)g(not)f(try)g
(to)g(type)f(the)h(IOR)g(string,)h(instead)e(use)h(the)g(cut)f(and)g
(paste)596 454 y(functionality)i(of)g(your)g(terminal.)596
670 y Fq(Example)d(5-7.)h(T)-9 b(erminal)19 b(1)h(-)h(Starting)e(Echo)h
(Server)596 814 y Fe([frehberg@papaya)26 b(echo]$)i Fd(./echo-server)
596 1071 y Fq(Example)18 b(5-8.)h(T)-9 b(erminal)19 b(2)h(-)h(Starting)
e(Echo)h(Client)596 1215 y Fe([frehberg@papaya)26 b(echo]$)i
Fd(cat)34 b(echo.ref)596 1276 y Fc
(IOR:010000000d00000049444c3a4563686f3a312e3000000000030000000054424)p
(f540000000101)596 1336 y
(020005000000554e4958000000000700000070617061796100002e0000002f746d7)p
(02f6f72626974)596 1397 y
(2d66726568626572672f6c696e632d323230662d302d32353235666332353730643)p
(0340000000000)596 1458 y
(0000caaedfba58000000010102002e0000002f746d702f6f726269742d667265686)p
(26572672f6c69)596 1518 y
(6e632d323230662d302d323532356663323537306430340000001c0000000000000)p
(0a6361450d7ea)596 1579 y
(e8a8dc29282828282828010000008af91bdf0100000048000000010000000200000)p
(0050000001c00)596 1640 y
(000000000000a6361450d7eae8a8dc29282828282828010000008af91bdf0100000)p
(0140000000100)596 1700 y(000001000105000000000901010000000000)596
1761 y Fe([frehberg@papaya)26 b(echo]$)i Fd(./echo-client)596
1822 y Fc(Type)33 b(messages)h(to)f(the)g(server)596
1882 y(a)g(single)g(dot)h(in)f(line)g(will)h(terminate)g(input:)197
2325 y Fo(Calculator)28 b(c)n(lient)g(&)g(ser)q(ver)596
2466 y Fs(This)19 b(example)f(will)h(take)g(you)g(further)f(into)i
(understanding)f(how)g(to)h(actually)e(make)g(a)h(work-)596
2558 y(ing)h(server)-6 b(,)19 b(using)i(the)f(support)h(that)f(comes)g
(fr)o(om)g(ORBit.)g(It)h(will)f(demonstrate)g(handling)h(of)596
2649 y(r)o(eplies)f(fr)o(om)g(server)-6 b(.)596 2782
y(The)19 b(system)h(will)h(not)f(be)g(doing)g(very)f(much.)h(The)g
(server)f(just)h(pr)o(ovides)f(two)h(functions,)h(one)596
2873 y(to)e(add)g(two)h(numbers)g(and)f(one)g(to)h(subtract)f(two)h
(numbers.)g(The)f(\002rst)h(thing)g(you)g(have)f(to)h(do)596
2965 y(is)h(to)g(write)g(the)f(IDL)h(\002les)g(for)g(the)g(server)-6
b(.)19 b(In)i(our)g(example)f(it)h(is)g(very)g(simple.)596
3180 y Fq(Example)d(5-9.)h(calculator)-5 b(.idl)596 3428
y Fk(interface)43 b(Calculator)596 3510 y({)865 3592
y(double)g(add\(in)h(double)g(number1,)f(in)i(double)f(number2\);)865
3674 y(double)f(sub\(in)h(double)g(number1,)f(in)i(double)f(number2\);)
596 3757 y(};)596 4013 y Fs(Then)24 b(you)h(have)f(to)g(generate)g(the)
g(skeleton)h(and)f(stub)g(\002les.)h(In)f(addition)h(to)f(these)h(two)g
(\002les)596 4104 y(the)19 b(ORBit)i(IDL)e(compiler)h(also)g(generates)
f(a)g(common)i(\002le)f(and)g(a)f(header)f(\002le.)i(The)f(common)596
4196 y(\002le)26 b(implements)i(the)f(memory)g(management)g(functions)g
(and)g(other)f(things,)i(useful)f(in)g(the)596 4287 y(client)g(as)h
(well)g(as)f(in)h(the)g(server)-6 b(.)26 b(The)i(sequence)g(to)g
(generate)e(the)i(C)g(sour)o(ce)f(\002les)h(is)g(rather)596
4378 y(simple.)20 b Fk($)44 b Fi(orbit-idl-2)f(--skeleton-impl)g
(calculator.idl)62 b Fs(geenrates)19 b(all)h(the)g(\002les)596
4470 y(we)g(will)i(use)f(in)g(this)g(example.)p 596 4663
3102 4 v 596 4663 V 596 4790 4 128 v 600 4765 a Ft(File)p
1628 4790 V 1063 w(Usa)o(g)q(e)i(f)n(or)g(Client)p 2661
4790 V 384 w(Usa)o(g)q(e)g(f)n(or)g(Ser)q(ver)p 3694
4790 V 596 4794 3102 4 v 596 4794 V 596 4921 4 128 v
600 4896 a Fs(calculator)-6 b(.h)p 1628 4921 V 936 w(r)o(eadonly)p
2661 4921 V 705 w(r)o(eadonly)p 3694 4921 V 596 4925
3102 4 v 596 4925 V 596 5052 4 128 v 600 5027 a(calculator)o(-common.c)
p 1628 5052 V 593 w(r)o(eadonly)p 2661 5052 V 705 w(r)o(eadonly)p
3694 5052 V 596 5056 3102 4 v 596 5056 V 596 5183 4 128
v 600 5158 a(calculator)o(-stubs.c)p 1628 5183 V 721
w(r)o(eadonly)p 2661 5183 V 855 w(-)p 3694 5183 V 596
5187 3102 4 v 596 5187 V 596 5314 4 128 v 600 5289 a(calculator)o
(-skels.c)p 1628 5314 V 884 w(-)p 2661 5314 V 855 w(r)o(eadonly)p
3694 5314 V 596 5318 3102 4 v 596 5318 V 596 5445 4 128
v 600 5420 a(calculator)o(-skelimpl.c)p 1628 5445 V 748
w(-)p 2661 5445 V 608 w(template)20 b(for)h(user)f(code)p
3694 5445 V 596 5449 3102 4 v 596 5449 V Black 3601 5585
a Fp(23)p Black eop
%%Page: 24 28
24 27 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fs(Files)26
b(r)o(emaining)g(to)h(write)f(ar)o(e)e(listed)j(in)f(following)i
(table,)d(starting)h(with)h Fp(calculator-client.c)596
180 y Fs(in)21 b(following)h(chapter)-6 b(.)p 596 373
3099 4 v 596 373 V 596 501 4 128 v 600 476 a(calculator)o(-client.c)p
2143 501 V 900 w(write)21 b(the)g(client)g(code)p 3691
501 V 596 504 3099 4 v 596 504 V 596 723 4 220 v 600
607 a(calculator)o(-server)-6 b(.c)p 2143 723 V 878 w(write)21
b(the)g(generic)g(code)f(for)h(servant)2146 698 y(cr)o(eation)p
3691 723 V 596 727 3099 4 v 596 727 V 596 1153 a Fl(Calculator)j(c)n
(lient)596 1290 y Fs(The)j(next)h(thing)h(you)g(have)f(to)g(do)g(is)g
(to)h(write)f(the)g(server)f(and)h(client)g(pr)o(ograms.)f(W)-8
b(e)28 b(start)596 1381 y(with)21 b(the)g(client,)g(because)f(it's)h
(easier)f(and)g(not)i(very)e(complicated.)596 1514 y(A)g(simple)h
(implementation)h(of)f(the)g(client)g(might)g(look)h(like)f(this)596
1730 y Fq(Example)d(5-10.)g(calculator)o(-client.c)596
1895 y Fk(/*)44 b(calculator-client.c)e(hacked)h(by)i(Frank)f
(Rehberger)640 1977 y(*)h(<F.Rehberger@xtradyne.de>.)85
b(*/)596 2142 y(#include)43 b(<assert.h>)596 2224 y(#include)g
(<signal.h>)596 2306 y(#include)g(<stdio.h>)596 2388
y(#include)g(<orbit/orbit.h>)596 2553 y(#include)g("calculator.h")596
2717 y(#include)g("examples-toolkit.h")596 2881 y(static)g(CORBA_ORB)88
b(global_orb)44 b(=)g(CORBA_OBJECT_NIL;)e(/*)j(global)f(orb)g(*/)596
3046 y(/*)g(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 3128 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
3210 y(*/)596 3292 y(static)596 3375 y(void)596 3457
y(client_shutdown)d(\(int)i(sig\))596 3539 y({)954 3621
y(CORBA_Environment)87 b(local_ev[1];)954 3703 y
(CORBA_exception_init\(local_ev\);)954 3868 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 3950 y({)1358 4032 y Fi
(CORBA_ORB_shutdown)d(\(global_orb,)i(FALSE,)h(local_ev\);)1313
4114 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 4196 y(})596 4279 y(})596 4525 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 4607 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 4690 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
4772 y(*)h(echo_client_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)640 4854 y(*)h(signals.)88 b(If)45 b(error)f(occures)f
(@ev)i(points)f(to)g(exception)f(object)h(on)640 4936
y(*)h(return.)640 5018 y(*/)596 5101 y(static)596 5183
y(void)596 5265 y(client_init)d(\(int)672 b(*argc_ptr,)865
5347 y(char)626 b(*argv[],)1178 5429 y(CORBA_ORB)402
b(*orb,)p Black 197 5585 a Fp(24)p Black eop
%%Page: 25 29
25 28 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 1178 89 a
Fk(CORBA_Environment)42 b(*ev\))596 171 y({)954 253 y(/*)j(init)f
(signal)g(handling)f(*/)954 418 y(signal\(SIGINT,)87
b(client_shutdown\);)954 500 y(signal\(SIGTERM,)42 b
(client_shutdown\);)954 664 y(/*)j(create)e(Object)h(Request)g(Broker)g
(\(ORB\))g(*/)999 829 y Fi(\(*orb\))g(=)g(CORBA_ORB_init\(argc_ptr,)d
(argv,)j("orbit-local-orb",)e(ev\);)954 911 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)596 993
y(})596 1158 y(/*)k(Releases)f(@servant)h(object)g(and)g(finally)g
(destroys)f(@orb.)h(If)h(error)640 1240 y(*)g(occures)f(@ev)g(points)g
(to)g(exception)g(object)f(on)i(return.)640 1322 y(*/)596
1404 y(static)596 1486 y(void)596 1569 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 1651 y(CORBA_Object)625 b(service,)1313
1733 y(CORBA_Environment)356 b(*ev\))596 1815 y({)954
1897 y(/*)45 b(releasing)e(managed)h(object)f(*/)999
1979 y Fi(CORBA_Object_release\(service,)d(ev\);)954
2062 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))40 b(return;)954
2226 y(/*)45 b(tear)f(down)g(the)g(ORB)h(*/)954 2308
y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 2390 y({)1313
2473 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 2555
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)1313 2637 y Fk(if)j
(\(etk_raised_exception\(ev\)\))d(return;)954 2719 y(})596
2801 y(})596 2966 y(/**)640 3048 y(*)640 3130 y(*/)596
3212 y(static)596 3295 y(void)596 3377 y(client_run)i(\(Calculator)401
b(service,)820 3459 y(CORBA_Environment)42 b(*ev\))596
3541 y({)640 3623 y(CORBA_double)267 b(result=0.0;)640
3788 y(/*)999 3870 y(*)45 b(use)f(calculator)f(service)999
3952 y(*/)999 4116 y Fi(result)h(=)g(Calculator_add\(service,)d(1.0,)k
(2.0,)f(ev\);)954 4199 y Fk(if)h(\(etk_raised_exception)c(\(ev\)\))j
(return;)954 4363 y(/*)h(prints)e(results)h(to)h(console)e(*/)954
4445 y(g_print\("Result:)f(1.0)j(+)f(2.0)h(=)f(\0452.0f\\n",)g
(result\);)596 4527 y(})596 4692 y(/*)640 4774 y(*)h(main)640
4856 y(*/)596 4938 y(int)596 5021 y(main\(int)e(argc,)h(char*)g
(argv[]\))596 5185 y({)954 5267 y(CORBA_char)88 b(filename[])43
b(=)i("calculator.ref";)640 5432 y(Calculator)e(service)h(=)h
(CORBA_OBJECT_NIL;)p Black 3601 5585 a Fp(25)p Black
eop
%%Page: 26 30
26 29 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 954 171 a
Fk(CORBA_Environment)42 b(ev[1];)954 253 y(CORBA_exception_init\(ev\);)
685 418 y Fi(client_init)h(\(&argc,)h(argv,)g(&global_orb,)f(ev\);)640
500 y Fk(etk_abort_if_exception\(ev,)e("init)j(failed"\);)640
664 y(g_print)g(\("Reading)f(service)h(reference)f(from)h(file)h
(\\"\045s\\"\\n",)e(filename\);)685 829 y Fi(service)h(=)g
(\(Calculator\))f(etk_import_object_from_file)e(\(global_orb,)1223
911 y(filename,)1223 993 y(ev\);)954 1075 y Fk
(etk_abort_if_exception\(ev,)g("import)i(service)h(failed"\);)685
1240 y Fi(client_run)f(\(service,)h(ev\);)954 1322 y
Fk(etk_abort_if_exception\(ev,)d("service)i(not)h(reachable"\);)685
1486 y Fi(client_cleanup)f(\(global_orb,)f(service,)i(ev\);)954
1569 y Fk(etk_abort_if_exception\(ev,)d("cleanup)i(failed"\);)954
1733 y(exit)h(\(0\);)596 1815 y(})596 2122 y Fs(Rather)30
b(simple,)h(but)f(full)h(of)f(unexplained)g(stuf)o(f.)f(Let's)i(take)f
(a)g(close)g(look)i(to)f(the)f(de\002ned)596 2214 y(variables.)197
2429 y Fb(env)p Black Black 789 2562 a Fs(This)e(varaible)f(is)h(used)f
(to)h(hold)g(information)h(about)e(exceptions)h(which)h(might)f(have)
762 2654 y(occurr)o(ed)17 b(during)i(a)f(function)i(call.)e(How)i(to)f
(use)g(this)g(variable)f(to)h(detect)f(err)o(ors)g(in)h(func-)762
2745 y(tion)i(will)h(be)e(explained)g(in)h(a)f(later)h(example.)197
2919 y Fb(orb)p Black Black 782 3052 a Fs(This)h(is)f(the)g(ORB)g
(itself.)197 3226 y Fb(server)p Black Black 782 3359
a Fs(This)h(is)f(the)g(object)g(r)o(efer)o(ence)d(to)j(the)g(server)-6
b(.)596 3625 y(The)22 b(example)f(above)g(is)i(a)e(full)h(functional)h
(client.)f(The)g(magic)g(in)h(this)f(example)g(is)g(the)g(usage)596
3716 y(of)j(the)h(function)g Fp(CORBA_ORB_string_to_object)d
Fs(with)j(the)f(parameter)f Fb(argv[1])p Fs(.)g(The)i(ex-)596
3808 y(plantion)18 b(is)g(that)g(the)g(pr)o(ogram)g(is)g(supposed)g(to)
g(be)g(called)f(with)i(the)f(string)g(r)o(epr)o(esentation)f(of)596
3899 y(the)k(Calculator)g(server)g(as)g(the)h(\002rst)g(parameter)-6
b(.)19 b(How)k(to)f(obtain)g(this)g(string,)g(will)g(be)g(shown)596
3990 y(in)f(the)g(next)f(example,)g(wher)o(e)g(I)h(describe)f(how)i
(the)f(server)-6 b(.)596 4298 y Fl(Calculator)24 b(ser)q(ver)596
4435 y Fs(T)-8 b(o)24 b(implement)h(the)g(server)-6 b(,)23
b(the)h(IDL)g(compiler)h(does)f(a)g(gr)o(eat)f(deal)g(of)i(work)f(for)g
(you.)h(It)f(can)596 4527 y(emit)30 b(all)g(the)g(stuf)o(f)f(necessary)
h(to)g(set)h(up)f(the)g(data)f(str)o(uctur)o(es)g(and)h(function)h
(calls)f(for)g(the)596 4618 y(server)18 b(implementation.)j(All)e(you)h
(have)f(to)h(write)g(is)g(the)f(setup)h(stuf)o(f)e(in)i(your)g(main)g
(function)596 4709 y(and)g(the)h(actual)f(implementation)j(of)e(the)g
(server)f(functions.)i(First)f(I'll)g(pr)o(esent)g(the)g(functions)596
4801 y(and)i(data)g(str)o(uctur)o(es)g(the)h(IDL)g(compiler)g
(generates)f(and)h(then)g(I'll)g(show)h(what's)f(necessary)596
4892 y(to)d(set)f(up)h(the)g(envir)o(onment)g(for)g(these)g(functions)g
(to)h(work)f(pr)o(operly)-9 b(.)p Black 197 5585 a Fp(26)p
Black eop
%%Page: 27 31
27 30 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Ft(Calculator)i
(Implementation)e(Skeleton)596 222 y Fs(T)-8 b(o)25 b(ease)g(the)g
(task)h(of)f(implementing)h(the)g(calculator)e(the)i(ORBit)g(IDL)f
(compiler)h(can)e(output)596 313 y(an)29 b(implementation)h(skeleton)h
(of)e(the)h(server)-6 b(.)28 b(This)i(is)g(enabled)f(with)h(the)g
(--skeleton-impl)596 405 y(switch)83 b(to)g(the)f(IDL)h(compiler)-6
b(.)82 b(The)g(output)h(of)g Fq(orbit-idl-2)c(--skeleton-impl)596
496 y(calculator)-5 b(.idl)40 b Fs(looks)46 b(like)e(this)g(\(the)g
(default)f(name)h(for)f(the)h(generated)f(sour)o(ce)h(\002le)g(is)596
587 y Fk(calculator-skelimpl.c)p Fs(:)596 803 y Fq(Example)18
b(5-11.)g(calculator)o(-skelimpl.c)596 968 y Fk(#include)43
b("calculator.h")596 1133 y(/***)h(App-specific)e(servant)i(structures)
f(***/)596 1297 y(typedef)g(struct)596 1379 y({)730 1461
y(POA_Calculator)f(servant;)730 1544 y(PortableServer_POA)g(poa;)730
1708 y(/*)j(------)e(add)i(private)e(attributes)g(here)i(------)e(*/)
730 1790 y(/*)i(------)e(----------)g(end)i(------------)e(------)g(*/)
596 1872 y(})596 1955 y(impl_POA_Calculator;)596 2119
y(/***)h(Implementation)e(stub)i(prototypes)f(***/)596
2283 y(static)g(void)h(impl_Calculator__fini\(impl_POA_Calculator)38
b(*)45 b(servant,)865 2366 y(CORBA_Environment)c(*)k(ev\);)596
2448 y(static)e(CORBA_double)596 2530 y
(impl_Calculator_add\(impl_POA_Calcula)o(tor)c(*)44 b(servant,)865
2612 y(const)f(CORBA_double)g(number1,)865 2694 y(const)g(CORBA_double)
g(number2,)865 2777 y(CORBA_Environment)e(*)k(ev\);)596
2941 y(static)e(CORBA_double)596 3023 y
(impl_Calculator_sub\(impl_POA_Calcula)o(tor)c(*)44 b(servant,)865
3105 y(const)f(CORBA_double)g(number1,)865 3187 y(const)g(CORBA_double)
g(number2,)865 3270 y(CORBA_Environment)e(*)k(ev\);)596
3434 y(/***)f(epv)g(structures)f(***/)596 3598 y(static)g
(PortableServer_ServantBase__epv)d(impl_Calculator_base_epv)h(=)j({)730
3681 y(NULL,)134 b(/*)44 b(_private)g(data)g(*/)730 3763
y(\(gpointer\))f(&)i(impl_Calculator__fini,)c(/*)j(finalize)g(routine)g
(*/)730 3845 y(NULL,)134 b(/*)44 b(default_POA)f(routine)h(*/)596
3927 y(};)596 4009 y(static)f(POA_Calculator__epv)f
(impl_Calculator_epv)g(=)i({)730 4092 y(NULL,)134 b(/*)44
b(_private)g(*/)730 4174 y(\(gpointer\))f(&)i(impl_Calculator_add,)730
4338 y(\(gpointer\))e(&)i(impl_Calculator_sub,)596 4503
y(};)596 4667 y(/***)f(vepv)g(structures)f(***/)596 4831
y(static)g(POA_Calculator__vepv)f(impl_Calculator_vepv)f(=)k({)730
4913 y(&impl_Calculator_base_epv,)730 4996 y(&impl_Calculator_epv,)596
5078 y(};)596 5242 y(/***)f(Stub)g(implementations)e(***/)596
5407 y(static)h(Calculator)p Black 3601 5585 a Fp(27)p
Black eop
%%Page: 28 32
28 31 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fk
(impl_Calculator__create\(PortableServ)o(er_POA)38 b(poa,)1671
171 y(CORBA_Environment)k(*)j(ev\))596 253 y({)730 336
y(Calculator)e(retval;)730 418 y(impl_POA_Calculator)f(*newservant;)730
500 y(PortableServer_ObjectId)f(*objid;)730 664 y(newservant)i(=)i
(g_new0\(impl_POA_Calculator,)40 b(1\);)730 747 y
(newservant->servant.vepv)h(=)j(&impl_Calculator_vepv;)730
829 y(newservant->poa)e(=)j(poa;)730 911 y
(POA_Calculator__init\(\(PortableServer_Se)o(rvant\))38
b(newservant,)43 b(ev\);)730 993 y(/*)i(Before)e(servant)h(is)g(going)g
(to)h(be)f(activated)g(all)775 1075 y(*)h(private)e(attributes)g(must)h
(be)h(initialized.)88 b(*/)730 1240 y(/*)45 b(------)e(init)h(private)g
(attributes)f(here)h(------)g(*/)730 1322 y(/*)h(------)e(----------)g
(end)i(-------------)d(------)i(*/)730 1486 y(objid)g(=)h
(PortableServer_POA_activate_object\(po)o(a,)39 b(newservant,)k(ev\);)
730 1569 y(CORBA_free\(objid\);)730 1651 y(retval)h(=)g
(PortableServer_POA_servant_to_reference\(po)o(a,)39
b(newservant,)k(ev\);)730 1815 y(return)h(retval;)596
1897 y(})596 2062 y(static)f(void)596 2144 y(impl_Calculator__fini)e
(\(impl_POA_Calculator)g(*)k(servant,)999 2226 y(CORBA_Environment)d(*)
j(ev\))596 2308 y({)730 2390 y(CORBA_Object_release\(\(CORBA_Object\))
39 b(servant->poa,)k(ev\);)730 2555 y(/*)i(No)f(further)g(remote)f
(method)h(calls)g(are)h(delegated)e(to)775 2637 y(*)i(servant)e(and)h
(you)h(may)f(free)g(your)g(private)g(attributes.)f(*/)730
2719 y(/*)i(------)e(free)h(private)g(attributes)f(here)h(------)g(*/)
730 2801 y(/*)h(------)e(----------)g(end)i(-------------)d(------)i
(*/)730 2966 y(POA_Calculator__fini\(\(PortableServer_Se)o(rvant\))38
b(servant,)44 b(ev\);)730 3130 y(g_free)g(\(servant\);)596
3212 y(})596 3377 y(static)f(CORBA_double)596 3459 y
(impl_Calculator_add\(impl_POA_Calcula)o(tor)c(*)44 b(servant,)865
3541 y(const)f(CORBA_double)g(number1,)865 3623 y(const)g(CORBA_double)
g(number2,)865 3706 y(CORBA_Environment)e(*)k(ev\))596
3788 y({)730 3870 y(CORBA_double)e(retval;)730 4034 y(/*)i(------)133
b(insert)44 b(method)g(code)g(here)134 b(------)43 b(*/)730
4116 y Fi(retval)h(=)g(number1)g(+)h(number2;)730 4199
y Fk(/*)g(------)e(----------)g(end)i(------------)e(------)g(*/)730
4363 y(return)h(retval;)596 4445 y(})596 4610 y(static)f(CORBA_double)
596 4692 y(impl_Calculator_sub\(impl_POA_Calcula)o(tor)c(*)44
b(servant,)1492 4774 y(const)g(CORBA_double)f(number1,)1492
4856 y(const)h(CORBA_double)f(number2,)865 4938 y(CORBA_Environment)e
(*)k(ev\))596 5021 y({)730 5103 y(CORBA_double)e(retval;)730
5267 y(/*)i(------)133 b(insert)44 b(method)g(code)g(here)134
b(------)43 b(*/)730 5349 y Fi(retval)h(=)g(number1)g(-)h(number2;)730
5432 y Fk(/*)g(------)e(----------)g(end)i(------------)e(------)g(*/)p
Black 197 5585 a Fp(28)p Black eop
%%Page: 29 33
29 32 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 730 171 a
Fk(return)44 b(retval;)596 253 y(})596 561 y Fs(This)25
b(sour)o(ce)g(\002le)g(pr)o(ovides)f(you)i(with)f(most)h(of)f(the)h
(magic)f(of)g(a)f(server)-6 b(.)24 b(Note)h(that)g(we)g(gen-)596
652 y(erate)32 b(this)i(\002le)g(\(with)g(the)g Fq(--skeleton-impl)29
b Fs(switch\))35 b(only)f(once,)g(and)f(then)h(the)g(make\002le)596
743 y(invokes)28 b Fq(orbit-idl-2)d Fs(with)j(no)g(switch.)g(If)f(you)h
(call)f Fq(orbit-idl-2)e(--skeleton-impl)e Fs(fr)o(om)k(the)596
835 y(make\002le,)h(the)g(pr)o(evious)h(\002le)f(will)i(be)e
(overwritten)h(and)f(your)h(implementation)g(code)f(lost.)596
926 y(Once)19 b(the)g(implementation)h(code)f(is)g(written,)g(just)h
(include)f(the)g(sour)o(ce)g(\002le)g(at)g(the)g(beginning)596
1017 y(of)h(the)h Fk(calculator-server.c)d Fs(\002le.)596
1150 y(For)23 b(this)g(\002rst)h(example,)e(I)h(won't)h(explain)e(all)h
(the)g(bits)g(and)g(pieces)g(of)f(the)i(generated)d(sour)o(ce)596
1241 y(\002le.)f(This)i(will)f(be)f(done)h(later)-6 b(.)20
b(W)-8 b(e'll)21 b(just)h(concentrate)e(on)i(getting)f(the)g(server)f
(r)o(unning.)596 1374 y(As)g(you)h(see)g(ther)o(e)f(ar)o(e)f(two)j
(functions:)596 1622 y Fk(CORBA_double)42 b Fj(impl_Calculator_ad)q(d)p
Fk(\(impl_POA_Calculator*)47 b Fa(servant)p Fk(,)596
1705 y(CORBA_double)42 b Fa(number1)p Fk(,)i(CORBA_double)f
Fa(number2)p Fk(,)g(CORBA_Environment*)f Fa(ev)6 b Fk(\);)637
1879 y Fs(and)596 2044 y Fk(CORBA_double)42 b Fj(impl_Calculator_su)q
(b)p Fk(\(impl_POA_Calculator*)47 b Fa(servant)p Fk(,)596
2126 y(CORBA_double)42 b Fa(number1)p Fk(,)i(CORBA_double)f
Fa(number2)p Fk(,)g(CORBA_Environment*)f Fa(ev)6 b Fk(\);)663
2301 y Fs(These)34 b(two)g(functions)h(ar)o(e)d(implementing)j(the)f
(function)h(de\002ned)e(in)h(the)g(IDL)g(\002le.)g(Be-)596
2392 y(cause)26 b(the)g(IDL)h(compiler)g(doesn't)g(pr)o(ovide)f(you)h
(with)h(a)e(r)o(eal)f(implementation)j(\(it)e(doesn't)596
2483 y(know)21 b(what)f(the)h(function)g(should)g(do\),)e(you)i(have)f
(to)g(extend)g(this)h(skeleton)g(yourself)g(wher)o(e)596
2575 y(marked.)596 2708 y(The)k Fk(impl_Calculator_add\(\))d
Fs(should)k(add)e(it's)i(two)g(parameters)e(and)h(r)o(eturn)g(the)g(r)o
(esult)596 2799 y(so)c(this)g(function)h(should)f(be)g(changed)f(into:)
596 3015 y Fq(Example)e(5-12.)g(calculator)o(-skelimpl.c)d(fragment)596
3180 y Fk(static)43 b(CORBA_double)596 3262 y
(impl_Calculator_add\(impl_POA_Calcula)o(tor)c(*)44 b(servant,)1492
3344 y(const)g(CORBA_double)f(number1,)1492 3427 y(const)h
(CORBA_double)f(number2,)865 3509 y(CORBA_Environment)e(*)k(ev\))596
3591 y({)730 3673 y(CORBA_double)e(retval;)730 3838 y(/*)i(------)133
b(insert)44 b(method)g(code)g(here)134 b(------)43 b(*/)730
3920 y Fi(retval)h(=)g(number1)g(+)h(number2;)730 4002
y Fk(/*)g(------)e(----------)g(end)i(------------)e(------)g(*/)730
4166 y(return)h(retval;)596 4248 y(})596 4722 y Ft(Calculator)23
b(Ser)q(ver)h(Implementation)596 4855 y Fs(The)31 b(things)i(you)f
(need)f(in)h(your)g(minimal)g(main)g(function)g(to)g(make)f(things)i
(work)f(can)f(be)596 4946 y(implemented)25 b(in)g(the)g(following)h
(way)-9 b(,)24 b(note)i(analogy)f(to)g Fk(echo-server.c)d
Fs(of)j(pr)o(evious)g(ex-)596 5037 y(ample.)596 5253
y Fq(Example)18 b(5-13.)g(calculator)o(-server)-5 b(.c)596
5418 y Fk(/*)p Black 3601 5585 a Fp(29)p Black eop
%%Page: 30 34
30 33 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk(*)45
b(calculator-server)d(program.)h(Hacked)h(from)g(Frank)g(Rehberger)640
171 y(*)h(<F.Rehberger@xtradyne.de>.)640 253 y(*/)596
418 y(#include)e(<stdio.h>)596 500 y(#include)g(<stdlib.h>)596
582 y(#include)g(<string.h>)596 664 y(#include)g(<signal.h>)596
747 y(#include)g(<orbit/orbit.h>)596 911 y(#include)g("calculator.h")
596 993 y(#include)g("calculator-skelimpl.c")596 1158
y(#include)g("examples-toolkit.h")596 1322 y(static)g(CORBA_ORB)447
b(global_orb)43 b(=)i(CORBA_OBJECT_NIL;)d(/*)i(global)g(orb)h(*/)596
1404 y(static)e(PortableServer_POA)f(root_poa)133 b(=)45
b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596 1569 y(/*)f(Is)h(called)e(in)
i(case)f(of)g(process)g(signals.)g(it)g(invokes)g
(CORBA_ORB_shutdown\(\))640 1651 y(*)h(function,)e(which)h(will)g
(terminate)g(the)g(processes)f(main)i(loop.)640 1733
y(*/)596 1815 y(static)596 1897 y(void)596 1979 y(server_shutdown)d
(\(int)i(sig\))596 2062 y({)640 2144 y(CORBA_Environment)87
b(local_ev[1];)640 2226 y(CORBA_exception_init\(local_ev\);)954
2390 y(if)45 b(\(global_orb)e(!=)h(CORBA_OBJECT_NIL\))954
2473 y({)1358 2555 y Fi(CORBA_ORB_shutdown)d(\(global_orb,)i(FALSE,)h
(local_ev\);)1313 2637 y Fk(etk_abort_if_exception)d(\(local_ev,)i
("caught)h(exception"\);)954 2719 y(})596 2801 y(})596
2966 y(/*)g(Inits)g(ORB)g(@orb)g(using)g(@argv)g(arguments)g(for)g
(configuration.)f(For)h(each)640 3048 y(*)h(ORBit)f(options)g(consumed)
f(from)h(vector)g(@argv)g(the)g(counter)g(of)h(@argc_ptr)640
3130 y(*)g(will)f(be)h(decremented.)d(Signal)i(handler)g(is)g(set)h(to)
f(call)640 3212 y(*)h(echo_server_shutdown)c(function)j(in)g(case)h(of)
f(SIGINT)g(and)g(SIGTERM)640 3295 y(*)h(signals.)88 b(If)45
b(error)f(occures)f(@ev)i(points)f(to)g(exception)f(object)h(on)640
3377 y(*)h(return.)640 3459 y(*/static)596 3541 y(void)596
3623 y(server_init)d(\(int)762 b(*argc_ptr,)865 3706
y(char)716 b(*argv[],)865 3788 y(CORBA_ORB)491 b(*orb,)865
3870 y(PortableServer_POA)86 b(*poa,)865 3952 y(CORBA_Environment)131
b(*ev\))596 4034 y({)640 4116 y(PortableServer_POAManager)86
b(poa_manager)43 b(=)h(CORBA_OBJECT_NIL;)640 4281 y(CORBA_Environment)
87 b(local_ev[1];)640 4363 y(CORBA_exception_init\(local_ev\);)640
4527 y(/*)45 b(init)f(signal)g(handling)f(*/)640 4610
y(signal\(SIGINT,)88 b(server_shutdown\);)640 4692 y(signal\(SIGTERM,)
43 b(server_shutdown\);)640 4856 y(/*)i(create)f(Object)f(Request)h
(Broker)g(\(ORB\))g(*/)999 5021 y Fi(\(*orb\))g(=)g
(CORBA_ORB_init\(argc_ptr,)d(argv,)j("orbit-local-orb",)e(ev\);)640
5103 y Fk(if)j(\(etk_raised_exception\(ev\)\))685 5185
y(goto)f(failed_orb;)999 5349 y Fi(\(*poa\))g(=)g
(\(PortableServer_POA\))685 5432 y
(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)p Black 197 5585 a Fp(30)p Black eop
%%Page: 31 35
31 34 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 89 a Fk(if)45
b(\(etk_raised_exception\(ev\)\))685 171 y(goto)f(failed_poa;)999
336 y Fi(poa_manager)f(=)i(PortableServer_POA__get_the_POAManage)o
(r\(*poa)o(,)39 b(ev\);)640 418 y Fk(if)45 b
(\(etk_raised_exception\(ev\)\))685 500 y(goto)f(failed_poamanager;)685
664 y Fi(PortableServer_POAManager_activate\(poa_m)o(anager)o(,)39
b(ev\);)640 747 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
829 y(goto)f(failed_activation;)999 993 y Fi(CORBA_Object_release)d
(\(\(CORBA_Object\))i(poa_manager,)g(ev\);)640 1075 y
Fk(return;)640 1240 y(failed_activation:)640 1322 y(failed_poamanager:)
954 1404 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 1486 y(failed_poa:)640 1569 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 1651 y(failed_orb:)640
1733 y(return;)596 1815 y(})596 1979 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
2062 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 2144 y(*)h(return.)640 2226
y(*/)596 2308 y(static)e(void)596 2390 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 2473 y(CORBA_Environment)42 b(*ev\))596 2555
y({)954 2637 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)999 2801 y Fi(CORBA_ORB_run\(orb,)e(ev\);)640
2884 y Fk(if)j(\(etk_raised_exception\(ev\)\))40 b(return;)954
3048 y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f
(signal)g(handler)685 3130 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h
(called)e(*/)596 3212 y(})596 3377 y(/*)h(Releases)f(@servant)h(object)
g(and)g(finally)g(destroys)f(@orb.)h(If)h(error)640 3459
y(*)g(occures)f(@ev)g(points)g(to)g(exception)g(object)f(on)i(return.)
640 3541 y(*/)596 3623 y(static)e(void)596 3706 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 3788 y(PortableServer_POA)87
b(poa,)685 3870 y(CORBA_Object)357 b(ref,)685 3952 y(CORBA_Environment)
87 b(*ev\))596 4034 y({)640 4116 y(PortableServer_ObjectId)131
b(*objid)313 b(=)44 b(NULL;)685 4281 y Fi(objid)g(=)h
(PortableServer_POA_reference_to_id)39 b(\(poa,)44 b(ref,)g(ev\);)640
4363 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)640
4527 y(/*)45 b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89
b(__fini)43 b(destructor)h(*/)685 4610 y Fi
(PortableServer_POA_deactivate_object)39 b(\(poa,)44
b(objid,)g(ev\);)640 4692 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)685 4856 y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g
(FALSE,)f(ev\);)640 4938 y Fk(if)i(\(etk_raised_exception\(ev\)\))40
b(return;)640 5103 y(CORBA_free)j(\(objid\);)999 5267
y Fi(CORBA_Object_release)e(\(\(CORBA_Object\))i(poa,)h(ev\);)640
5349 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)p
Black 3601 5585 a Fp(31)p Black eop
%%Page: 32 36
32 35 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 999 89 a Fi
(CORBA_Object_release)41 b(\(ref,)j(ev\);)640 171 y Fk(if)h
(\(etk_raised_exception\(ev\)\))40 b(return;)954 336
y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954 418
y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 500 y({)1313
582 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 664
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 747 y Fk(if)k
(\(etk_raised_exception\(ev\)\))40 b(return;)954 829
y(})596 911 y(})596 1075 y(/*)k(Creates)g(servant)f(and)i(registers)e
(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
1158 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 1240 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
1322 y(*)i(on)g(return.)640 1404 y(*/)596 1486 y(static)e(CORBA_Object)
596 1569 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 1651 y(PortableServer_POA)86 b(poa,)775 1733
y(CORBA_Environment)h(*ev\))596 1815 y({)640 1897 y(Calculator)h(ref)45
b(=)f(CORBA_OBJECT_NIL;)685 2062 y Fi(ref)h(=)f
(impl_Calculator__create)d(\(poa,)j(ev\);)640 2144 y
Fk(if)h(\(etk_raised_exception\(ev\)\))685 2226 y(return)f
(CORBA_OBJECT_NIL;)640 2390 y(return)g(ref;)596 2473
y(})596 2637 y(/*)640 2719 y(*)h(main)640 2801 y(*/)596
2966 y(int)596 3048 y(main)f(\(int)g(argc,)g(char)g(*argv[]\))596
3130 y({)640 3212 y(CORBA_Object)f(servant)h(=)g(CORBA_OBJECT_NIL;)640
3377 y(CORBA_char)f(filename[])h(=)g("calculator.ref";)640
3541 y(CORBA_Environment)87 b(ev[1];)640 3623 y
(CORBA_exception_init\(ev\);)685 3788 y Fi(server_init)43
b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g(ev\);)640
3870 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i(init"\);)685
4034 y Fi(servant)f(=)g(server_activate_service)d(\(global_orb,)i
(root_poa,)h(ev\);)640 4116 y Fk(etk_abort_if_exception\(ev,)d("failed)
i(activating)h(service"\);)640 4281 y(g_print)g(\("Writing)f(service)h
(reference)f(to:)i(\045s\\n\\n",)e(filename\);)685 4445
y Fi(etk_export_object_to_file)e(\(global_orb,)909 4527
y(servant,)909 4610 y(filename,)909 4692 y(ev\);)640
4774 y Fk(etk_abort_if_exception\(ev,)g("failed)i(exporting)h(IOR"\);)
685 4938 y Fi(server_run)f(\(global_orb,)g(ev\);)640
5021 y Fk(etk_abort_if_exception\(ev,)e("failed)i(entering)h(main)g
(loop"\);)685 5185 y Fi(server_cleanup)f(\(global_orb,)f(root_poa,)i
(servant,)f(ev\);)640 5267 y Fk(etk_abort_if_exception\(ev,)e("failed)i
(cleanup"\);)640 5432 y(exit)i(\(0\);)f(})p Black 197
5585 a Fp(32)p Black eop
%%Page: 33 37
33 36 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 222 a
Fs(I'm)f(not)g(going)h(to)f(explain)f(every)g(line)h(of)g(this)h
(example)e(yet;)g(you)h(only)h(need)e(to)h(know)h(that)f(it)596
313 y(cr)o(eates)d(a)i(servant)f(object)i(whos)g(object-r)o(efer)o
(ence)c(is)k(written)f(to)h(\002le)f("calculator)-6 b(.r)o(ef".)16
b(File-IO)596 405 y(is)28 b(done)g(using)g(speci\002c)g(function)h(fr)o
(om)e("example-toolkit")h(laying)g(beside)g(each)f(example;)596
496 y(the)c(\002le)g(contains)g(a)g(string)g(always)g(starting)g(with)h
(the)f(magic)g(sequence)g("IOR:")g(and)f(is)i(r)o(ead)596
587 y(by)c(client)h(application)f(to)h(get)f(hold)h(of)f(servants)g
(object-r)o(efer)o(ence.)e(The)i(IOR)h(string)g(contains)596
679 y(suf)o(\002cient)g(information)h(to)g(get)g(to)g(know)g(host,)g
(port)g(and)f(object)h(key)g(within)g(server)-6 b(.)21
b(ORBit2)596 770 y(pr)o(ovides)f(tools)h(to)h(decode)d(the)i(IOR)h
(string,)f(namely)g Fq(ior)o(-decode-2)p Fs(.)596 1161
y Fl(Compiling)k(ser)q(ver)f(&)h(c)n(lient)596 1298 y
Fs(The)31 b(following)h(make\002le)f(can)g(be)g(used)g(to)g(compile)h
(both,)f(the)g(client)h(and)e(the)i(server)-6 b(.)29
b(Be)596 1389 y(awar)o(e)24 b(of)i(the)h(location)g(of)f(ORBit)h(:)f
(on)h(my)f(system)h(it)g(has)f(been)g(installed)g(under)g(/usr)h(but)
596 1481 y(it)g(could)g(be)g(/usr/local)g(if)g(you)h(have)e(built)i(it)
f(fr)o(om)g(the)g(sour)o(ces,)f(and)h(hence)g(the)g(path)g(for)596
1572 y(ORBIT)17 b(variables)e(below)i(may)g(vary)-9 b(.)16
b(If)g(using)i(ORBit)f(binary)g(packages)f(shipped)g(with)i(Linux)596
1663 y(or)i(BSD/Unix)h(the)g(simple)g(make\002le)g(below)g(will)g(do.)
596 1883 y Fq(Example)d(5-14.)g(make\002le)596 2048 y
Fk(PREFIX)43 b(?=)i(/usr)596 2131 y(CC)f(=)h(gcc)596
2213 y(TARGETS=calculator-client)40 b(calculator-server)596
2295 y(ORBIT_IDL=orbit-idl-2)596 2377 y(CFLAGS=-DORBIT2=1)h
(-D_REENTRANT)i(-I$\(PREFIX\)/include/orbit-2.0)d(\\)909
2459 y(-I$\(PREFIX\)/include/linc-1.0)g(-I$\(PREFIX\)/include/glib-2.0)
h(\\)909 2542 y(-I$\(PREFIX\)/lib/glib-2.0/include)596
2624 y(LDFLAGS=)i(-Wl,--export-dynamic)e(-L$\(PREFIX\)/lib)i(-lORBit-2)
g(-llinc)h(-lgmodule-2.0)f(\\)1178 2706 y(-ldl)h(-lgobject-2.0)f
(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g(-lm)596 2788
y(IDLOUT=calculator-common.c)d(calculator-stubs.c)i(calculator-skels.c)
g(calculator.h)596 2953 y(all:)i($\(IDLOUT\))f(calculator-client)f
(calculator-server)596 3117 y(calculator-server.o)f(:)k
(calculator-server.c)c(calculator-skelimpl.c)596 3281
y(calculator-client)g(:)k(calculator-client.o)d(calculator-common.o)f
(calculator-stubs.o)596 3363 y(calculator-server)g(:)k
(calculator-server.o)d(calculator-common.o)f(calculator-skels.o)596
3528 y($\(IDLOUT\):)i(calculator.idl)954 3610 y($\(ORBIT_IDL\))g
(calculator.idl)596 3774 y(clean:)954 3857 y(rm)i(-rf)f(*.o)g(*~)h
($\(IDLOUT\))596 4021 y(distclean:)e(clean)954 4103 y(rm)i(-rf)f
(calculator-client)e(calculator-server)596 4410 y Fs(After)33
b(calling)i Fq(make)e Fs(in)h(terminal)h(window)g(all)g(sour)o(ces)f
(have)g(been)g(compiled)g(and)g(you)596 4502 y(should)23
b(open)h(a)e(second)h(terminal)g(window)-8 b(.)25 b(In)e(the)g(\002rst)
g(window)h(we)f(will)h(start)f(the)g(server)596 4593
y(with)d(the)g(command:)g Fq(calculator)o(-server)c(>)k(calculator)-5
b(.ref)p Fs(.)18 b(The)i(server)f(should)h(print)g(a)f(very)596
4684 y(long)g(string)h(into)g(the)f(\002le)g Fk(calculator.ref)p
Fs(,)d(starting)k(with)f(the)h(4)e(character)f(sequence)j
Fk(IOR:)596 4776 y Fs(In)29 b(the)h(second)g(window)h(we)f(start)f(the)
h(client)g(with)g(the)g(command)g Fq(calculator)o(-client)25
b(`cat)596 4867 y(calculator)-5 b(.ref`)19 b(IOR-string)p
Fs(.)i(Y)-8 b(ou)22 b(should)h(not)f(try)f(to)h(type)f(the)h(IOR)g
(string,)g(instead)f(use)h(the)596 4958 y(cut)e(and)h(paste)f
(functionality)h(of)g(your)g(xterm)g(or)g(whatever)f(you)h(ar)o(e)e
(using.)596 5091 y(If)f(everything)i(works,)g(you)g(should)g(get)f(the)
g(following)i(output:)f Fk(Result:)43 b(1.0)i(+)f(2.0)h(=)f(3)p
Fs(.)p Black 3601 5585 a Fp(33)p Black eop
%%Page: 34 38
34 37 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 197 89 a Fo(Account)29
b(c)n(lient)f(&)g(ser)q(ver)596 231 y Fs(In)22 b(this)g(thir)o(d)g
(simple)g(example,)f(we)h(will)g(see)g(how)h(we)e(can)h(set)g(up)g(a)f
(client)h(that)g(can)g(modify)596 322 y(the)17 b(value)f(of)h(a)g
(variable)f(stor)o(ed)h(on)g(the)h(server)-6 b(.)16 b(It)h(is)g
(basically)g(the)g(way)g(an)g(account)h(manager)596 413
y(works.)23 b(The)g(stor)o(ed)g(variable)f(her)o(e)g(is)i(balance.)e
(The)h(idl)g(de\002nition)h(\()p Fk(account.idl)p Fs(\))d(for)i(our)596
505 y(account)d(is)h(:)596 729 y Fq(Example)d(5-15.)g(account.idl)730
894 y Fk(interface)43 b(Account)h({)865 977 y(void)g(deposit)f(\(in)i
(unsigned)e(long)h(amount\);)865 1059 y(void)g(withdraw)f(\(in)h
(unsigned)g(long)g(amount\);)865 1141 y(readonly)f(attribute)g(long)h
(balance;)730 1223 y(};)596 1398 y Fs(Then)24 b(you)h(have)f(to)g
(generate)g(the)g(skeleton)h(and)f(stub)g(\002les.)h(In)f(addition)h
(to)f(these)h(two)g(\002les)596 1489 y(the)19 b(ORBit)i(IDL)e(compiler)
h(also)g(generates)f(a)g(common)i(\002le)f(and)g(a)f(header)f(\002le.)i
(The)f(common)596 1580 y(\002le)26 b(implements)i(the)f(memory)g
(management)g(functions)g(and)g(other)f(things,)i(useful)f(in)g(the)596
1671 y(client)g(as)h(well)g(as)f(in)h(the)g(server)-6
b(.)26 b(The)i(sequence)g(to)g(generate)e(the)i(C)g(sour)o(ce)f
(\002les)h(is)g(rather)596 1763 y(simple.)21 b Fk($)44
b Fi(orbit-idl-2)f(--skeleton-impl)f(account.idl)64 b
Fs(geenrates)20 b(all)h(the)g(\002les)g(we)596 1854 y(will)g(use)g(in)g
(this)h(example.)p 596 2047 3102 4 v 596 2047 V 596 2175
4 128 v 600 2150 a Ft(File)p 1628 2175 V 1063 w(Usa)o(g)q(e)h(f)n(or)g
(Client)p 2661 2175 V 384 w(Usa)o(g)q(e)g(f)n(or)g(Ser)q(ver)p
3694 2175 V 596 2178 3102 4 v 596 2178 V 596 2306 4 128
v 600 2281 a Fs(account.h)p 1628 2306 V 1005 w(r)o(eadonly)p
2661 2306 V 705 w(r)o(eadonly)p 3694 2306 V 596 2309
3102 4 v 596 2309 V 596 2437 4 128 v 600 2412 a(account-common.c)p
1628 2437 V 667 w(r)o(eadonly)p 2661 2437 V 705 w(r)o(eadonly)p
3694 2437 V 596 2440 3102 4 v 596 2440 V 596 2568 4 128
v 600 2543 a(account-stubs.c)p 1628 2568 V 795 w(r)o(eadonly)p
2661 2568 V 855 w(-)p 3694 2568 V 596 2571 3102 4 v 596
2571 V 596 2699 4 128 v 600 2674 a(account-skels.c)p
1628 2699 V 958 w(-)p 2661 2699 V 855 w(r)o(eadonly)p
3694 2699 V 596 2702 3102 4 v 596 2702 V 596 2830 4 128
v 600 2805 a(account-skelimpl.c)p 1628 2830 V 822 w(-)p
2661 2830 V 608 w(template)d(for)h(user)f(code)p 3694
2830 V 596 2833 3102 4 v 596 2833 V 596 2982 a(Files)k(r)o(emaining)f
(to)h(write)g(ar)o(e)e(listed)i(in)g(following)h(table,)e(starting)h
(with)g Fp(account-client.c)e Fs(in)596 3074 y(following)g(chapter)-6
b(.)p 596 3266 3099 4 v 596 3266 V 596 3394 4 128 v 600
3369 a(account-client.c)p 2143 3394 V 974 w(write)21
b(the)g(client)g(code)p 3691 3394 V 596 3398 3099 4 v
596 3398 V 596 3617 4 220 v 600 3500 a(account-server)-6
b(.c)p 2143 3617 V 952 w(write)21 b(the)g(generic)g(code)f(for)h
(servant)2146 3592 y(cr)o(eation)p 3691 3617 V 596 3620
3099 4 v 596 3620 V 596 4046 a Fl(Account)j(c)n(lient)596
4183 y Fs(Ther)o(e)h(is)i(no)g(dif)o(\002culty)e(in)i(setting)g(the)g
(client)f(\(at)g(least)g(no)h(mor)o(e)f(than)g(in)h(the)g(pr)o(evious)f
(ex-)596 4274 y(amples\).)20 b(Only)h(one)g(thing)h(has)f(been)g(added)
e(:)i(we)f(test)h(for)g(the)g(availabilty)f(of)h(the)g(server)f(\()p
Fk(if)596 4366 y(\(!acc_client\))63 b Fs(...\))20 b(befor)o(e)f
(invoking)j(calls)f(to)g(the)g(server)-6 b(.)596 4623
y Fq(Example)18 b(5-16.)g(account-client.c)596 4788 y
Fk(/*)44 b(account-client.c)e(hacked)i(by)g(Frank)g(Rehberger)640
4871 y(*)h(<F.Rehberger@xtradyne.de>.)85 b(*/)596 5035
y(#include)43 b(<assert.h>)596 5117 y(#include)g(<signal.h>)596
5199 y(#include)g(<stdio.h>)596 5282 y(#include)g(<orbit/orbit.h>)596
5446 y(#include)g("account.h")p Black 197 5585 a Fp(34)p
Black eop
%%Page: 35 39
35 38 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 171 a
Fk(#include)43 b("examples-toolkit.h")e(/*)k(ie.)f
(etk_abort_if_exception\(\))d(*/)596 336 y(static)i(CORBA_ORB)88
b(global_orb)44 b(=)g(CORBA_OBJECT_NIL;)e(/*)j(global)f(orb)g(*/)596
500 y(/*)g(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 582 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
664 y(*/)596 747 y(static)596 829 y(void)596 911 y(client_shutdown)d
(\(int)i(sig\))596 993 y({)954 1075 y(CORBA_Environment)87
b(local_ev[1];)954 1158 y(CORBA_exception_init\(local_ev\);)954
1322 y(if)45 b(\(global_orb)e(!=)h(CORBA_OBJECT_NIL\))954
1404 y({)1358 1486 y Fi(CORBA_ORB_shutdown)d(\(global_orb,)i(FALSE,)h
(local_ev\);)1313 1569 y Fk(etk_abort_if_exception)d(\(local_ev,)i
("caught)h(exception"\);)954 1651 y(})596 1733 y(})596
1979 y(/*)g(Inits)g(ORB)g(@orb)g(using)g(@argv)g(arguments)g(for)g
(configuration.)f(For)h(each)640 2062 y(*)h(ORBit)f(options)g(consumed)
f(from)h(vector)g(@argv)g(the)g(counter)g(of)h(@argc_ptr)640
2144 y(*)g(will)f(be)h(decremented.)d(Signal)i(handler)g(is)g(set)h(to)
f(call)640 2226 y(*)h(echo_client_shutdown)c(function)j(in)g(case)h(of)
f(SIGINT)g(and)g(SIGTERM)640 2308 y(*)h(signals.)88 b(If)45
b(error)f(occures)f(@ev)i(points)f(to)g(exception)f(object)h(on)640
2390 y(*)h(return.)640 2473 y(*/)596 2555 y(static)596
2637 y(void)596 2719 y(client_init)d(\(int)672 b(*argc_ptr,)865
2801 y(char)626 b(*argv[],)1178 2884 y(CORBA_ORB)402
b(*orb,)1178 2966 y(CORBA_Environment)42 b(*ev\))596
3048 y({)954 3130 y(/*)j(init)f(signal)g(handling)f(*/)954
3295 y(signal\(SIGINT,)87 b(client_shutdown\);)954 3377
y(signal\(SIGTERM,)42 b(client_shutdown\);)954 3541 y(/*)j(create)e
(Object)h(Request)g(Broker)g(\(ORB\))g(*/)999 3706 y
Fi(\(*orb\))g(=)g(CORBA_ORB_init\(argc_ptr,)d(argv,)j
("orbit-local-orb",)e(ev\);)954 3788 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)596 3870
y(})596 4034 y(/*)k(Releases)f(@servant)h(object)g(and)g(finally)g
(destroys)f(@orb.)h(If)h(error)640 4116 y(*)g(occures)f(@ev)g(points)g
(to)g(exception)g(object)f(on)i(return.)640 4199 y(*/)596
4281 y(static)596 4363 y(void)596 4445 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 4527 y(CORBA_Object)625 b(service,)1313
4610 y(CORBA_Environment)356 b(*ev\))596 4692 y({)954
4774 y(/*)45 b(releasing)e(managed)h(object)f(*/)999
4856 y Fi(CORBA_Object_release\(service,)d(ev\);)954
4938 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))40 b(return;)954
5103 y(/*)45 b(tear)f(down)g(the)g(ORB)h(*/)954 5185
y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 5267 y({)1313
5349 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 5432
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)p Black 3601 5585
a Fp(35)p Black eop
%%Page: 36 40
36 39 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 1313 89 a
Fk(if)44 b(\(etk_raised_exception\(ev\)\))d(return;)954
171 y(})596 253 y(})596 418 y(/**)640 500 y(*)640 582
y(*/)596 664 y(static)596 747 y(void)596 829 y(client_run)i(\(Account)
536 b(service,)820 911 y(CORBA_long)401 b(amount,)820
993 y(CORBA_Environment)42 b(*ev\))596 1075 y({)640 1158
y(CORBA_long)h(balance=0;)640 1322 y(/*)999 1404 y(*)i(use)f
(calculator)f(server)999 1486 y(*/)999 1651 y Fi(balance)h(=)g
(Account__get_balance)e(\(service,)h(ev\);)640 1733 y
Fk(if)i(\(etk_raised_exception)c(\(ev\)\))j(return;)954
1897 y(g_print)g(\("balance)f(\0455d,)h(",)h(balance\);)954
2062 y(if)g(\(amount)e(>)i(0\))954 2144 y({)1358 2226
y Fi(Account_deposit)d(\(service,)h(amount,)h(ev\);)1313
2308 y Fk(if)g(\(etk_raised_exception)e(\(ev\)\))i(return;)954
2390 y(})954 2473 y(else)954 2555 y({)1358 2637 y Fi(Account_withdraw)e
(\(service,)h(abs\(amount\),)g(ev\);)1313 2719 y Fk(if)h
(\(etk_raised_exception)e(\(ev\)\))i(return;)954 2801
y(})999 2966 y Fi(balance)g(=)g(Account__get_balance)e(\(service,)h
(ev\);)640 3048 y Fk(if)i(\(etk_raised_exception)c(\(ev\)\))j(return;)
954 3212 y(g_print)g(\("new)g(balance)f(\0455d\\n",)h(balance\);)596
3295 y(})596 3459 y(/*)640 3541 y(*)h(main)640 3623 y(*/)596
3706 y(int)596 3788 y(main\(int)e(argc,)h(char*)g(argv[]\))596
3952 y({)954 4034 y(CORBA_char)357 b(filename[])43 b(=)i
("account.ref";)954 4116 y(CORBA_long)357 b(amount=0;)640
4281 y(Account)44 b(service)g(=)g(CORBA_OBJECT_NIL;)954
4445 y(CORBA_Environment)e(ev[1];)954 4527 y
(CORBA_exception_init\(ev\);)685 4692 y Fi(client_init)h(\(&argc,)h
(argv,)g(&global_orb,)f(ev\);)640 4774 y Fk
(etk_abort_if_exception\(ev,)e("init)j(failed"\);)954
4938 y(if)h(\(argc<2\))e(g_error)h(\("usage:)f(\045s)i(<amount>",)e
(argv[0]\);)954 5103 y(amount)89 b(=)44 b(atoi\(argv[1]\);)640
5267 y(g_print)g(\("Reading)f(service)h(reference)f(from)h(file)h
(\\"\045s\\"\\n",)e(filename\);)685 5432 y Fi(service)h(=)g
(\(Account\))g(etk_import_object_from_file)c(\(global_orb,)p
Black 197 5585 a Fp(36)p Black eop
%%Page: 37 41
37 40 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 954 89 a Fi(filename,)954
171 y(ev\);)954 253 y Fk(etk_abort_if_exception\(ev,)41
b("import)i(service)h(failed"\);)685 418 y Fi(client_run)f(\(service,)h
(amount,)f(ev\);)954 500 y Fk(etk_abort_if_exception\(ev,)e("service)i
(not)h(reachable"\);)685 664 y Fi(client_cleanup)f(\(global_orb,)f
(service,)i(ev\);)954 747 y Fk(etk_abort_if_exception\(ev,)d("cleanup)i
(failed"\);)954 911 y(exit)h(\(0\);)596 993 y(})596 1640
y Fl(Account)24 b(ser)q(ver)596 1877 y Ft(Account)e(ser)q(ver)i
(Skeleton)f(Implementation)596 2009 y Fs(For)45 b(the)h(server)-6
b(,)45 b(like)h(in)g(the)g(pr)o(evious)f(example,)f(we)i(\002rst)g
(generate)f(the)h(sour)o(ce)f(\002le)596 2101 y Fk(account-skelimpl.c)
30 b Fs(that)k(will)g(r)o(eceive)e(the)i(implementation)g(code)f(for)h
(the)f(methods.)596 2192 y(This)21 b(is)g(done)g(once)g(again)f(with)i
Fh(orbit-idl-2)48 b(--skeleton-impl)f(account.idl)p Fs(.)596
2325 y(Now)-8 b(,)24 b(let)g(us)h(edit)e Fk(account-skelimpl.c)p
Fs(.)e(W)-8 b(e)24 b(sear)o(ch)f(for)h(the)g(the)h Fk(balance)e
Fs(attribute)g(that)596 2416 y(was)g(declar)o(ed)e(in)j(the)f(IDL)g
(\002le.)h(At)f(the)g(beginning)i(of)e(the)g(\002le,)h(we)f(can)g(spot)
h(the)f(way)g(it)h(has)596 2508 y(been)c(translated)g(into)i(C)e(by)h
(the)g(idl)g(compiler:)596 2723 y Fq(Example)d(5-17.)39
b(account-skelimpl.c)16 b(fragment)k(-)g(object)g(declaration)596
2889 y Fk(typedef)43 b(struct)596 2971 y({)730 3053 y(POA_Account)g
(servant;)730 3135 y(PortableServer_POA)f(poa;)730 3300
y(CORBA_long)h(attr_balance;)730 3464 y(/*)i(------)e(add)i(private)e
(attributes)g(here)i(------)e(*/)730 3546 y Fi(CORBA_long)g
(attr_balance;)730 3628 y Fk(/*)i(------)e(----------)g(end)i
(------------)e(------)g(*/)596 3711 y(})596 3793 y(impl_POA_Account;)
596 3967 y Fs(So,)25 b(the)h(server)g(methods)g(\(withdraw)g(and)g
(deposit\))f(will)i(have)f(to)g(manage)g(the)g(balance)f(of)596
4058 y(the)e(account)h(thr)o(ough)g(the)f Fk(servant->attr_balance)d
Fs(\(the)j(servant)g(variable)g(is)g(passed)g(as)596
4150 y(parameter)c(to)i(each)f(method\).)596 4283 y(Now)-8
b(,)39 b(let)f(us)h(get)g(to)g(the)f(end)h(of)f(the)h(\002le)g(and)f
(\002nd)h(the)f(methods)i(stubs.)e(W)-8 b(e)39 b(\002nd)g(the)596
4374 y Fk(impl_Account_*)26 b Fs(functions,)j(to)g(which)g(we)g(add)e
(the)i(implementation)h(code.)e(This)h(could)596 4465
y(be:)596 4681 y Fq(Example)18 b(5-18.)39 b(account-skelimpl.c)16
b(fragment)k(-)g(method)g(de\002nition)596 4846 y Fk(static)43
b(void)596 4928 y(impl_Account_deposit\(impl_POA_Accoun)o(t)c(*)45
b(servant,)909 5011 y(const)f(CORBA_unsigned_long)e(amount,)i
(CORBA_Environment)e(*)i(ev\))596 5093 y({)730 5175 y(/*)h(------)133
b(insert)44 b(method)g(code)g(here)134 b(------)43 b(*/)730
5257 y Fi(servant->attr_balance)e(+=)k(amount;)730 5339
y Fk(/*)g(------)e(----------)g(end)i(------------)e(------)g(*/)596
5422 y(})p Black 3601 5585 a Fp(37)p Black eop
%%Page: 38 42
38 41 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 171 a
Fk(static)43 b(void)596 253 y(impl_Account_withdraw\(impl_POA_Accou)o
(nt)c(*)45 b(servant,)954 336 y(const)f(CORBA_unsigned_long)e(amount,)
954 418 y(CORBA_Environment)g(*)j(ev\))596 500 y({)730
582 y(/*)g(------)133 b(insert)44 b(method)g(code)g(here)134
b(------)43 b(*/)730 664 y Fi(servant->attr_balance)e(-=)k(amount;)730
747 y Fk(/*)g(------)e(----------)g(end)i(------------)e(------)g(*/)
596 829 y(})596 993 y(static)g(CORBA_long)596 1075 y
(impl_Account__get_balance\(impl_POA_A)o(ccount)38 b(*)45
b(servant,)e(CORBA_Environment)f(*)j(ev\))596 1158 y({)730
1240 y(CORBA_long)e(retval;)730 1404 y(/*)i(------)133
b(insert)44 b(method)g(code)g(here)134 b(------)43 b(*/)730
1486 y Fi(retval)h(=)g(servant->attr_balance;)730 1569
y Fk(/*)h(------)e(----------)g(end)i(------------)e(------)g(*/)730
1733 y(return)h(retval;)596 1815 y(})596 1989 y Fs(The)30
b(missing)i(key)e(stone)i(is)e(the)h(constr)o(uctor)g(that)g
(establishs)g(initial,)f(consistent)i(state)e(for)596
2081 y(object)21 b(on)g(cr)o(eation.)596 2297 y Fq(Example)d(5-19.)39
b(account-skelimpl.c)16 b(fragment)k(-)g(constructor)596
2462 y Fk(...)596 2544 y(static)43 b(Account)596 2626
y(impl_Account__create\(PortableServer_)o(POA)c(poa,)44
b(CORBA_Environment)e(*)j(ev\))596 2708 y({)730 2791
y(Account)f(retval;)730 2873 y(impl_POA_Account)e(*newservant;)730
2955 y(PortableServer_ObjectId)f(*objid;)730 3119 y(newservant)i(=)i
(g_new0\(impl_POA_Account,)c(1\);)730 3202 y(newservant->servant.vepv)g
(=)j(&impl_Account_vepv;)730 3284 y(newservant->poa)e(=)865
3366 y(\(PortableServer_POA\))f
(CORBA_Object_duplicate\(\(CORBA_Object\))e(poa,)44 b(ev\);)730
3448 y(POA_Account__init\(\(PortableServer_Serva)o(nt\))39
b(newservant,)k(ev\);)730 3530 y(/*)i(Before)e(servant)h(is)g(going)g
(to)h(be)f(activated)g(all)775 3613 y(*)h(private)e(attributes)g(must)h
(be)h(initialized.)88 b(*/)730 3777 y(/*)45 b(------)e(init)h(private)g
(attributes)f(here)h(------)g(*/)730 3859 y Fi
(newservant->attr_balance)d(=)j(0;)730 3941 y Fk(/*)h(------)e
(----------)g(end)i(-------------)d(------)i(*/)730 4106
y(objid)g(=)h(PortableServer_POA_activate_object\(po)o(a,)39
b(newservant,)k(ev\);)730 4188 y(CORBA_free\(objid\);)730
4270 y(retval)h(=)g(PortableServer_POA_servant_to_reference\(po)o(a,)39
b(newservant,)k(ev\);)730 4434 y(return)h(retval;)596
4517 y(})596 4599 y(..)596 4939 y Ft(Account)22 b(ser)q(ver)i
(implementation)596 5072 y Fs(Lastly)-9 b(,)41 b(we)h(have)f(to)i
(write)f(a)f(rather)h(generic)g(code)f(to)i(set)f(up)g(the)g(server)-6
b(.)41 b(W)-8 b(e)42 b(call)g(it)596 5163 y Fk(account-server.c)p
Fs(.)f(It)j(is)h(r)o(oughly)g(the)f(same)g(code)g(as)g(in)h(the)f
(calculator)g(and)g(echo)596 5255 y(examples.)34 b(The)h(code)g(just)h
(initializes)f(the)g(ORB)h(and)f(publishes)h(an)f(IOR)g(for)g(the)h
(server)596 5346 y(object.)p Black 197 5585 a Fp(38)p
Black eop
%%Page: 39 43
39 42 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fq(Example)d(5-20.)
39 b(account-server)-5 b(.c)596 254 y Fk(/*)640 336 y(*)45
b(account-server)d(program.)i(Hacked)g(from)g(Frank)g(Rehberger)640
419 y(*)h(<F.Rehberger@xtradyne.de>.)640 501 y(*/)596
665 y(#include)e(<stdio.h>)596 747 y(#include)g(<stdlib.h>)596
830 y(#include)g(<string.h>)596 912 y(#include)g(<signal.h>)596
994 y(#include)g(<orbit/orbit.h>)596 1158 y(#include)g("account.h")596
1241 y(#include)g("account-skelimpl.c")596 1405 y(#include)g
("examples-toolkit.h")e(/*)k(provides)e(etk_abort_if_exception)f(*/)596
1569 y(static)h(CORBA_ORB)447 b(global_orb)43 b(=)i(CORBA_OBJECT_NIL;)d
(/*)i(global)g(orb)h(*/)596 1652 y(static)e(PortableServer_POA)f
(root_poa)133 b(=)45 b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596
1816 y(/*)f(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 1898 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
1980 y(*/)596 2063 y(static)596 2145 y(void)596 2227
y(server_shutdown)d(\(int)i(sig\))596 2309 y({)640 2391
y(CORBA_Environment)87 b(local_ev[1];)640 2473 y
(CORBA_exception_init\(local_ev\);)954 2638 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 2720 y({)1358 2802 y Fi
(CORBA_ORB_shutdown)d(\(global_orb,)i(FALSE,)h(local_ev\);)1313
2884 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 2967 y(})596 3049 y(})596 3213 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 3295 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 3378 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
3460 y(*)h(echo_server_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)640 3542 y(*)h(signals.)88 b(If)45 b(error)f(occures)f
(@ev)i(points)f(to)g(exception)f(object)h(on)640 3624
y(*)h(return.)640 3706 y(*/static)596 3789 y(void)596
3871 y(server_init)d(\(int)762 b(*argc_ptr,)865 3953
y(char)716 b(*argv[],)865 4035 y(CORBA_ORB)491 b(*orb,)865
4117 y(PortableServer_POA)86 b(*poa,)865 4199 y(CORBA_Environment)131
b(*ev\))596 4282 y({)640 4364 y(PortableServer_POAManager)86
b(poa_manager)43 b(=)h(CORBA_OBJECT_NIL;)640 4528 y(CORBA_Environment)
87 b(local_ev[1];)640 4610 y(CORBA_exception_init\(local_ev\);)640
4775 y(/*)45 b(init)f(signal)g(handling)f(*/)640 4857
y(signal\(SIGINT,)88 b(server_shutdown\);)640 4939 y(signal\(SIGTERM,)
43 b(server_shutdown\);)640 5104 y(/*)i(create)f(Object)f(Request)h
(Broker)g(\(ORB\))g(*/)999 5268 y Fi(\(*orb\))g(=)g
(CORBA_ORB_init\(argc_ptr,)d(argv,)j("orbit-local-orb",)e(ev\);)640
5350 y Fk(if)j(\(etk_raised_exception\(ev\)\))685 5432
y(goto)f(failed_orb;)p Black 3601 5585 a Fp(39)p Black
eop
%%Page: 40 44
40 43 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 999 171 a
Fi(\(*poa\))44 b(=)g(\(PortableServer_POA\))685 253 y
(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)640 336 y Fk(if)i(\(etk_raised_exception\(ev\)\))685
418 y(goto)f(failed_poa;)999 582 y Fi(poa_manager)f(=)i
(PortableServer_POA__get_the_POAManage)o(r\(*poa)o(,)39
b(ev\);)640 664 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
747 y(goto)f(failed_poamanager;)685 911 y Fi
(PortableServer_POAManager_activate\(poa_m)o(anager)o(,)39
b(ev\);)640 993 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1075 y(goto)f(failed_activation;)999 1240 y Fi(CORBA_Object_release)d
(\(\(CORBA_Object\))i(poa_manager,)g(ev\);)640 1322 y
Fk(return;)640 1486 y(failed_activation:)640 1569 y(failed_poamanager:)
954 1651 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 1733 y(failed_poa:)640 1815 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 1897 y(failed_orb:)640
1979 y(return;)596 2062 y(})596 2226 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
2308 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 2390 y(*)h(return.)640 2473
y(*/)596 2555 y(static)e(void)596 2637 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 2719 y(CORBA_Environment)42 b(*ev\))596 2801
y({)954 2884 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)999 3048 y Fi(CORBA_ORB_run\(orb,)e(ev\);)640
3130 y Fk(if)j(\(etk_raised_exception\(ev\)\))40 b(return;)954
3295 y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f
(signal)g(handler)685 3377 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h
(called)e(*/)596 3459 y(})596 3623 y(/*)h(Releases)f(@servant)h(object)
g(and)g(finally)g(destroys)f(@orb.)h(If)h(error)640 3706
y(*)g(occures)f(@ev)g(points)g(to)g(exception)g(object)f(on)i(return.)
640 3788 y(*/)596 3870 y(static)e(void)596 3952 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 4034 y(PortableServer_POA)87
b(poa,)685 4116 y(CORBA_Object)357 b(ref,)685 4199 y(CORBA_Environment)
87 b(*ev\))596 4281 y({)640 4363 y(PortableServer_ObjectId)131
b(*objid)313 b(=)44 b(NULL;)685 4527 y Fi(objid)g(=)h
(PortableServer_POA_reference_to_id)39 b(\(poa,)44 b(ref,)g(ev\);)640
4610 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)640
4774 y(/*)45 b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89
b(__fini)43 b(destructor)h(*/)685 4856 y Fi
(PortableServer_POA_deactivate_object)39 b(\(poa,)44
b(objid,)g(ev\);)640 4938 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)685 5103 y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g
(FALSE,)f(ev\);)640 5185 y Fk(if)i(\(etk_raised_exception\(ev\)\))40
b(return;)640 5349 y(CORBA_free)j(\(objid\);)p Black
197 5585 a Fp(40)p Black eop
%%Page: 41 45
41 44 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 999 89 a Fi
(CORBA_Object_release)41 b(\(\(CORBA_Object\))i(poa,)h(ev\);)640
171 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)999
336 y Fi(CORBA_Object_release)h(\(ref,)j(ev\);)640 418
y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
582 y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954
664 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 747 y({)1313
829 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 911
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 993 y Fk(if)k
(\(etk_raised_exception\(ev\)\))40 b(return;)954 1075
y(})596 1158 y(})596 1322 y(/*)k(Creates)g(servant)f(and)i(registers)e
(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
1404 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 1486 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
1569 y(*)i(on)g(return.)640 1651 y(*/)596 1733 y(static)e(CORBA_Object)
596 1815 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 1897 y(PortableServer_POA)86 b(poa,)775 1979
y(CORBA_Environment)h(*ev\))596 2062 y({)640 2144 y(Account)44
b(ref)g(=)h(CORBA_OBJECT_NIL;)685 2308 y Fi(ref)g(=)f
(impl_Account__create)e(\(poa,)i(ev\);)640 2390 y Fk(if)h
(\(etk_raised_exception\(ev\)\))685 2473 y(return)f(CORBA_OBJECT_NIL;)
640 2637 y(return)g(ref;)596 2719 y(})596 2884 y(/*)640
2966 y(*)h(main)640 3048 y(*/)596 3212 y(int)596 3295
y(main)f(\(int)g(argc,)g(char)g(*argv[]\))596 3377 y({)640
3459 y(CORBA_Object)f(servant)h(=)g(CORBA_OBJECT_NIL;)640
3623 y(CORBA_char)f(filename[])h(=)g("account.ref";)640
3788 y(CORBA_Environment)87 b(ev[1];)640 3870 y
(CORBA_exception_init\(ev\);)685 4034 y Fi(server_init)43
b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g(ev\);)640
4116 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i(init"\);)685
4281 y Fi(servant)f(=)g(server_activate_service)d(\(global_orb,)i
(root_poa,)h(ev\);)640 4363 y Fk(etk_abort_if_exception\(ev,)d("failed)
i(activating)h(service"\);)640 4527 y(g_print)g(\("Writing)f(service)h
(reference)f(to:)i(\045s\\n\\n",)e(filename\);)685 4692
y Fi(etk_export_object_to_file)e(\(global_orb,)909 4774
y(servant,)909 4856 y(filename,)909 4938 y(ev\);)640
5021 y Fk(etk_abort_if_exception\(ev,)g("failed)i(exporting)h(IOR"\);)
685 5185 y Fi(server_run)f(\(global_orb,)g(ev\);)640
5267 y Fk(etk_abort_if_exception\(ev,)e("failed)i(entering)h(main)g
(loop"\);)685 5432 y Fi(server_cleanup)f(\(global_orb,)f(root_poa,)i
(servant,)f(ev\);)p Black 3601 5585 a Fp(41)p Black eop
%%Page: 42 46
42 45 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk
(etk_abort_if_exception\(ev,)41 b("failed)i(cleanup"\);)640
253 y(exit)i(\(0\);)596 336 y(})596 1015 y Fl(Compiling)25
b(ser)q(ver)f(&)h(c)n(lient)596 1152 y Fs(The)16 b(Make\002le)f(is)h
(the)g(r)o(oughly)h(the)f(same)g(as)f(the)i(one)f(in)g(the)h
(Calculator)e(example.)g(By)h(now)h(the)596 1243 y(schema)23
b(should)g(be)g(clear)f(and)h(you)h(should)g(be)e(able)h(to)g(r)o(euse)
g(this)g(Make\002le)g(for)g(numer)o(ous)596 1334 y(small)e(pr)o
(ojects.)596 1554 y Fq(Example)d(5-21.)g(Make\002le)h(for)i(the)f
(Account)f(example)596 1720 y Fk(PREFIX)43 b(?=)i(/usr)596
1802 y(CC)f(=)h(gcc)596 1884 y(TARGETS=account-client)c(account-server)
596 1966 y(ORBIT_IDL=orbit-idl-2)596 2048 y(CFLAGS=-DORBIT2=1)g
(-D_REENTRANT)i(-I$\(PREFIX\)/include/orbit-2.0)d(\\)909
2131 y(-I$\(PREFIX\)/include/linc-1.0)g(-I$\(PREFIX\)/include/glib-2.0)
h(\\)909 2213 y(-I$\(PREFIX\)/lib/glib-2.0/include)596
2295 y(LDFLAGS=)i(-Wl,--export-dynamic)e(-L$\(PREFIX\)/lib)i(-lORBit-2)
g(-llinc)h(-lgmodule-2.0)f(\\)1178 2377 y(-ldl)h(-lgobject-2.0)f
(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g(-lm)596 2459
y(IDLOUT=account-common.c)d(account-stubs.c)j(account-skels.c)f
(account.h)596 2624 y(all:)i($\(IDLOUT\))f(account-client)f
(account-server)596 2788 y(account-server.o)g(:)i(account-server.c)e
(account-skelimpl.c)596 2953 y(account-client)g(:)j(account-client.o)d
(account-common.o)g(account-stubs.o)596 3035 y(account-server)g(:)j
(account-server.o)d(account-common.o)g(account-skels.o)596
3199 y($\(IDLOUT\):)h(account.idl)954 3281 y($\(ORBIT_IDL\))g
(account.idl)596 3446 y(clean:)954 3528 y(rm)i(-rf)f(*.o)g(*~)h
($\(IDLOUT\))596 3692 y(distclean:)e(clean)954 3774 y(rm)i(-rf)f
(account-client)e(account-server)197 4350 y Fo(Byte-Sequence)29
b(c)n(lient)f(&)f(ser)q(ver)596 4491 y Fs(In)d(this)i(mor)o(e)e
(advanced)f(example,)h(we)g(will)i(see)e(how)h(we)g(can)f(set)h(up)f(a)
h(client)g(exchanging)596 4583 y(byte)32 b(sequences)g(with)h(server)-6
b(.)31 b(The)i(idl)f(de\002nition)h(\()p Fk(byteseq.idl)p
Fs(\))d(covers)i(in-,)g(out-)g(and)596 4674 y(inout-parameters)19
b(and)i(looks)h(like:)596 4899 y Fq(Example)c(5-22.)g(byteseq.idl)596
5064 y Fk(module)43 b(Examples)h({)954 5228 y(module)g(ByteSeq)g({)1313
5310 y(typedef)f(sequence<octet>)g(Chunk;)1313 5475 y(interface)g
(Storage)h({)p Black 197 5585 a Fp(42)p Black eop
%%Page: 43 47
43 46 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 1671 89 a
Fk(void)89 b(set)45 b(\(in)f(Chunk)g(chunk\);)1671 171
y(Chunk)g(get)h(\(\);)1313 253 y(};)954 336 y(};)596
418 y(};)596 592 y Fs(Then)24 b(you)h(have)f(to)g(generate)g(the)g
(skeleton)h(and)f(stub)g(\002les.)h(In)f(addition)h(to)f(these)h(two)g
(\002les)596 684 y(the)19 b(ORBit)i(IDL)e(compiler)h(also)g(generates)f
(a)g(common)i(\002le)f(and)g(a)f(header)f(\002le.)i(The)f(common)596
775 y(\002le)26 b(implements)i(the)f(memory)g(management)g(functions)g
(and)g(other)f(things,)i(useful)f(in)g(the)596 866 y(client)16
b(as)h(well)g(as)f(in)h(the)g(server)-6 b(.)15 b(The)h(sequence)h(to)g
(generate)f(the)h(C)f(sour)o(ce)g(\002les)h(is)g(rather)f(sim-)596
957 y(ple.)28 b Fk($)p Fi(orbit-idl-2)43 b(--skeleton-impl)g
(byteseq.idl)27 b Fs(geenrates)i(all)g(the)g(\002les)h(we)f(will)596
1049 y(use)20 b(in)i(this)f(example.)p 596 1242 3102
4 v 596 1242 V 596 1369 4 128 v 600 1344 a Ft(File)p
1628 1369 V 1063 w(Usa)o(g)q(e)i(f)n(or)g(Client)p 2661
1369 V 384 w(Usa)o(g)q(e)g(f)n(or)g(Ser)q(ver)p 3694
1369 V 596 1373 3102 4 v 596 1373 V 596 1500 4 128 v
600 1475 a Fs(byteseq.h)p 1628 1500 V 1011 w(r)o(eadonly)p
2661 1500 V 705 w(r)o(eadonly)p 3694 1500 V 596 1504
3102 4 v 596 1504 V 596 1631 4 128 v 600 1606 a(byteseq-common.c)p
1628 1631 V 673 w(r)o(eadonly)p 2661 1631 V 705 w(r)o(eadonly)p
3694 1631 V 596 1635 3102 4 v 596 1635 V 596 1762 4 128
v 600 1737 a(byteseq-stubs.c)p 1628 1762 V 801 w(r)o(eadonly)p
2661 1762 V 855 w(-)p 3694 1762 V 596 1766 3102 4 v 596
1766 V 596 1893 4 128 v 600 1868 a(byteseq-skels.c)p
1628 1893 V 964 w(-)p 2661 1893 V 855 w(r)o(eadonly)p
3694 1893 V 596 1897 3102 4 v 596 1897 V 596 2024 4 128
v 600 1999 a(byteseq-skelimpl.c)p 1628 2024 V 828 w(-)p
2661 2024 V 608 w(template)d(for)h(user)f(code)p 3694
2024 V 596 2028 3102 4 v 596 2028 V 596 2177 a(Files)25
b(r)o(emaining)g(to)h(write)f(ar)o(e)f(listed)h(in)h(following)g
(table,)f(starting)g(with)h Fp(byteseq-client.c)f Fs(in)596
2268 y(following)d(chapter)-6 b(.)p 596 2461 3099 4 v
596 2461 V 596 2589 4 128 v 600 2564 a(byteseq-client.c)p
2143 2589 V 980 w(write)21 b(the)g(client)g(code)p 3691
2589 V 596 2592 3099 4 v 596 2592 V 596 2811 4 220 v
600 2695 a(byteseq-server)-6 b(.c)p 2143 2811 V 958 w(write)21
b(the)g(generic)g(code)f(for)h(servant)2146 2786 y(cr)o(eation)p
3691 2811 V 596 2815 3099 4 v 596 2815 V 596 3241 a Fl(Byte-Sequence)j
(c)n(lient)596 3507 y Fq(Example)18 b(5-23.)g(byteseq-client.c)596
3672 y Fk(/*)44 b(byteseq-client.c)e(hacked)i(by)g(Frank)g(Rehberger)
640 3754 y(*)h(<F.Rehberger@xtradyne.de>.)85 b(*/)596
3918 y(#include)43 b(<assert.h>)596 4000 y(#include)g(<stdio.h>)596
4083 y(#include)g(<stdlib.h>)596 4165 y(#include)g(<string.h>)596
4247 y(#include)g(<signal.h>)596 4329 y(#include)g(<orbit/orbit.h>)596
4494 y(#include)g("byteseq.h")596 4658 y(#include)g
("examples-toolkit.h")e(/*)k(ie.)f(etk_etk_abort_if_exception\(\))c(*/)
596 4822 y(static)j(CORBA_ORB)88 b(global_orb)44 b(=)g
(CORBA_OBJECT_NIL;)e(/*)j(global)f(orb)g(*/)596 4987
y(/*)g(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 5069 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
5151 y(*/)596 5233 y(static)596 5316 y(void)596 5398
y(client_shutdown)d(\(int)i(sig\))596 5480 y({)p Black
3601 5585 a Fp(43)p Black eop
%%Page: 44 48
44 47 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 954 89 a Fk
(CORBA_Environment)87 b(local_ev[1];)954 171 y
(CORBA_exception_init\(local_ev\);)954 336 y(if)45 b(\(global_orb)e(!=)
h(CORBA_OBJECT_NIL\))954 418 y({)1358 500 y Fi(CORBA_ORB_shutdown)d
(\(global_orb,)i(FALSE,)h(local_ev\);)1313 582 y Fk
(etk_abort_if_exception)d(\(local_ev,)i("caught)h(exception"\);)954
664 y(})596 747 y(})596 993 y(/*)g(Inits)g(ORB)g(@orb)g(using)g(@argv)g
(arguments)g(for)g(configuration.)f(For)h(each)640 1075
y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g(the)g
(counter)g(of)h(@argc_ptr)640 1158 y(*)g(will)f(be)h(decremented.)d
(Signal)i(handler)g(is)g(set)h(to)f(call)640 1240 y(*)h
(echo_client_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g(and)g
(SIGTERM)640 1322 y(*)h(signals.)88 b(If)45 b(error)f(occures)f(@ev)i
(points)f(to)g(exception)f(object)h(on)640 1404 y(*)h(return.)640
1486 y(*/)596 1569 y(static)596 1651 y(void)596 1733
y(client_init)d(\(int)672 b(*argc_ptr,)865 1815 y(char)626
b(*argv[],)1178 1897 y(CORBA_ORB)402 b(*orb,)1178 1979
y(CORBA_Environment)42 b(*ev\))596 2062 y({)954 2144
y(/*)j(init)f(signal)g(handling)f(*/)954 2308 y(signal\(SIGINT,)87
b(client_shutdown\);)954 2390 y(signal\(SIGTERM,)42 b
(client_shutdown\);)954 2555 y(/*)j(create)e(Object)h(Request)g(Broker)
g(\(ORB\))g(*/)999 2719 y Fi(\(*orb\))g(=)g(CORBA_ORB_init\(argc_ptr,)d
(argv,)j("orbit-local-orb",)e(ev\);)954 2801 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)596 2884
y(})596 3048 y(/*)k(Releases)f(@servant)h(object)g(and)g(finally)g
(destroys)f(@orb.)h(If)h(error)640 3130 y(*)g(occures)f(@ev)g(points)g
(to)g(exception)g(object)f(on)i(return.)640 3212 y(*/)596
3295 y(static)596 3377 y(void)596 3459 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 3541 y(Examples_ByteSeq_Storage)85 b(servant,)1313
3623 y(CORBA_Environment)356 b(*ev\))596 3706 y({)954
3788 y(/*)45 b(releasing)e(managed)h(object)f(*/)999
3870 y Fi(CORBA_Object_release\(servant,)d(ev\);)954
3952 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))40 b(return;)954
4116 y(/*)45 b(tear)f(down)g(the)g(ORB)h(*/)954 4199
y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 4281 y({)1313
4363 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 4445
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)1313 4527 y Fk(if)j
(\(etk_raised_exception\(ev\)\))d(return;)954 4610 y(})596
4692 y(})596 4856 y(/**)640 4938 y(*)640 5021 y(*/)596
5103 y(static)596 5185 y(void)596 5267 y(client_run_set)h
(\(Examples_ByteSeq_Storage)85 b(servant,)685 5349 y(CORBA_Environment)
356 b(*ev\))596 5432 y({)p Black 197 5585 a Fp(44)p Black
eop
%%Page: 45 49
45 48 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 171 a
Fk(CORBA_long)43 b(LEN)269 b(=)45 b(4*1024;)e(/*)i(4KB)f(*/)640
253 y(CORBA_long)f(ITER)224 b(=)45 b(10;)640 418 y(CORBA_long)e(iter)
224 b(=)45 b(0;)640 582 y(Examples_ByteSeq_Chunk*)c(chunk)j(=)h(NULL;)
640 829 y(/*)g(flood)f(service)f(witth)h(large)g(chunks)g(of)h(byte)f
(streams)g(*/)640 911 y(for)h(\(iter)f(=)g(0;)h(iter)f(<)h(ITER;)f
(++iter\))640 993 y({)685 1075 y(CORBA_long)f(len)269
b(=)44 b(0;)685 1158 y(CORBA_octet)f(elem)179 b(=)44
b('A';)685 1322 y(g_print)g(\("+"\);)730 1486 y Fi(chunk)g(=)h
(ORBit_sequence_alloc)c(\(TC_CORBA_sequence_CORBA_octet,0\);)685
1651 y Fk(for)k(\(len)f(=)g(0;)h(len)f(<)h(LEN;)f(++len\))775
1733 y Fi(ORBit_sequence_append)d(\(chunk,)j(&elem\);)730
1897 y(Examples_ByteSeq_Storage_set)c(\(servant,)j(chunk,)h(ev\);)685
1979 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)685
2144 y(CORBA_free)j(\(chunk\);)640 2226 y(})596 2308
y(})596 2473 y(/**)640 2555 y(*)640 2637 y(*/)596 2719
y(static)596 2801 y(void)596 2884 y(client_run_get)f
(\(Examples_ByteSeq_Storage)85 b(servant,)685 2966 y(CORBA_Environment)
356 b(*ev\))596 3048 y({)640 3130 y(CORBA_long)43 b(n=10;)640
3212 y(CORBA_long)g(i=0;)640 3377 y(Examples_ByteSeq_Chunk*)e(chunk)j
(=)h(NULL;)640 3541 y(/*)g(increment)e(sequence)h(length,)f(beginning)h
(with)g(0)g(up)h(to)f(2048)h(*/)640 3623 y(for)g(\(i=0;)f(i<n;)g(++i\))
640 3706 y({)685 3788 y(g_print)g(\("-"\);)730 3952 y
Fi(chunk)g(=)h(Examples_ByteSeq_Storage_get)40 b(\(servant,)j(ev\);)685
4034 y Fk(if)i(\(etk_raised_exception\(ev\)\))40 b(return;)730
4199 y(CORBA_free)j(\(chunk\);)640 4281 y(})596 4363
y(})596 4527 y(/*)640 4610 y(*)i(main)640 4692 y(*/)596
4774 y(int)596 4856 y(main\(int)e(argc,)h(char*)g(argv[]\))596
4938 y({)640 5021 y(CORBA_char)f(*filename)h(=)g("byteseq.ref";)954
5185 y(Examples_ByteSeq_Storage)86 b(servant)43 b(=)i
(CORBA_OBJECT_NIL;)954 5349 y(CORBA_Environment)d(ev[1];)954
5432 y(CORBA_exception_init\(ev\);)p Black 3601 5585
a Fp(45)p Black eop
%%Page: 46 50
46 49 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 685 171 a
Fi(client_init)43 b(\(&argc,)h(argv,)g(&global_orb,)f(ev\);)640
253 y Fk(etk_abort_if_exception\(ev,)e("init)j(failed"\);)640
418 y(g_print)g(\("Reading)f(service)h(reference)f(from)h(file)h
(\\"\045s\\"\\n",)e(filename\);)685 582 y Fi(servant)h(=)g
(\(Examples_ByteSeq_Storage\))685 664 y(etk_import_object_from_file)c
(\(global_orb,)1044 747 y(filename,)1044 829 y(ev\);)954
911 y Fk(etk_abort_if_exception\(ev,)h("exporting)i(IOR)h(failed"\);)
685 1075 y Fi(client_run_set)f(\(servant,)g(ev\);)954
1158 y Fk(etk_abort_if_exception\(ev,)e("client)i(stopped"\);)685
1322 y Fi(client_run_get)g(\(servant,)g(ev\);)954 1404
y Fk(etk_abort_if_exception\(ev,)e("client)i(stopped"\);)685
1569 y Fi(client_cleanup)g(\(global_orb,)f(servant,)i(ev\);)954
1651 y Fk(etk_abort_if_exception\(ev,)d("cleanup)i(failed"\);)954
1815 y(exit)h(\(0\);)596 1897 y(})596 2380 y Fl(Byte-Sequence)24
b(ser)q(ver)596 2645 y Fq(Example)18 b(5-24.)g(byteseq-server)-5
b(.c)596 2811 y Fk(/*)640 2893 y(*)45 b(byteseq-server)d(program.)i
(Hacked)g(from)g(Examples)f(test)i(suite)640 2975 y(*)g(by)g(Frank)e
(Rehberger)h(<F.Rehberger@xtradyne.de>)640 3057 y(*/)596
3222 y(#include)f(<stdio.h>)596 3304 y(#include)g(<stdlib.h>)596
3386 y(#include)g(<string.h>)596 3468 y(#include)g(<signal.h>)596
3550 y(#include)g(<orbit/orbit.h>)596 3715 y(#include)g("byteseq.h")596
3797 y(#include)g("byteseq-skelimpl.c")596 3961 y(#include)g
("examples-toolkit.h")e(/*)k(provides)e(etk_abort_if_exception\(\))e
(*/)596 4126 y(static)i(CORBA_ORB)447 b(global_orb)43
b(=)i(CORBA_OBJECT_NIL;)d(/*)i(global)g(orb)h(*/)596
4208 y(static)e(PortableServer_POA)f(root_poa)133 b(=)45
b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596 4372 y(/*)f(Is)h(called)e(in)
i(case)f(of)g(process)g(signals.)g(it)g(invokes)g
(CORBA_ORB_shutdown\(\))640 4454 y(*)h(function,)e(which)h(will)g
(terminate)g(the)g(processes)f(main)i(loop.)640 4537
y(*/)596 4619 y(static)596 4701 y(void)596 4783 y(server_shutdown)d
(\(int)i(sig\))596 4865 y({)640 4948 y(CORBA_Environment)87
b(local_ev[1];)640 5030 y(CORBA_exception_init\(local_ev\);)954
5194 y(if)45 b(\(global_orb)e(!=)h(CORBA_OBJECT_NIL\))954
5276 y({)1358 5358 y Fi(CORBA_ORB_shutdown)d(\(global_orb,)i(FALSE,)h
(local_ev\);)1313 5441 y Fk(etk_abort_if_exception)d(\(local_ev,)i
("caught)h(exception"\);)p Black 197 5585 a Fp(46)p Black
eop
%%Page: 47 51
47 50 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 954 89 a Fk(})596
171 y(})596 336 y(/*)44 b(Inits)g(ORB)g(@orb)g(using)g(@argv)g
(arguments)g(for)g(configuration.)f(For)h(each)640 418
y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g(the)g
(counter)g(of)h(@argc_ptr)640 500 y(*)g(will)f(be)h(decremented.)d
(Signal)i(handler)g(is)g(set)h(to)f(call)640 582 y(*)h
(echo_server_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g(and)g
(SIGTERM)640 664 y(*)h(signals.)88 b(If)45 b(error)f(occures)f(@ev)i
(points)f(to)g(exception)f(object)h(on)640 747 y(*)h(return.)640
829 y(*/static)596 911 y(void)596 993 y(server_init)d(\(int)762
b(*argc_ptr,)865 1075 y(char)716 b(*argv[],)865 1158
y(CORBA_ORB)491 b(*orb,)865 1240 y(PortableServer_POA)86
b(*poa,)865 1322 y(CORBA_Environment)131 b(*ev\))596
1404 y({)640 1486 y(PortableServer_POAManager)86 b(poa_manager)43
b(=)h(CORBA_OBJECT_NIL;)640 1651 y(CORBA_Environment)87
b(local_ev[1];)640 1733 y(CORBA_exception_init\(local_ev\);)640
1897 y(/*)45 b(init)f(signal)g(handling)f(*/)640 1979
y(signal\(SIGINT,)88 b(server_shutdown\);)640 2062 y(signal\(SIGTERM,)
43 b(server_shutdown\);)640 2226 y(/*)i(create)f(Object)f(Request)h
(Broker)g(\(ORB\))g(*/)999 2390 y Fi(\(*orb\))g(=)g
(CORBA_ORB_init\(argc_ptr,)d(argv,)j("orbit-local-orb",)e(ev\);)640
2473 y Fk(if)j(\(etk_raised_exception\(ev\)\))685 2555
y(goto)f(failed_orb;)999 2719 y Fi(\(*poa\))g(=)g
(\(PortableServer_POA\))685 2801 y
(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)640 2884 y Fk(if)i(\(etk_raised_exception\(ev\)\))685
2966 y(goto)f(failed_poa;)999 3130 y Fi(poa_manager)f(=)i
(PortableServer_POA__get_the_POAManage)o(r\(*poa)o(,)39
b(ev\);)640 3212 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
3295 y(goto)f(failed_poamanager;)685 3459 y Fi
(PortableServer_POAManager_activate\(poa_m)o(anager)o(,)39
b(ev\);)640 3541 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
3623 y(goto)f(failed_activation;)999 3788 y Fi(CORBA_Object_release)d
(\(\(CORBA_Object\))i(poa_manager,)g(ev\);)640 3870 y
Fk(return;)640 4034 y(failed_activation:)640 4116 y(failed_poamanager:)
954 4199 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 4281 y(failed_poa:)640 4363 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 4445 y(failed_orb:)640
4527 y(return;)596 4610 y(})596 4774 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
4856 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 4938 y(*)h(return.)640 5021
y(*/)596 5103 y(static)e(void)596 5185 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 5267 y(CORBA_Environment)42 b(*ev\))596 5349
y({)954 5432 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)p Black 3601 5585 a Fp(47)p Black eop
%%Page: 48 52
48 51 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 999 171 a
Fi(CORBA_ORB_run\(orb,)42 b(ev\);)640 253 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)954 418
y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f(signal)g
(handler)685 500 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h(called)e
(*/)596 582 y(})596 747 y(/*)h(Releases)f(@servant)h(object)g(and)g
(finally)g(destroys)f(@orb.)h(If)h(error)640 829 y(*)g(occures)f(@ev)g
(points)g(to)g(exception)g(object)f(on)i(return.)640
911 y(*/)596 993 y(static)e(void)596 1075 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 1158 y(PortableServer_POA)87
b(poa,)685 1240 y(CORBA_Object)357 b(ref,)685 1322 y(CORBA_Environment)
87 b(*ev\))596 1404 y({)640 1486 y(PortableServer_ObjectId)131
b(*objid)313 b(=)44 b(NULL;)685 1651 y Fi(objid)g(=)h
(PortableServer_POA_reference_to_id)39 b(\(poa,)44 b(ref,)g(ev\);)640
1733 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)640
1897 y(/*)45 b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89
b(__fini)43 b(destructor)h(*/)685 1979 y Fi
(PortableServer_POA_deactivate_object)39 b(\(poa,)44
b(objid,)g(ev\);)640 2062 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)685 2226 y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g
(FALSE,)f(ev\);)640 2308 y Fk(if)i(\(etk_raised_exception\(ev\)\))40
b(return;)640 2473 y(CORBA_free)j(\(objid\);)999 2637
y Fi(CORBA_Object_release)e(\(\(CORBA_Object\))i(poa,)h(ev\);)640
2719 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)999
2884 y Fi(CORBA_Object_release)h(\(ref,)j(ev\);)640 2966
y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
3130 y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954
3212 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 3295
y({)1313 3377 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358
3459 y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 3541 y
Fk(if)k(\(etk_raised_exception\(ev\)\))40 b(return;)954
3623 y(})596 3706 y(})596 3870 y(/*)k(Creates)g(servant)f(and)i
(registers)e(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
3952 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 4034 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
4116 y(*)i(on)g(return.)640 4199 y(*/)596 4281 y(static)e(CORBA_Object)
596 4363 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 4445 y(PortableServer_POA)86 b(poa,)775 4527
y(CORBA_Environment)h(*ev\))596 4610 y({)640 4692 y
(Examples_ByteSeq_Storage)41 b(ref)j(=)h(CORBA_OBJECT_NIL;)685
4856 y Fi(ref)g(=)f(impl_Examples_ByteSeq_Storage__create)39
b(\(poa,)44 b(ev\);)640 4938 y Fk(if)h(\(etk_raised_exception\(ev\)\))
685 5021 y(return)f(CORBA_OBJECT_NIL;)640 5185 y(return)g(ref;)596
5267 y(})596 5432 y(/*)p Black 197 5585 a Fp(48)p Black
eop
%%Page: 49 53
49 52 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 89 a Fk(*)45
b(main)640 171 y(*/)596 336 y(int)596 418 y(main)f(\(int)g(argc,)g
(char)g(*argv[]\))596 500 y({)640 582 y(CORBA_Object)f(servant)h(=)g
(CORBA_OBJECT_NIL;)640 747 y(CORBA_char)f(filename[])h(=)g
("byteseq.ref";)640 911 y(CORBA_Environment)87 b(ev[1];)640
993 y(CORBA_exception_init\(ev\);)685 1158 y Fi(server_init)43
b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g(ev\);)640
1240 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i(init"\);)685
1404 y Fi(servant)f(=)g(server_activate_service)d(\(global_orb,)i
(root_poa,)h(ev\);)640 1486 y Fk(etk_abort_if_exception\(ev,)d("failed)
i(activating)h(service"\);)640 1651 y(g_print)g(\("Writing)f(service)h
(reference)f(to:)i(\045s\\n\\n",)e(filename\);)685 1815
y Fi(etk_export_object_to_file)e(\(global_orb,)909 1897
y(servant,)909 1979 y(filename,)909 2062 y(ev\);)640
2144 y Fk(etk_abort_if_exception\(ev,)g("failed)i(exporting)h(IOR"\);)
685 2308 y Fi(server_run)f(\(global_orb,)g(ev\);)640
2390 y Fk(etk_abort_if_exception\(ev,)e("failed)i(entering)h(main)g
(loop"\);)685 2555 y Fi(server_cleanup)f(\(global_orb,)f(root_poa,)i
(servant,)f(ev\);)640 2637 y Fk(etk_abort_if_exception\(ev,)e("failed)i
(cleanup"\);)640 2801 y(exit)i(\(0\);)596 2884 y(})596
3141 y Fq(Example)18 b(5-25.)g(byteseq-skelimpl.c)596
3306 y Fk(/*)44 b(This)g(is)h(a)f(template)g(file)g(generated)f(by)i
(command)e(*/)596 3388 y(/*)h(orbit-idl-2)f(--skeleton-impl)f
(byteseq.idl)h(*/)596 3471 y(/*)h(User)g(must)g(edit)g(this)h(file,)f
(inserting)f(servant)88 b(*/)596 3553 y(/*)44 b(specific)f(code)i
(between)e(markers.)h(*/)596 3717 y(#include)f("byteseq.h")596
3882 y(/***)h(App-specific)e(servant)i(structures)f(***/)596
4046 y(typedef)g(struct)596 4128 y({)730 4210 y
(POA_Examples_ByteSeq_Storage)d(servant;)730 4292 y(PortableServer_POA)
i(poa;)730 4457 y(/*)j(------)e(add)i(private)e(attributes)g(here)i
(------)e(*/)775 4539 y Fi(Examples_ByteSeq_Chunk)e(*)k(chunk;)730
4621 y Fk(/*)g(------)e(----------)g(end)i(------------)e(------)g(*/)
596 4703 y(})h(impl_POA_Examples_ByteSeq_Storage;)596
4868 y(/***)g(Implementation)e(stub)i(prototypes)f(***/)596
5032 y(static)g(void)596 5114 y(impl_Examples_ByteSeq_Storage__fini\()o
(impl_P)o(OA_Exa)o(mples_)o(ByteSe)o(q_Stor)o(age)c(*)954
5197 y(servant,)44 b(CORBA_Environment)e(*)i(ev\);)596
5279 y(static)f(void)596 5361 y(impl_Examples_ByteSeq_Storage_set\(im)o
(pl_POA)o(_Examp)o(les_By)o(teSeq_)o(Storag)o(e)c(*)45
b(servant,)865 5443 y(const)e(Examples_ByteSeq_Chunk)f(*)i(chunk,)p
Black 3601 5585 a Fp(49)p Black eop
%%Page: 50 54
50 53 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 865 89 a Fk
(CORBA_Environment)41 b(*)k(ev\);)596 253 y(static)e
(Examples_ByteSeq_Chunk)730 336 y
(*impl_Examples_ByteSeq_Storage_get\(impl)o(_POA_E)o(xample)o(s_Byte)o
(Seq_St)o(orage)38 b(*)1044 418 y(servant,)43 b(CORBA_Environment)f(*)j
(ev\);)596 664 y(/***)f(epv)g(structures)f(***/)596 829
y(static)g(PortableServer_ServantBase__epv)d
(impl_Examples_ByteSeq_Storage_base_epv)730 911 y(=)45
b({)730 993 y(NULL,)134 b(/*)44 b(_private)g(data)g(*/)730
1075 y(\(gpointer\))f(&)i(impl_Examples_ByteSeq_Storage__fini,)39
b(/*)44 b(finalize)g(routine)f(*/)730 1158 y(NULL,)134
b(/*)44 b(default_POA)f(routine)h(*/)596 1240 y(};)596
1322 y(static)f(POA_Examples_ByteSeq_Storage__epv)d
(impl_Examples_ByteSeq_Storage_epv)f(=)45 b({)730 1404
y(NULL,)134 b(/*)44 b(_private)g(*/)730 1486 y(\(gpointer\))f(&)i
(impl_Examples_ByteSeq_Storage_set,)730 1651 y(\(gpointer\))e(&)i
(impl_Examples_ByteSeq_Storage_get)596 1733 y(};)596
1897 y(/***)f(vepv)g(structures)f(***/)596 2062 y(static)g
(POA_Examples_ByteSeq_Storage__vepv)c
(impl_Examples_ByteSeq_Storage_vepv)h(=)k({)730 2144
y(&impl_Examples_ByteSeq_Storage_base_epv)o(,)730 2226
y(&impl_Examples_ByteSeq_Storage_epv,)596 2308 y(};)596
2473 y(/***)g(Stub)g(implementations)e(***/)596 2637
y(static)h(Examples_ByteSeq_Storage)596 2719 y
(impl_Examples_ByteSeq_Storage__creat)o(e\(Port)o(ableSe)o(rver_P)o(OA)
c(poa,)1044 2801 y(CORBA_Environment)j(*)i(ev\))596 2884
y({)730 2966 y(Examples_ByteSeq_Storage)d(retval;)730
3048 y(impl_POA_Examples_ByteSeq_Storage)e(*newservant;)730
3130 y(PortableServer_ObjectId)i(*objid;)730 3295 y(newservant)i(=)i
(g_new0\(impl_POA_Examples_ByteSeq_Stora)o(ge,)39 b(1\);)730
3377 y(newservant->servant.vepv)i(=)j
(&impl_Examples_ByteSeq_Storage_vepv;)730 3459 y(newservant->poa)e(=)
865 3541 y(\(PortableServer_POA\))f
(CORBA_Object_duplicate\(\(CORBA_Object\))e(poa,)44 b(ev\);)730
3706 y(POA_Examples_ByteSeq_Storage__init\(\(Por)o(tableS)o(erver_)o
(Servan)o(t\))39 b(newservant,)1044 3788 y(ev\);)730
3870 y(/*)45 b(Before)e(servant)h(is)g(going)g(to)h(be)f(activated)g
(all)775 3952 y(*)h(private)e(attributes)g(must)h(be)h(initialized.)88
b(*/)730 4116 y(/*)45 b(------)e(init)h(private)g(attributes)f(here)h
(------)g(*/)775 4199 y Fi(newservant->chunk)e(=)i
(ORBit_sequence_alloc)e(\(TC_CORBA_sequence_CORBA_octet,)e(64\);)730
4281 y Fk(/*)45 b(------)e(----------)g(end)i(-------------)d(------)i
(*/)730 4445 y(objid)g(=)h(PortableServer_POA_activate_object\(po)o(a,)
39 b(newservant,)k(ev\);)730 4527 y(CORBA_free\(objid\);)730
4610 y(retval)h(=)g(PortableServer_POA_servant_to_reference\(po)o(a,)39
b(newservant,)k(ev\);)730 4774 y(return)h(retval;)596
4856 y(})596 5021 y(/**)640 5103 y(*)h
(impl_Examples_ByteSeq_Storage__fini)640 5185 y(*)640
5267 y(*)g(Destructor)e(called)h(after)g(servant)g(has)g(been)g
(deactivated)f(finally.)640 5349 y(*)i(In)g(case)f(any)g(operation)f
(is)i(invoked,)e(application)g(is)i(being)f(delayed.)596
5432 y(**/)p Black 197 5585 a Fp(50)p Black eop
%%Page: 51 55
51 54 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fk(static)43
b(void)596 171 y(impl_Examples_ByteSeq_Storage__fini\()o(impl_P)o
(OA_Exa)o(mples_)o(ByteSe)o(q_Stor)o(age)c(*)954 253
y(servant,)44 b(CORBA_Environment)e(*)i(ev\))596 336
y({)730 418 y(CORBA_Object_release\(\(CORBA_Object\))39
b(servant->poa,)k(ev\);)730 582 y(/*)i(No)f(further)g(remote)f(method)h
(calls)g(are)h(delegated)e(to)775 664 y(*)i(servant)e(and)h(you)h(may)f
(free)g(your)g(private)g(attributes.)f(*/)730 747 y(/*)i(------)e(free)
h(private)g(attributes)f(here)h(------)g(*/)775 829 y
Fi(CORBA_free)f(\(servant->chunk\);)730 911 y Fk(/*)i(------)e
(----------)g(end)i(-------------)d(------)i(*/)730 1075
y(POA_Examples_ByteSeq_Storage__fini\(\(Por)o(tableS)o(erver_)o(Servan)
o(t\))39 b(servant,)k(ev\);)730 1240 y(g_free\(servant\);)596
1322 y(})596 1486 y(static)g(void)596 1569 y
(impl_Examples_ByteSeq_Storage_set\(im)o(pl_POA)o(_Examp)o(les_By)o
(teSeq_)o(Storag)o(e)c(*)45 b(servant,)865 1651 y(const)e
(Examples_ByteSeq_Chunk)f(*)i(chunk,)865 1733 y(CORBA_Environment)d(*)k
(ev\))596 1815 y({)730 1897 y(/*)g(------)133 b(insert)44
b(method)g(code)g(here)134 b(------)43 b(*/)775 1979
y Fi(ORBit_sequence_set_size)e(\(servant->chunk,)h(chunk->_length\);)
730 2144 y({)1089 2226 y(CORBA_long)h(i=0;)1089 2308
y(for)h(\(i)g(=)h(0;)g(i)f(<)h(chunk->_length;)d(++i\))1447
2390 y(ORBit_sequence_index)g(\(servant->chunk,)g(i\))1806
2473 y(=)j(ORBit_sequence_index)c(\(chunk,)j(i\);)730
2555 y(})730 2637 y Fk(/*)h(------)e(----------)g(end)i(------------)e
(------)g(*/)596 2719 y(})596 2884 y(static)g(Examples_ByteSeq_Chunk)e
(*)596 2966 y(impl_Examples_ByteSeq_Storage_get\(im)o(pl_POA)o(_Examp)o
(les_By)o(teSeq_)o(Storag)o(e)e(*)45 b(servant,)865 3048
y(CORBA_Environment)c(*)k(ev\))596 3130 y({)730 3212
y(Examples_ByteSeq_Chunk)c(*retval;)730 3377 y(/*)k(------)133
b(insert)44 b(method)g(code)g(here)134 b(------)43 b(*/)775
3459 y Fi(retval)h(=)g(ORBit_sequence_alloc)e
(\(TC_CORBA_sequence_CORBA_octet,)2120 3541 y
(servant->chunk->_length\);)730 3706 y({)1089 3788 y(CORBA_long)h(i=0;)
1089 3870 y(for)h(\(i)g(=)h(0;)g(i)f(<)h(servant->chunk->_length;)c
(++i\))1447 3952 y(ORBit_sequence_index)h(\(retval,)h(i\))1806
4034 y(=)i(ORBit_sequence_index)c(\(servant->chunk,)h(i\);)730
4116 y(})730 4199 y Fk(/*)j(------)e(----------)g(end)i(------------)e
(------)g(*/)730 4363 y(return)h(retval;)596 4445 y(})p
Black 3601 5585 a Fp(51)p Black eop
%%Page: 52 56
52 55 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fl(Compiling)25
b(c)n(lient)h(&)g(ser)q(ver)596 355 y Fq(Example)18 b(5-26.)g
(Make\002le)596 520 y Fk(PREFIX)43 b(?=)i(/usr)596 602
y(CC)f(=)h(gcc)596 684 y(TARGETS=byteseq-client)c(byteseq-server)596
767 y(ORBIT_IDL=$\(PREFIX\)/bin/orbit-idl-2)596 849 y(CFLAGS=-g)i
(-DORBIT2=1)g(-D_REENTRANT)g(-I$\(PREFIX\)/include/orbit-2.0)d(\\)999
931 y(-I$\(PREFIX\)/include/linc-1.0)g(-I$\(PREFIX\)/include/glib-2.0)g
(\\)999 1013 y(-I$\(PREFIX\)/lib/glib-2.0/include)596
1095 y(LDFLAGS=)j(-Wl,--export-dynamic)86 b(-L$\(PREFIX\)/lib)43
b(-lORBit-2)g(-llinc)h(-lgmodule-2.0)e(\\)1178 1178 y(-ldl)i
(-lgobject-2.0)f(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g(-lm)358
b(\\)1178 1260 y(-lORBitCosNaming-2)596 1342 y(IDLOUT=byteseq-common.c)
40 b(byteseq-stubs.c)j(byteseq-skels.c)f(byteseq.h)596
1506 y(all:)i($\(IDLOUT\))f(byteseq-client)f(byteseq-server)596
1671 y(byteseq-server.o:)f(byteseq-server.c)i(byteseq-skelimpl.c)596
1753 y(byteseq-client)f(:)j(byteseq-client.o)d(byteseq-stubs.o)g
(byteseq-common.o)g(examples-toolkit.o)596 1835 y(byteseq-server)g(:)j
(byteseq-server.o)d(byteseq-skels.o)g(byteseq-common.o)g
(examples-toolkit.o)596 1999 y($\(IDLOUT\):)h(byteseq.idl)640
2082 y($\(ORBIT_IDL\))g(byteseq.idl)596 2246 y(\045-skelimpl.c:)f
(\045.idl)640 2328 y($\(ORBIT_IDL\))h(--skeleton-impl)f($^)596
2493 y(clean:)640 2575 y(rm)j(-rf)f(*.o)g(*~)h($\(IDLOUT\))596
2739 y(distclean:)e(clean)640 2821 y(rm)i(-rf)f(byteseq-client)f
(byteseq-server)197 3397 y Fo(BadCall)27 b(c)n(lient)h(&)g(ser)q(ver)
596 3672 y Fq(Example)18 b(5-27.)g(badcall.idl)596 3837
y Fk(module)43 b(Examples)h({)640 4001 y(interface)g(BadCall)f({)685
4083 y(struct)h(Foo)g({)730 4166 y(double)g(fval;)685
4248 y(};)685 4412 y(exception)f(NoParam)223 b({)45 b(};)685
4494 y(exception)e(SingleParam)g({)i(string)f(mesg;)g(};)685
4577 y(exception)f(DoubleParam)g({)i(string)f(mesg;)g(long)g(val;)g(};)
685 4741 y(Foo)h(trigger)e(\(in)h(long)h(val,)f(out)g(Foo)g(bar\))730
4823 y(raises)g(\(NoParam,)f(SingleParam,)g(DoubleParam\);)640
4905 y(};)596 4987 y(};)596 5162 y($)h Fi(orbit-idl-2)f
(--skeleton-impl)f(badcall.idl)61 b Fs(geenrates)18 b(all)f(the)h
(\002les)g(we)g(will)h(use)596 5253 y(in)i(this)g(example.)p
Black 197 5585 a Fp(52)p Black eop
%%Page: 53 57
53 56 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 9 3102
4 v 596 9 V 596 137 4 128 v 600 112 a Ft(File)p 1628
137 V 1063 w(Usa)o(g)q(e)i(f)n(or)g(Client)p 2661 137
V 384 w(Usa)o(g)q(e)g(f)n(or)g(Ser)q(ver)p 3694 137 V
596 140 3102 4 v 596 140 V 596 268 4 128 v 600 243 a
Fs(badcall.h)p 1628 268 V 1025 w(r)o(eadonly)p 2661 268
V 705 w(r)o(eadonly)p 3694 268 V 596 271 3102 4 v 596
271 V 596 399 4 128 v 600 374 a(badcall-common.c)p 1628
399 V 687 w(r)o(eadonly)p 2661 399 V 705 w(r)o(eadonly)p
3694 399 V 596 402 3102 4 v 596 402 V 596 530 4 128 v
600 505 a(badcall-stubs.c)p 1628 530 V 815 w(r)o(eadonly)p
2661 530 V 855 w(-)p 3694 530 V 596 533 3102 4 v 596
533 V 596 661 4 128 v 600 636 a(badcall-skels.c)p 1628
661 V 978 w(-)p 2661 661 V 855 w(r)o(eadonly)p 3694 661
V 596 664 3102 4 v 596 664 V 596 792 4 128 v 600 767
a(badcall-skelimpl.c)p 1628 792 V 842 w(-)p 2661 792
V 608 w(template)d(for)h(user)f(code)p 3694 792 V 596
795 3102 4 v 596 795 V 596 945 a(Files)26 b(r)o(emaining)g(to)g(write)g
(ar)o(e)f(listed)h(in)g(following)i(table,)d(starting)h(with)h
Fp(badcall-client.c)d Fs(in)596 1036 y(following)e(chapter)-6
b(.)p 596 1229 3099 4 v 596 1229 V 596 1357 4 128 v 600
1332 a(badcall-client.c)p 2143 1357 V 994 w(write)21
b(the)g(client)g(code)p 3691 1357 V 596 1360 3099 4 v
596 1360 V 596 1579 4 220 v 600 1463 a(badcall-server)-6
b(.c)p 2143 1579 V 972 w(write)21 b(the)g(generic)g(code)f(for)h
(servant)2146 1554 y(cr)o(eation)p 3691 1579 V 596 1582
3099 4 v 596 1582 V 596 2009 a Fl(BadCall)k(c)n(lient)596
2274 y Fq(Example)18 b(5-28.)g(badcall-client.c)596 2440
y Fk(/*)44 b(badcall-client.c)e(hacked)i(by)g(Frank)g(Rehberger)640
2522 y(*)h(<F.Rehberger@xtradyne.de>.)85 b(*/)596 2686
y(#include)43 b(<assert.h>)596 2768 y(#include)g(<stdio.h>)596
2850 y(#include)g(<stdlib.h>)596 2933 y(#include)g(<string.h>)596
3015 y(#include)g(<signal.h>)596 3097 y(#include)g(<orbit/orbit.h>)596
3261 y(#include)g("badcall.h")596 3426 y(#include)g
("examples-toolkit.h")e(/*)k(ie.)f(etk_abort_if_exception\(\))d(*/)596
3590 y(static)i(CORBA_ORB)88 b(global_orb)44 b(=)g(CORBA_OBJECT_NIL;)e
(/*)j(global)f(orb)g(*/)596 3755 y(/*)g(Is)h(called)e(in)i(case)f(of)g
(process)g(signals.)g(it)g(invokes)g(CORBA_ORB_shutdown\(\))640
3837 y(*)h(function,)e(which)h(will)g(terminate)g(the)g(processes)f
(main)i(loop.)640 3919 y(*/)596 4001 y(static)596 4083
y(void)596 4166 y(client_shutdown)d(\(int)i(sig\))596
4248 y({)954 4330 y(CORBA_Environment)87 b(local_ev[1];)954
4412 y(CORBA_exception_init\(local_ev\);)954 4576 y(if)45
b(\(global_orb)e(!=)h(CORBA_OBJECT_NIL\))954 4659 y({)1313
4741 y Fi(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i(local_ev\);)
1313 4823 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 4905 y(})596 4987 y(})596 5234 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 5316 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 5398 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
5481 y(*)h(echo_client_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)p Black 3601 5585 a Fp(53)p Black eop
%%Page: 54 58
54 57 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk(*)45
b(signals.)88 b(If)45 b(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 171 y(*)h(return.)640 253
y(*/)596 336 y(static)596 418 y(void)596 500 y(client_init)d(\(int)672
b(*argc_ptr,)865 582 y(char)626 b(*argv[],)1178 664 y(CORBA_ORB)402
b(*orb,)1178 747 y(CORBA_Environment)42 b(*ev\))596 829
y({)954 911 y(/*)j(init)f(signal)g(handling)f(*/)954
1075 y(signal\(SIGINT,)87 b(client_shutdown\);)954 1158
y(signal\(SIGTERM,)42 b(client_shutdown\);)954 1322 y(/*)j(create)e
(Object)h(Request)g(Broker)g(\(ORB\))g(*/)999 1486 y
Fi(\(*orb\))g(=)g(CORBA_ORB_init\(argc_ptr,)d(argv,)j
("orbit-local-orb",)e(ev\);)954 1569 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)596 1651
y(})596 1815 y(/*)k(Releases)f(@servant)h(object)g(and)g(finally)g
(destroys)f(@orb.)h(If)h(error)640 1897 y(*)g(occures)f(@ev)g(points)g
(to)g(exception)g(object)f(on)i(return.)640 1979 y(*/)596
2062 y(static)596 2144 y(void)596 2226 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 2308 y(CORBA_Object)625 b(servant,)1313
2390 y(CORBA_Environment)356 b(*ev\))596 2473 y({)954
2555 y(/*)45 b(releasing)e(managed)h(object)f(*/)999
2637 y Fi(CORBA_Object_release\(servant,)d(ev\);)954
2719 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))40 b(return;)954
2884 y(/*)45 b(tear)f(down)g(the)g(ORB)h(*/)954 2966
y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 3048 y({)1313
3130 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 3212
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)1313 3295 y Fk(if)j
(\(etk_raised_exception\(ev\)\))d(return;)954 3377 y(})596
3459 y(})596 3706 y(static)596 3788 y(void)596 3870 y
(client_trigger_exception)f(\(Examples_BadCall)446 b(servant,)820
3952 y(CORBA_long)715 b(arg,)820 4034 y(CORBA_Environment)355
b(*ev\))596 4116 y({)640 4199 y(CORBA_long)537 b(in_arg)88
b(=)45 b(arg;)640 4281 y(Examples_BadCall_Foo)d(*out_arg)h(=)i(NULL;)
640 4445 y(Examples_BadCall_Foo)87 b(ret_val;)685 4610
y Fi(ret_val)44 b(=)g(Examples_BadCall_trigger)d(\(servant,)999
4692 y(in_arg,)999 4774 y(out_arg,)999 4856 y(ev\);)640
5021 y Fk(switch\(etk_exception_type\(ev\)\))f({)640
5103 y(case)45 b(CORBA_NO_EXCEPTION:/*)c(successful)i(outcome*/)685
5267 y(/*)i(now)f(use)g(data)g(the)h(server)f(delivered)f(to)h(client)
730 5349 y(*)h(over)f(the)g(return-value,)f(or)h(those)g(out-)g(and)730
5432 y(*)h(inout-parameters)d(*/)p Black 197 5585 a Fp(54)p
Black eop
%%Page: 55 59
55 58 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 685 171 a
Fk(break;)640 336 y(case)45 b(CORBA_USER_EXCEPTION:/*)40
b(a)45 b(user-defined)e(exception)g(*/)685 418 y(if)i
(\(etk_raised_exception_is_a)40 b(\(ev,)1133 500 y
(ex_Examples_BadCall_NoParam\)\))685 582 y({)730 664
y(/*)45 b(NoParam)e(exception)88 b(does)44 b(not)h(own)f(members)g(*/)
730 747 y(Examples_BadCall_NoParam)d(*bc)775 829 y(=)k
(\(Examples_BadCall_NoParam*\)CORBA_exc)o(eption)o(_value)o(\(ev\);)730
911 y(g_warning)e(\("raised)h(exception:)f(\045s\\n",)909
993 y(CORBA_exception_id\(ev\)\);)685 1075 y(})685 1158
y(else)h(if)h(\(etk_raised_exception_is_a)40 b(\(ev,)1044
1240 y(ex_Examples_BadCall_SingleParam\)\))685 1322 y({)730
1404 y(Examples_BadCall_SingleParam)g(*bc)775 1486 y(=)45
b(\(Examples_BadCall_SingleParam*\))775 1569 y
(CORBA_exception_value\(ev\);)730 1733 y(g_warning)e(\("raised)h
(exception:)f(\045s\\n")909 1815 y(")i(mesg:)f(\045s\\n",)909
1897 y(CORBA_exception_id\(ev\),)909 1979 y(bc->mesg\);)685
2144 y(})h(else)f(if)g(\(etk_raised_exception_is_a)865
2226 y(\(ev,)g(ex_Examples_BadCall_DoubleParam\)\))685
2308 y({)730 2390 y(Examples_BadCall_DoubleParam)c(*bc)775
2473 y(=)45 b(\(Examples_BadCall_DoubleParam*\))775 2555
y(CORBA_exception_value\(ev\);)730 2719 y(g_warning)e(\("raised)h
(exception:)f(\045s\\n")909 2801 y(")i(mesg:)f(\045s\\n")909
2884 y(")h(val:)f(\045d\\n",)909 2966 y(CORBA_exception_id\(ev\),)909
3048 y(bc->mesg,)909 3130 y(bc->val\);)685 3212 y(})685
3295 y(else)685 3377 y({)730 3459 y(/*)h(should)e(never)h(get)h(here)f
(...)g(*/)730 3541 y(g_print)g(\("unexpected)e(CORBA_USER_EXCEPTION)g
(-\045s\\n",)820 3623 y(CORBA_exception_id\(ev\)\);)685
3706 y(})685 3788 y(break;)640 3952 y(case)j(CORBA_SYSTEM_EXCEPTION:)
640 4034 y(default:)f(/*)g(standard)g(exception)f(*/)685
4116 y(/*)730 4199 y(*)i(CORBA_exception_id\(\))c(can)j(be)h(used)f(to)
h(determine)e(which)730 4281 y(*)i(particular)e(standard)g(exception)h
(was)g(raised;)g(the)g(minor)730 4363 y(*)h(member)e(of)i(the)f(struct)
g(associated)f(with)h(the)h(exception)730 4445 y(*)g(\(as)f(yielded)g
(by)g(CORBA_exception_value\(\)\))d(may)j(provide)730
4527 y(*)h(additional)e(system-specific)f(information)h(about)h(the)730
4610 y(*)h(exception)730 4692 y(*/)685 4774 y(g_print)f
(\("BadCall::trigger)e(raised)h(system)h(exception:)f(\045s\\n",)775
4856 y(CORBA_exception_id\(ev\)\);)685 5021 y(break;)640
5103 y(})640 5267 y(/*)i(free)f(any)g(storage)g(associated)f(with)h
(exception)g(*/)640 5349 y(CORBA_exception_free\(ev\);)p
Black 3601 5585 a Fp(55)p Black eop
%%Page: 56 60
56 59 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk(CORBA_free)43
b(\(out_arg\);)h(/*)g(free)g(Foo)h(data)f(*/)596 253
y(})596 418 y(/**)640 500 y(*)640 582 y(*/)596 664 y(static)596
747 y(void)596 829 y(client_run)f(\(Examples_BadCall)445
b(servant,)820 911 y(CORBA_Environment)355 b(*ev\))596
993 y({)640 1075 y(CORBA_long)43 b(N=1000;)640 1158 y(CORBA_long)g
(i=0;)640 1322 y(/*)i(increment)e(sequence)h(length,)f(beginning)h
(with)g(0)g(up)h(to)f(2048)h(*/)640 1404 y(for)g(\(i=0;)f(i<N;)g(++i\))
640 1486 y({)730 1569 y Fi(client_trigger_exception)d(\(servant,)i(i,)i
(ev\);)640 1651 y Fk(})596 1733 y(})596 1979 y(/*)640
2062 y(*)g(main)640 2144 y(*/)596 2226 y(int)596 2308
y(main\(int)e(argc,)h(char*)g(argv[]\))596 2390 y({)640
2473 y(CORBA_char)f(filename[])h(=)g("badcall.ref";)954
2637 y(Examples_BadCall)87 b(servant)44 b(=)g(CORBA_OBJECT_NIL;)954
2801 y(CORBA_Environment)e(ev[1];)954 2884 y
(CORBA_exception_init\(ev\);)685 3048 y Fi(client_init)h(\(&argc,)h
(argv,)g(&global_orb,)f(ev\);)640 3130 y Fk
(etk_abort_if_exception\(ev,)e("init)j(failed"\);)640
3295 y(g_print)g(\("Reading)f(service)h(reference)f(from)h(file)h
(\\"\045s\\"\\n",)730 3377 y(filename\);)685 3541 y Fi(servant)f(=)g
(etk_import_object_from_file)d(\(global_orb,)1133 3623
y(filename,)1133 3706 y(ev\);)954 3788 y Fk
(etk_abort_if_exception\(ev,)g("importing)i(IOR)h(failed"\);)685
3952 y Fi(client_run)f(\(servant,)h(ev\);)954 4034 y
Fk(etk_abort_if_exception\(ev,)d("client)i(stopped"\);)685
4199 y Fi(client_cleanup)g(\(global_orb,)f(servant,)i(ev\);)954
4281 y Fk(etk_abort_if_exception\(ev,)d("cleanup)i(failed"\);)954
4445 y(exit)h(\(0\);)596 4527 y(})p Black 197 5585 a
Fp(56)p Black eop
%%Page: 57 61
57 60 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fl(BadCall)k(ser)q
(ver)596 355 y Fq(Example)18 b(5-29.)g(badcall-server)-5
b(.c)596 520 y Fk(/*)640 602 y(*)45 b(echo-server)e(program.)g(Hacked)h
(from)g(Echo)h(test)f(suite)g(by)g(by)h(Frank)640 684
y(*)g(Rehberger)e(<F.Rehberger@xtradyne.de>)640 767 y(*/)596
931 y(#include)g(<stdio.h>)596 1013 y(#include)g(<stdlib.h>)596
1095 y(#include)g(<string.h>)596 1178 y(#include)g(<signal.h>)596
1260 y(#include)g(<orbit/orbit.h>)596 1424 y(#include)g("badcall.h")596
1506 y(#include)g("badcall-skelimpl.c")596 1671 y(#include)g
("examples-toolkit.h")e(/*)k(ie.)f(etk_abort_if_exception\(\))d(*/)596
1835 y(static)i(CORBA_ORB)447 b(global_orb)43 b(=)i(CORBA_OBJECT_NIL;)d
(/*)i(global)g(orb)h(*/)596 1917 y(static)e(PortableServer_POA)f
(root_poa)133 b(=)45 b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596
2082 y(/*)f(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 2164 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
2246 y(*/)596 2328 y(static)596 2410 y(void)596 2493
y(server_shutdown)d(\(int)i(sig\))596 2575 y({)640 2657
y(CORBA_Environment)87 b(local_ev[1];)640 2739 y
(CORBA_exception_init\(local_ev\);)954 2904 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 2986 y({)1358 3068 y Fi
(CORBA_ORB_shutdown)d(\(global_orb,)i(FALSE,)h(local_ev\);)1313
3150 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 3232 y(})596 3314 y(})596 3479 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 3561 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 3643 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
3725 y(*)h(echo_server_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)640 3808 y(*)h(signals.)88 b(If)45 b(error)f(occures)f
(@ev)i(points)f(to)g(exception)f(object)h(on)640 3890
y(*)h(return.)640 3972 y(*/static)596 4054 y(void)596
4136 y(server_init)d(\(int)762 b(*argc_ptr,)865 4219
y(char)716 b(*argv[],)865 4301 y(CORBA_ORB)491 b(*orb,)865
4383 y(PortableServer_POA)86 b(*poa,)865 4465 y(CORBA_Environment)131
b(*ev\))596 4547 y({)640 4630 y(PortableServer_POAManager)86
b(poa_manager)43 b(=)h(CORBA_OBJECT_NIL;)640 4794 y(CORBA_Environment)
87 b(local_ev[1];)640 4876 y(CORBA_exception_init\(local_ev\);)640
5041 y(/*)45 b(init)f(signal)g(handling)f(*/)640 5123
y(signal\(SIGINT,)88 b(server_shutdown\);)640 5205 y(signal\(SIGTERM,)
43 b(server_shutdown\);)640 5369 y(/*)i(create)f(Object)f(Request)h
(Broker)g(\(ORB\))g(*/)p Black 3601 5585 a Fp(57)p Black
eop
%%Page: 58 62
58 61 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 999 89 a Fi(\(*orb\))44
b(=)g(CORBA_ORB_init\(argc_ptr,)d(argv,)j("orbit-local-orb",)e(ev\);)
640 171 y Fk(if)j(\(etk_raised_exception\(ev\)\))685
253 y(goto)f(failed_orb;)999 418 y Fi(\(*poa\))g(=)g
(\(PortableServer_POA\))685 500 y
(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)640 582 y Fk(if)i(\(etk_raised_exception\(ev\)\))685
664 y(goto)f(failed_poa;)999 829 y Fi(poa_manager)f(=)i
(PortableServer_POA__get_the_POAManage)o(r\(*poa)o(,)39
b(ev\);)640 911 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
993 y(goto)f(failed_poamanager;)685 1158 y Fi
(PortableServer_POAManager_activate\(poa_m)o(anager)o(,)39
b(ev\);)640 1240 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1322 y(goto)f(failed_activation;)999 1486 y Fi(CORBA_Object_release)d
(\(\(CORBA_Object\))i(poa_manager,)g(ev\);)640 1569 y
Fk(return;)640 1733 y(failed_activation:)640 1815 y(failed_poamanager:)
954 1897 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 1979 y(failed_poa:)640 2062 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 2144 y(failed_orb:)640
2226 y(return;)596 2308 y(})596 2473 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
2555 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 2637 y(*)h(return.)640 2719
y(*/)596 2801 y(static)e(void)596 2884 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 2966 y(CORBA_Environment)42 b(*ev\))596 3048
y({)954 3130 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)999 3295 y Fi(CORBA_ORB_run\(orb,)e(ev\);)640
3377 y Fk(if)j(\(etk_raised_exception\(ev\)\))40 b(return;)954
3541 y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f
(signal)g(handler)685 3623 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h
(called)e(*/)596 3706 y(})596 3870 y(/*)h(Releases)f(@servant)h(object)
g(and)g(finally)g(destroys)f(@orb.)h(If)h(error)640 3952
y(*)g(occures)f(@ev)g(points)g(to)g(exception)g(object)f(on)i(return.)
640 4034 y(*/)596 4116 y(static)e(void)596 4199 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 4281 y(PortableServer_POA)87
b(poa,)685 4363 y(CORBA_Object)357 b(ref,)685 4445 y(CORBA_Environment)
87 b(*ev\))596 4527 y({)640 4610 y(PortableServer_ObjectId)131
b(*objid)313 b(=)44 b(NULL;)685 4774 y Fi(objid)g(=)h
(PortableServer_POA_reference_to_id)39 b(\(poa,)44 b(ref,)g(ev\);)640
4856 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)640
5021 y(/*)45 b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89
b(__fini)43 b(destructor)h(*/)685 5103 y Fi
(PortableServer_POA_deactivate_object)39 b(\(poa,)44
b(objid,)g(ev\);)640 5185 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)685 5349 y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g
(FALSE,)f(ev\);)640 5432 y Fk(if)i(\(etk_raised_exception\(ev\)\))40
b(return;)p Black 197 5585 a Fp(58)p Black eop
%%Page: 59 63
59 62 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 171 a
Fk(CORBA_free)43 b(\(objid\);)999 336 y Fi(CORBA_Object_release)e
(\(\(CORBA_Object\))i(poa,)h(ev\);)640 418 y Fk(if)h
(\(etk_raised_exception\(ev\)\))40 b(return;)999 582
y Fi(CORBA_Object_release)h(\(ref,)j(ev\);)640 664 y
Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
829 y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954
911 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 993 y({)1313
1075 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1358 1158
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 1240 y Fk(if)k
(\(etk_raised_exception\(ev\)\))40 b(return;)954 1322
y(})596 1404 y(})596 1569 y(/*)k(Creates)g(servant)f(and)i(registers)e
(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
1651 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 1733 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
1815 y(*)i(on)g(return.)640 1897 y(*/)596 1979 y(static)e(CORBA_Object)
596 2062 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 2144 y(PortableServer_POA)86 b(poa,)775 2226
y(CORBA_Environment)h(*ev\))596 2308 y({)640 2390 y(Examples_BadCall)42
b(ref)j(=)f(CORBA_OBJECT_NIL;)640 2555 y Fi(ref)h(=)f
(impl_Examples_BadCall__create)c(\(poa,)k(ev\);)640 2637
y Fk(if)h(\(etk_raised_exception\(ev\)\))685 2719 y(return)f
(CORBA_OBJECT_NIL;)640 2884 y(return)g(ref;)596 2966
y(})596 3130 y(/*)640 3212 y(*)h(main)640 3295 y(*/)596
3459 y(int)596 3541 y(main)f(\(int)g(argc,)g(char)g(*argv[]\))596
3623 y({)640 3706 y(CORBA_Object)f(servant)h(=)g(CORBA_OBJECT_NIL;)640
3870 y(CORBA_char)f(filename[])h(=)g("badcall.ref";)640
4034 y(CORBA_Environment)87 b(ev[1];)640 4116 y
(CORBA_exception_init\(ev\);)640 4281 y Fi(server_init)43
b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g(ev\);)640
4363 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i(init"\);)640
4527 y Fi(servant)f(=)h(server_activate_service)c(\(global_orb,)h
(root_poa,)i(ev\);)640 4610 y Fk(etk_abort_if_exception\(ev,)d("failed)
i(activating)h(service"\);)640 4774 y(g_print)g(\("Writing)f(service)h
(reference)f(to:)i(\045s\\n\\n",)e(filename\);)640 4938
y Fi(etk_export_object_to_file)e(\(global_orb,)909 5021
y(servant,)909 5103 y(filename,)909 5185 y(ev\);)640
5267 y Fk(etk_abort_if_exception\(ev,)g("failed)i(exporting)h(IOR"\);)
640 5432 y Fi(server_run)f(\(global_orb,)g(ev\);)p Black
3601 5585 a Fp(59)p Black eop
%%Page: 60 64
60 63 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk
(etk_abort_if_exception\(ev,)41 b("failed)i(entering)h(main)g(loop"\);)
640 253 y Fi(server_cleanup)f(\(global_orb,)g(root_poa,)g(servant,)g
(ev\);)640 336 y Fk(etk_abort_if_exception\(ev,)e("failed)i
(cleanup"\);)640 500 y(exit)i(\(0\);)596 582 y(})596
840 y Fq(Example)18 b(5-30.)g(badcall-skelimpl.c)596
1005 y Fk(/*)44 b(This)g(is)h(a)f(template)g(file)g(generated)f(by)i
(command)e(*/)596 1087 y(/*)h(orbit-idl-2)f(--skeleton-impl)f
(badcall.idl)h(*/)596 1169 y(/*)h(User)g(must)g(edit)g(this)h(file,)f
(inserting)f(servant)88 b(*/)596 1251 y(/*)44 b(specific)f(code)i
(between)e(markers.)h(*/)596 1416 y(#include)f("badcall.h")596
1580 y(/***)h(App-specific)e(servant)i(structures)f(***/)596
1745 y(typedef)g(struct)596 1827 y({)730 1909 y(POA_Examples_BadCall)e
(servant;)730 1991 y(PortableServer_POA)h(poa;)730 2155
y(/*)j(------)e(add)i(private)e(attributes)g(here)i(------)e(*/)730
2238 y Fi(CORBA_long)g(counter;)730 2320 y Fk(/*)i(------)e(----------)
g(end)i(------------)e(------)g(*/)596 2402 y(})h
(impl_POA_Examples_BadCall;)596 2566 y(/***)g(Implementation)e(stub)i
(prototypes)f(***/)596 2731 y(static)g(void)h
(impl_Examples_BadCall__fini\(impl_POA_Examp)o(les_Ba)o(dCall)38
b(*)820 2813 y(servant,)43 b(CORBA_Environment)f(*)j(ev\);)596
2977 y(static)e(Examples_BadCall_Foo)596 3060 y
(impl_Examples_BadCall_trigger\(impl_P)o(OA_Exa)o(mples_)o(BadCal)o(l)c
(*)45 b(servant,)999 3142 y(const)f(CORBA_long)f(val,)999
3224 y(Examples_BadCall_Foo)e(*)k(bar,)999 3306 y(CORBA_Environment)d
(*)j(ev\);)596 3471 y(/***)f(epv)g(structures)f(***/)596
3635 y(static)g(PortableServer_ServantBase__epv)d
(impl_Examples_BadCall_base_epv)g(=)k({)730 3717 y(NULL,)134
b(/*)44 b(_private)g(data)g(*/)730 3799 y(\(gpointer\))f(&)i
(impl_Examples_BadCall__fini,)40 b(/*)k(finalize)g(routine)g(*/)730
3882 y(NULL,)134 b(/*)44 b(default_POA)f(routine)h(*/)596
3964 y(};)596 4046 y(static)f(POA_Examples_BadCall__epv)e
(impl_Examples_BadCall_epv)g(=)j({)730 4128 y(NULL,)134
b(/*)44 b(_private)g(*/)730 4292 y(\(gpointer\))f(&)i
(impl_Examples_BadCall_trigger,)596 4457 y(};)596 4621
y(/***)f(vepv)g(structures)f(***/)596 4786 y(static)g
(POA_Examples_BadCall__vepv)e(impl_Examples_BadCall_vepv)f(=)45
b({)730 4868 y(&impl_Examples_BadCall_base_epv,)730 4950
y(&impl_Examples_BadCall_epv,)596 5032 y(};)596 5197
y(/***)f(Stub)g(implementations)e(***/)596 5361 y(static)h
(Examples_BadCall)596 5443 y(impl_Examples_BadCall__create\(Portab)o
(leServ)o(er_POA)38 b(poa,)44 b(CORBA_Environment)e(*)j(ev\))p
Black 197 5585 a Fp(60)p Black eop
%%Page: 61 65
61 64 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fk({)730
171 y(Examples_BadCall)42 b(retval;)730 253 y
(impl_POA_Examples_BadCall)f(*newservant;)730 336 y
(PortableServer_ObjectId)g(*objid;)730 500 y(newservant)i(=)i
(g_new0\(impl_POA_Examples_BadCall,)39 b(1\);)730 582
y(newservant->servant.vepv)i(=)j(&impl_Examples_BadCall_vepv;)730
664 y(newservant->poa)e(=)865 747 y(\(PortableServer_POA\))f
(CORBA_Object_duplicate\(\(CORBA_Object\))e(poa,)44 b(ev\);)730
829 y(POA_Examples_BadCall__init\(\(PortableSer)o(ver_Se)o(rvant\))38
b(newservant,)43 b(ev\);)730 911 y(/*)i(Before)e(servant)h(is)g(going)g
(to)h(be)f(activated)g(all)775 993 y(*)h(private)e(attributes)g(must)h
(be)h(initialized.)88 b(*/)730 1158 y(/*)45 b(------)e(init)h(private)g
(attributes)f(here)h(------)g(*/)730 1240 y Fi(newservant->counter=0;)
86 b(/*)44 b(init)h(*/)730 1322 y Fk(/*)g(------)e(----------)g(end)i
(-------------)d(------)i(*/)730 1486 y(objid)g(=)h
(PortableServer_POA_activate_object\(po)o(a,)39 b(newservant,)k(ev\);)
730 1569 y(CORBA_free\(objid\);)730 1651 y(retval)h(=)g
(PortableServer_POA_servant_to_reference\(po)o(a,)39
b(newservant,)k(ev\);)730 1815 y(return)h(retval;)596
1897 y(})596 2062 y(static)f(void)596 2144 y
(impl_Examples_BadCall__fini)d(\(impl_POA_Examples_BadCall)g(*)45
b(servant,)954 2226 y(CORBA_Environment)d(*)j(ev\))596
2308 y({)730 2390 y(CORBA_Object_release\(\(CORBA_Object\))39
b(servant->poa,)k(ev\);)730 2555 y(/*)i(No)f(further)g(remote)f(method)
h(calls)g(are)h(delegated)e(to)775 2637 y(*)i(servant)e(and)h(you)h
(may)f(free)g(your)g(private)g(attributes.)f(*/)730 2719
y(/*)i(------)e(free)h(private)g(attributes)f(here)h(------)g(*/)730
2801 y Fi(servant->counter=0;)86 b(/*)45 b(reset)f(*/)730
2884 y Fk(/*)h(------)e(----------)g(end)i(-------------)d(------)i(*/)
730 3048 y(POA_Examples_BadCall__fini\(\(PortableSer)o(ver_Se)o
(rvant\))38 b(servant,)44 b(ev\);)730 3212 y(g_free)g(\(servant\);)596
3295 y(})596 3459 y(static)f(Examples_BadCall_Foo)596
3541 y(impl_Examples_BadCall_trigger\(impl_P)o(OA_Exa)o(mples_)o
(BadCal)o(l)c(*)45 b(servant,)999 3623 y(const)f(CORBA_long)f(val,)999
3706 y(Examples_BadCall_Foo)e(*)k(bar,)999 3788 y(CORBA_Environment)d
(*)j(ev\))596 3870 y({)730 3952 y(Examples_BadCall_Foo)c(ret_val)j(=)h
({0.0};)730 4199 y(/*)g(------)133 b(insert)44 b(method)g(code)g(here)
134 b(------)43 b(*/)730 4281 y(switch)h(\(\(servant->counter++\))d
(\045)k(2\))730 4363 y({)730 4445 y(case)f(0:)730 4527
y({)775 4610 y(/*)g(this)g(piece)g(of)h(code)f(demonstrates)f(how)h(to)
h(raise)f(exception)820 4692 y(*)g(without)g(any)g(further)g(parameter)
f(*/)775 4856 y(Examples_BadCall_Foo)e(dummy_foo)j(=)g({0.0};)775
5021 y(/*)g(after)g(user)g(has)h(assinged)e(exception)h(attributes,)f
(user)h(may)820 5103 y(*)g(not)h(touch)f(the)g(data)g(anymore,)g
(ownership)f(is)h(handed)g(over)g(to)820 5185 y(*)g(CORBA)g
(environment)88 b(*/)1089 5267 y Fi(CORBA_exception_set)41
b(\(ev,)775 5349 y(CORBA_USER_EXCEPTION,)2030 5432 y
(ex_Examples_BadCall_NoParam,)p Black 3601 5585 a Fp(61)p
Black eop
%%Page: 62 66
62 65 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 2030 89 a
Fi(NULL\);)44 b(/*)g(exception)g(has)g(no)h(members)e(*/)820
253 y Fk(/*)h(on)h(exception)e(you)h(need)g(not)h(to)f(care)g(about)g
(out-argument)820 336 y(*)g(@bar,)g(but)h(due)f(to)g(programming)f
(language)h(C)h(it)f(is)h(necessary)820 418 y(*)f(to)h(return)f(valid)g
(value)g(*/)1089 500 y(return)f(dummy_foo;)1089 582 y(break;)730
664 y(})730 747 y(case)h(1:)730 829 y({)775 911 y(/*)g(this)g(piece)g
(of)h(code)f(demonstrates)f(how)h(to)h(raise)f(exception)820
993 y(*)g(that)g(has)h(a)f(string)g(as)h(parameter)e(*/)775
1158 y(Examples_BadCall_Foo)e(dummy_foo)j(=)g({0.0};)775
1322 y(Examples_BadCall_SingleParam*)c(ex_parameters)820
1404 y(=)k(Examples_BadCall_SingleParam__alloc\(\);)775
1569 y(ex_parameters->mesg)820 1651 y(=)g(CORBA_string_dup)e(\("raised)
i(in)g(\\"")h(__FILE__)e("\\""\);)775 1815 y(/*)h(after)g(user)g(has)h
(assinged)e(exception)h(attributes,)f(user)h(may)820
1897 y(*)g(not)h(touch)f(the)g(data)g(anymore,)g(ownership)f(is)h
(handed)g(over)g(to)820 1979 y(*)g(CORBA)g(environment)88
b(*/)1089 2062 y Fi(CORBA_exception_set)41 b(\(ev,)775
2144 y(CORBA_USER_EXCEPTION,)2030 2226 y
(ex_Examples_BadCall_SingleParam,)2030 2308 y(ex_parameters\);)h(/*)j
(exception)e(has)i(members)e(*/)820 2473 y Fk(/*)h(on)h(exception)e
(you)h(need)g(not)h(to)f(care)g(about)g(out-argument)820
2555 y(*)g(@bar,)g(but)h(due)f(to)g(programming)f(language)h(C)h(it)f
(is)h(necessary)820 2637 y(*)f(to)h(return)f(valid)g(value)g(*/)1089
2719 y(return)f(dummy_foo;)1089 2801 y(break;)730 2884
y(})730 2966 y(/*)i(this)f(code)g(will)g(never)g(raise)g(exception)f
(DoubleParam)g(*/)730 3130 y(default:)1089 3212 y(g_assert_not_reached)
e(\(\);)730 3295 y(})730 3377 y(/*)k(------)e(----------)g(end)i
(------------)e(------)g(*/)730 3541 y(return)h(ret_val;)596
3623 y(})596 4106 y Fl(Compiling)25 b(c)n(lient)h(&)g(ser)q(ver)596
4371 y Fq(Example)18 b(5-31.)g(Make\002le)596 4537 y
Fk(PREFIX)43 b(?=)i(/usr)596 4619 y(CC)f(=)h(gcc)596
4701 y(TARGETS=badcall-client)c(badcall-server)596 4783
y(ORBIT_IDL=$\(PREFIX\)/bin/orbit-idl-2)596 4865 y(CFLAGS=-g)i
(-DORBIT2=1)g(-D_REENTRANT)g(-I$\(PREFIX\)/include/orbit-2.0)d(\\)999
4948 y(-I$\(PREFIX\)/include/linc-1.0)g(-I$\(PREFIX\)/include/glib-2.0)
g(\\)999 5030 y(-I$\(PREFIX\)/lib/glib-2.0/include)596
5112 y(LDFLAGS=)j(-Wl,--export-dynamic)86 b(-L$\(PREFIX\)/lib)43
b(-lORBit-2)g(-llinc)h(-lgmodule-2.0)e(\\)1178 5194 y(-ldl)i
(-lgobject-2.0)f(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g(-lm)358
b(\\)1178 5276 y(-lORBitCosNaming-2)596 5441 y(IDLOUT=badcall-common.c)
40 b(badcall-stubs.c)j(badcall-skels.c)f(badcall.h)p
Black 197 5585 a Fp(62)p Black eop
%%Page: 63 67
63 66 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 171 a
Fk(all:)44 b($\(IDLOUT\))f(badcall-client)f(badcall-server)596
336 y(badcall-server.o:)f(badcall-server.c)i(badcall-skelimpl.c)596
500 y(badcall-client)f(:)j(badcall-client.o)d(badcall-stubs.o)g
(badcall-common.o)g(examples-toolkit.o)596 582 y(badcall-server)g(:)j
(badcall-server.o)d(badcall-skels.o)g(badcall-common.o)g
(examples-toolkit.o)596 747 y($\(IDLOUT\):)h(badcall.idl)640
829 y($\(ORBIT_IDL\))g(badcall.idl)596 993 y(\045-skelimpl.c:)f
(\045.idl)640 1075 y($\(ORBIT_IDL\))h(--skeleton-impl)f($^)596
1240 y(clean:)640 1322 y(rm)j(-rf)f(*.o)g(*~)h($\(IDLOUT\))e(*.ior)h
(*.ref)596 1486 y(distclean:)f(clean)640 1569 y(rm)i(-rf)f
(badcall-client)f(badcall-server)197 2144 y Fo(NameResolve)27
b(c)n(lient)h(&)f(ser)q(ver)596 2419 y Fq(Example)18
b(5-32.)g(name-resolve.idl)596 2584 y Fk(module)43 b(Examples)h({)640
2666 y(module)g(NameResolve)f({)685 2748 y(interface)g(Service)h({)730
2831 y(void)g(echoString)f(\(in)i(string)e(input\);)685
2913 y(};)640 2995 y(};)596 3077 y(};)596 3251 y($)h
Fi(orbit-idl-2)f(--skeleton-impl)f(name-resolve.idl)76
b Fs(geenrates)33 b(all)g(the)h(\002les)g(we)596 3343
y(will)21 b(use)g(in)g(this)h(example.)p 596 3536 3102
4 v 596 3536 V 596 3663 4 128 v 600 3638 a Ft(File)p
1628 3663 V 1063 w(Usa)o(g)q(e)h(f)n(or)g(Client)p 2661
3663 V 384 w(Usa)o(g)q(e)g(f)n(or)g(Ser)q(ver)p 3694
3663 V 596 3667 3102 4 v 596 3667 V 596 3794 4 128 v
600 3769 a Fs(name-r)o(esolve.h)p 1628 3794 V 797 w(r)o(eadonly)p
2661 3794 V 705 w(r)o(eadonly)p 3694 3794 V 596 3798
3102 4 v 596 3798 V 596 3925 4 128 v 600 3900 a(name-r)o
(esolve-common.c)p 1628 3925 V 459 w(r)o(eadonly)p 2661
3925 V 705 w(r)o(eadonly)p 3694 3925 V 596 3929 3102
4 v 596 3929 V 596 4056 4 128 v 600 4031 a(name-r)o(esolve-stubs.c)p
1628 4056 V 587 w(r)o(eadonly)p 2661 4056 V 855 w(-)p
3694 4056 V 596 4060 3102 4 v 596 4060 V 596 4187 4 128
v 600 4162 a(name-r)o(esolve-skels.c)p 1628 4187 V 750
w(-)p 2661 4187 V 855 w(r)o(eadonly)p 3694 4187 V 596
4191 3102 4 v 596 4191 V 596 4318 4 128 v 600 4293 a(name-r)o
(esolve-skelimpl.c)p 1628 4318 V 614 w(-)p 2661 4318
V 608 w(template)d(for)h(user)f(code)p 3694 4318 V 596
4322 3102 4 v 596 4322 V 596 4471 a(Files)c(r)o(emaining)h(to)g(write)f
(ar)o(e)f(listed)i(in)g(following)g(table,)f(starting)h(with)g
Fp(name-r)o(esolve-client.c)596 4562 y Fs(in)k(following)h(chapter)-6
b(.)p 596 4755 3099 4 v 596 4755 V 596 4883 4 128 v 600
4858 a(name-r)o(esolve-client.c)p 2143 4883 V 766 w(write)21
b(the)g(client)g(code)p 3691 4883 V 596 4886 3099 4 v
596 4886 V 596 5105 4 220 v 600 4989 a(name-r)o(esolve-server)-6
b(.c)p 2143 5105 V 744 w(write)21 b(the)g(generic)g(code)f(for)h
(servant)2146 5080 y(cr)o(eation)p 3691 5105 V 596 5108
3099 4 v 596 5108 V Black 3601 5585 a Fp(63)p Black eop
%%Page: 64 68
64 67 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fl(Example-T)-7
b(oolkit)25 b(Helper)o(s)596 355 y Fq(Example)18 b(5-33.)g
(example-toolkit.c\(etk_ge)o(t_)o(nam)o(e_)o(service)o(\))596
602 y Fk(/**)44 b(resolves)f(default)h(name-service,)f(usually)g(given)
h(to)h(application)e(as)640 684 y(*)i(command)f(line)g(argument)f
("-ORBInitRef)g(NameService=IOR:0100000028..",)640 767
y(*)i(or)g(since)e(release)h(2.8.0)g(corbalocs)f(in)i(form)f(of)h(URL)f
(can)g(be)h(used,)f(eg:)640 849 y(*)h("-ORBInitRef)e
(NameService=corbaloc:iiop:HOSTNAME:POR)o(T/Name)o(Servic)o(e\04500")
640 931 y(*/)596 1013 y(CosNaming_NamingContext)596 1095
y(etk_get_name_service)e(\(CORBA_ORB)402 b(orb,)954 1178
y(CORBA_Environment)42 b(*ev\))596 1260 y({)954 1342
y(CORBA_char)133 b(*str=NULL;)954 1424 y Fi(CORBA_Object)88
b(ref)1313 1506 y(=)44 b(\(CORBA_Object\))f
(CORBA_ORB_resolve_initial_references\(or)o(b,)1223 1588
y("NameService",)3734 1671 y(ev\);)954 1753 y Fk(if)i
(\(etk_raised_exception\(ev\)\))40 b(return)k(CORBA_OBJECT_NIL;)954
1917 y(return)g(\(CosNaming_NamingContext\))d(ref;)596
1999 y(})596 2257 y Fq(Example)18 b(5-34.)g(example-toolkit.c\(etk_n)o
(ame)o(_s)o(ervice)o(_bi)o(nd\))596 2422 y Fk(/**)44
b(calculate)f(length)h(of)g(NULL)h(terminated)e(string)h(vector)f(*/)
596 2504 y(static)596 2586 y(guint)596 2669 y(id_vec_len)g(\(char)h
(*id_vec[]\))596 2751 y({)640 2833 y(gint)h(i=0;)640
2915 y(for)g(\(i)f(=)h(0;)f(id_vec[i];)f(++i\);)640 2997
y(return)h(i;)596 3080 y(})596 3244 y(/*)g(binds)g(@servant)f(object)h
(reference)g(to)g(unique)g(@name)g(at)640 3326 y(*)h(@name_service.)d
(@name)i(is)h(a)g(NULL)f(terminated)f(list)h(of)h(strings)640
3408 y(*)g(\(CORBA_char*\).)d(If)j(error)f(occures)g(@ev)g(points)g(to)
g(exception)g(object)f(on)640 3490 y(*)i(return.)640
3573 y(*/)596 3655 y(void)596 3737 y(etk_name_service_bind)c
(\(CosNaming_NamingContext)85 b(name_service,)999 3819
y(CORBA_Object)581 b(servant,)999 3901 y(gchar)851 b(*id_vec[],)999
3984 y(CORBA_Environment)311 b(*ev\))596 4066 y({)640
4148 y(gint)45 b(i)f(=)h(0;)640 4230 y(gint)g(len)f(=)g(id_vec_len)g
(\(id_vec\);)640 4395 y(/*)h(Allocate)e(a)i(CosNaming::Name)d
(\(sequence)i(of)g(CosNaming::NameComponent\))d(*/)640
4477 y(CosNaming_Name)i(*name)h(=)g(CosNaming_Name__alloc\(\);)640
4641 y(name->_buffer)f(=)i(CORBA_sequence_CosNaming_NameComponen)o
(t_allo)o(cbuf\(l)o(en\);)640 4723 y(name->_maximum)e(=)h(len;)640
4806 y(name->_length)88 b(=)44 b(0;)640 4970 y(/*)h(Relinquish)e
(ownership)g(of)i(the)f(NameComponent)f(to)h(the)999
5052 y(*)h(sequence.)e(When)h(CORBA_free)f(is)i(called)f(on)g(it)h
(later,)e(the)999 5134 y(*)i(NameComponent)d(will)i(be)h(freed)f(*/)640
5217 y(CORBA_sequence_set_release)d(\(name,)j(TRUE\);)640
5381 y(/*)h(iterate)e(components)h(of)g(name)g(and)h(create)e
(sub-context)685 5463 y(*)i(\(directory\))e(if)h(needed)g(*/)p
Black 197 5585 a Fp(64)p Black eop
%%Page: 65 69
65 68 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 89 a Fk(for)45
b(\(i)f(=)h(0;)f(i)h(<)g(len;)f(++i\))g({)685 171 y(name->_length)f(=)h
(i+1;)685 253 y(name->_buffer[i].id)131 b(=)45 b
(CORBA_string_dup\(id_vec[i]\);)685 336 y(name->_buffer[i].kind)c(=)k
(CORBA_string_dup\(""\);)685 418 y(/*)g(don't)f(know)g(what)g('kind')g
(shall)g(be)g(good)g(for)h(*/)685 582 y(if)g(\(name->_length)d(<)j
(len\))685 664 y({)730 747 y(/*)g(create)e(a)i(sub-context)e(*/)730
829 y Fi(CosNaming_NamingContext)e(nc)j(=)775 911 y
(CosNaming_NamingContext_bind_new_conte)o(xt)39 b(\(name_service,)1089
993 y(name,)1089 1075 y(ev\);)730 1158 y Fk(if)45 b
(\(etk_raised_exception_is_a)40 b(\(ev,)1178 1240 y
(ex_CosNaming_NamingContext_AlreadyBound\)\))730 1322
y({)775 1404 y(/*)k(ignore)g(-)h(ctx)f(allread)g(exists,)f(this)820
1486 y(*)h(is)h(not)f(dramatic)g(*/)775 1569 y(CORBA_exception_free)d
(\(ev\);)730 1651 y(})730 1733 y(else)j(if)h(\(etk_raised_exception)c
(\(ev\)\))730 1815 y({)775 1897 y(/*)j(critical)g(-)g(unexpected)g
(exception)88 b(*/)775 1979 y(CORBA_free)43 b(\(name\);)775
2062 y(return;)730 2144 y(})685 2226 y(})685 2308 y(else)685
2390 y({)730 2473 y(/*)i(Bind)f(object)f(to)i(last)f(context)g(-)g(use)
h('rebind')775 2555 y(*)g(operation)e(in)h(case)g(the)h(name)f(has)g
(been)775 2637 y(*)h(registered)e(allready)g(in)i(context)e(-)i(note,)f
(this)775 2719 y(*)h(might)e(interfere)h(with)g(other)g(service)g
(choosing)775 2801 y(*)h(same)f(name)g(*/)730 2884 y
Fi(CosNaming_NamingContext_rebind)c(\(name_service,)909
2966 y(name,)909 3048 y(servant,)909 3130 y(ev\);)730
3212 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))40 b({)775
3295 y(/*)k(critical)g(-)g(can)h(not)f(bind)g(object)g(*/)775
3377 y(CORBA_free)f(\(name\);)775 3459 y(return;)730
3541 y(})685 3623 y(})640 3706 y(})640 3870 y(CORBA_free)g(\(name\);)
640 3952 y(return;)596 4034 y(})596 4292 y Fq(Example)18
b(5-35.)g(example-toolkit.c\(etk_n)o(ame)o(_s)o(ervice)o(_resol)o(ve\))
596 4457 y Fk(/*)44 b(resolves)f(object)h(reference)g(@return)f(with)h
(unique)g(@name)g(at)640 4539 y(*)90 b(@name_service.)42
b(@name)i(is)h(a)f(NULL)h(terminated)e(list)h(of)g(strings)640
4621 y(*)90 b(\(CORBA_char*\).)d(If)45 b(error)f(occures)f(@ev)i
(points)e(to)i(*)g(exception)e(object)640 4703 y(*)90
b(on)44 b(return.)640 4786 y(*/)596 4868 y(CORBA_Object)596
4950 y(etk_name_service_resolve)c(\(CosNaming_NamingContext)86
b(name_service,)820 5032 y(gchar)851 b(*id_vec[],)820
5114 y(CORBA_Environment)311 b(*ev\))596 5197 y({)640
5279 y(CORBA_Object)43 b(retval)h(=)h(CORBA_OBJECT_NIL;)640
5361 y(gint)g(i)f(=)h(0;)640 5443 y(gint)g(len)f(=)g(id_vec_len)g
(\(id_vec\);)p Black 3601 5585 a Fp(65)p Black eop
%%Page: 66 70
66 69 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 171 a
Fk(/*)45 b(Allocate)e(a)i(CosNaming::Name)d(\(sequence)i(of)g
(CosNaming::NameComponent\))d(*/)640 253 y(CosNaming_Name)i(*name)h(=)g
(CosNaming_Name__alloc\(\);)640 418 y(g_assert)g(\(id_vec_len)f
(\(id_vec\))g(>)i(0\);)640 582 y(name->_buffer)e(=)i
(CORBA_sequence_CosNaming_NameComponen)o(t_allo)o(cbuf\(l)o(en\);)640
664 y(name->_maximum)e(=)h(len;)640 747 y(name->_length)88
b(=)44 b(0;)640 911 y(/*)h(Relinquish)e(ownership)g(of)i(the)f
(NameComponent)f(to)h(the)999 993 y(*)h(sequence.)e(When)h(CORBA_free)f
(is)i(called)f(on)g(it)h(later,)e(the)999 1075 y(*)i(NameComponent)d
(will)i(be)h(freed)f(*/)640 1158 y(CORBA_sequence_set_release)d
(\(name,)j(TRUE\);)640 1322 y(/*)h(iterate)e(components)h(of)g(name)g
(and)h(create)e(sub-context)685 1404 y(*)i(\(directory\))e(if)h(needed)
g(*/)640 1486 y(for)h(\(i)f(=)h(0;)f(i)h(<)g(len;)f(++i\))g({)685
1569 y(name->_length)f(=)h(i+1;)685 1651 y(name->_buffer[i].id)131
b(=)45 b(CORBA_string_dup\(id_vec[i]\);)685 1733 y
(name->_buffer[i].kind)c(=)k(CORBA_string_dup\(""\);)685
1815 y(/*)g(don't)f(know)g(what)g('kind')g(shall)g(be)g(good)g(for)h
(*/)640 1897 y(})640 2062 y Fi(retval)f(=)h
(CosNaming_NamingContext_resolve)39 b(\(name_service,)954
2144 y(name,)954 2226 y(ev\);)640 2390 y Fk(if)45 b
(\(etk_raised_exception)c(\(ev\)\))j({)685 2473 y(CORBA_free)f
(\(name\);)685 2555 y(return)h(CORBA_OBJECT_NIL;)640
2637 y(})640 2801 y(return)g(retval;)596 2884 y(})596
3366 y Fl(NameResolve)24 b(c)n(lient)596 3632 y Fq(Example)18
b(5-36.)g(name-resolve-client.c)596 3797 y Fk(/*)640
3879 y(*)45 b(Name-Resolve)e(client)h(program..)f(Hacked)h(by)89
b(Frank)44 b(Rehberger)640 3961 y(*)h(<F.Rehberger@xtradyne.de>)640
4043 y(*)640 4126 y(*)g(Client)f(connects)f(to)i(name-service)e(and)h
(resolves)f(object)h(reference)g(from)g(server)g(and)640
4208 y(*)h(forwards)e(console)h(input)g(to)h(name-resolve-server.)c(A)k
(dot)f(.)h(as)f(single)g(character)640 4290 y(*)h(in)g(input)e
(terminates)h(the)g(client.)640 4372 y(*/)596 4537 y(#include)f
(<stdio.h>)596 4619 y(#include)g(<signal.h>)596 4701
y(#include)g(<orbit/orbit.h>)596 4865 y(/*)640 4948 y(*)i(This)f
(header)g(file)g(was)g(generated)g(from)g(the)g(idl)640
5030 y(*/)596 5194 y(#include)f("name-resolve.h")596
5276 y(#include)g("examples-toolkit.h")e(/*)k(provides)e
(etk_abort_if_exception)f(*/)p Black 197 5585 a Fp(66)p
Black eop
%%Page: 67 71
67 70 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fk(static)43
b(CORBA_ORB)88 b(global_orb)44 b(=)g(CORBA_OBJECT_NIL;)e(/*)j(global)f
(orb)g(*/)596 253 y(/*)g(Is)h(called)e(in)i(case)f(of)g(process)g
(signals.)g(it)g(invokes)g(CORBA_ORB_shutdown\(\))640
336 y(*)h(function,)e(which)h(will)g(terminate)g(the)g(processes)f
(main)i(loop.)640 418 y(*/)596 500 y(static)596 582 y(void)596
664 y(client_shutdown)d(\(int)i(sig\))596 747 y({)954
829 y(CORBA_Environment)87 b(local_ev[1];)954 911 y
(CORBA_exception_init\(local_ev\);)954 1075 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 1158 y({)1313 1240 y Fi
(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i(local_ev\);)1313
1322 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 1404 y(})596 1486 y(})596 1733 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 1815 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 1897 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
1979 y(*)h(echo_client_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)640 2062 y(*)h(signals.)88 b(If)45 b(error)f(occures)f
(@ev)i(points)f(to)g(exception)f(object)h(on)640 2144
y(*)h(return.)640 2226 y(*/)596 2308 y(static)596 2390
y(void)596 2473 y(client_init)d(\(int)672 b(*argc_ptr,)865
2555 y(char)626 b(*argv[],)1178 2637 y(CORBA_ORB)402
b(*orb,)1178 2719 y(CORBA_Environment)42 b(*ev\))596
2801 y({)954 2884 y(/*)j(init)f(signal)g(handling)f(*/)954
3048 y(signal\(SIGINT,)87 b(client_shutdown\);)954 3130
y(signal\(SIGTERM,)42 b(client_shutdown\);)954 3295 y(/*)j(create)e
(Object)h(Request)g(Broker)g(\(ORB\))g(*/)954 3459 y
Fi(\(*orb\))g(=)h(CORBA_ORB_init\(argc_ptr,)40 b(argv,)k
("orbit-local-orb",)e(ev\);)954 3541 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)596 3623
y(})596 3788 y(/*)k(Releases)f(@servant)h(object)g(and)g(finally)g
(destroys)f(@orb.)h(If)h(error)640 3870 y(*)g(occures)f(@ev)g(points)g
(to)g(exception)g(object)f(on)i(return.)640 3952 y(*/)596
4034 y(static)596 4116 y(void)596 4199 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 4281 y(CORBA_Object)625 b(service,)1313
4363 y(CORBA_Environment)356 b(*ev\))596 4445 y({)954
4527 y(/*)45 b(releasing)e(managed)h(object)f(*/)954
4610 y Fi(CORBA_Object_release\(service,)d(ev\);)954
4692 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))40 b(return;)954
4856 y(/*)45 b(tear)f(down)g(the)g(ORB)h(*/)954 4938
y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 5021 y({)1313
5103 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1313 5185
y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)1313 5267 y Fk(if)j
(\(etk_raised_exception\(ev\)\))d(return;)954 5349 y(})596
5432 y(})p Black 3601 5585 a Fp(67)p Black eop
%%Page: 68 72
68 71 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 171 a
Fk(/**)640 253 y(*)640 336 y(*/)596 418 y(static)596
500 y(void)596 582 y(client_run)43 b(\(Examples_NameResolve_Service)84
b(service,)820 664 y(CORBA_Environment)535 b(*ev\))596
747 y({)640 829 y(char)45 b(filebuffer[1024+1];)640 993
y(g_print\("Type)e(any)h(text)g(to)h(console)f(to)g(be)h(sent)f(to)g
(server,\\n")685 1075 y("a)h(single)e(dot)i(in)f(line)g(will)h
(terminate)e(input\\n"\);)640 1240 y(while\()h
(fgets\(filebuffer,1024,stdin\))c(\))45 b({)685 1322
y(if\()g(filebuffer[0])d(==)j('.')f(&&)g(filebuffer[1])f(==)i('\\n')f
(\))730 1404 y(break;)685 1569 y(/*)h(chop)f(the)g(newline)g(off)g(*/)
685 1651 y(filebuffer[strlen\(filebuffer\)-1])c(=)k('\\0';)685
1815 y(/*)h(using)f(the)g(echoString)f(method)h(in)g(the)h(Echo)f
(object)730 1897 y(*)h(this)f(is)g(defined)g(in)g(the)h(echo.h)f
(header,)f(compiled)h(from)730 1979 y(*)h(echo.idl)e(*/)685
2144 y Fi(Examples_NameResolve_Service_echoString)38
b(\(service,)954 2226 y(filebuffer,)954 2308 y(ev\);)685
2390 y Fk(if)45 b(\(etk_raised_exception)c(\(ev\)\))j(return;)640
2473 y(})596 2555 y(})596 2719 y(/*)640 2801 y(*)h(main)640
2884 y(*/)596 2966 y(int)596 3048 y(main\(int)e(argc,)h(char*)g
(argv[]\))596 3130 y({)640 3212 y(Examples_NameResolve_Service)c
(service)k(=)h(CORBA_OBJECT_NIL;)640 3295 y(CosNaming_NamingContext)c
(name_service)i(=)i(CORBA_OBJECT_NIL;)640 3459 y(gchar)f(*id[])g(=)h
({"Examples",)e("NameResolve",)f("Service",)h(NULL};)954
3623 y(CORBA_Environment)f(ev[1];)954 3706 y
(CORBA_exception_init\(ev\);)640 3870 y Fi(client_init)h(\(&argc,)h
(argv,)g(&global_orb,)f(ev\);)640 3952 y Fk
(etk_abort_if_exception\(ev,)e("init)j(failed"\);)640
4116 y(g_print)g(\("Resolving)f(service)h(reference)f(from)h
(name-service)f(with)h(id)h(\\"\045s/\045s/\045s\\"\\n",)d(id[0],)i
(id[1],)f(id[2]\);)640 4281 y Fi(name_service)g(=)i
(etk_get_name_service)c(\(global_orb,)i(ev\);)640 4363
y Fk(etk_abort_if_exception\(ev,)e("failed)i(resolving)h
(name-service"\);)640 4527 y Fi(service)730 4610 y(=)h
(\(Examples_NameResolve_Service\))685 4692 y(etk_name_service_resolve)c
(\(name_service,)h(id,)j(ev\);)640 4774 y Fk
(etk_abort_if_exception\(ev,)c("failed)i(resolving)h(service)f(at)i
(name-service"\);)640 4938 y Fi(client_run)e(\(service,)h(ev\);)954
5021 y Fk(etk_abort_if_exception\(ev,)d("service)i(not)h(reachable"\);)
640 5185 y Fi(client_cleanup)f(\(global_orb,)g(service,)g(ev\);)954
5267 y Fk(etk_abort_if_exception\(ev,)e("cleanup)i(failed"\);)954
5432 y(exit)h(\(0\);)p Black 197 5585 a Fp(68)p Black
eop
%%Page: 69 73
69 72 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fk(})596
571 y Fl(NameResolve)j(ser)q(ver)596 837 y Fq(Example)18
b(5-37.)g(name-resolve-server)-5 b(.c)596 1002 y Fk(/*)640
1085 y(*)45 b(echo-server)e(program.)g(Hacked)h(from)g(Echo)h(test)f
(suite)g(by)640 1167 y(*)h(<birney@sanger.ac.uk>,)c(ORBit2)j(udpate)g
(by)g(Frank)g(Rehberger)640 1249 y(*)h(<F.Rehberger@xtradyne.de>)640
1331 y(*/)596 1495 y(#include)e(<stdio.h>)596 1578 y(#include)g
(<stdlib.h>)596 1660 y(#include)g(<string.h>)596 1742
y(#include)g(<signal.h>)596 1824 y(#include)g(<orbit/orbit.h>)596
1989 y(#include)g("name-resolve-skelimpl.c")596 2071
y(#include)g("examples-toolkit.h")e(/*)k(provides)e
(etk_abort_if_exception)f(*/)596 2235 y(static)h(CORBA_ORB)447
b(global_orb)43 b(=)i(CORBA_OBJECT_NIL;)d(/*)i(global)g(orb)h(*/)596
2317 y(static)e(PortableServer_POA)f(root_poa)133 b(=)45
b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596 2482 y(/*)f(Is)h(called)e(in)
i(case)f(of)g(process)g(signals.)g(it)g(invokes)g
(CORBA_ORB_shutdown\(\))640 2564 y(*)h(function,)e(which)h(will)g
(terminate)g(the)g(processes)f(main)i(loop.)640 2646
y(*/)596 2728 y(static)596 2811 y(void)596 2893 y(server_shutdown)d
(\(int)i(sig\))596 2975 y({)640 3057 y(CORBA_Environment)87
b(local_ev[1];)640 3139 y(CORBA_exception_init\(local_ev\);)954
3304 y(if)45 b(\(global_orb)e(!=)h(CORBA_OBJECT_NIL\))954
3386 y({)1313 3468 y Fi(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i
(local_ev\);)1313 3550 y Fk(etk_abort_if_exception)d(\(local_ev,)i
("caught)h(exception"\);)954 3632 y(})596 3715 y(})596
3879 y(/*)g(Inits)g(ORB)g(@orb)g(using)g(@argv)g(arguments)g(for)g
(configuration.)f(For)h(each)640 3961 y(*)h(ORBit)f(options)g(consumed)
f(from)h(vector)g(@argv)g(the)g(counter)g(of)h(@argc_ptr)640
4043 y(*)g(will)f(be)h(decremented.)d(Signal)i(handler)g(is)g(set)h(to)
f(call)640 4126 y(*)h(echo_server_shutdown)c(function)j(in)g(case)h(of)
f(SIGINT)g(and)g(SIGTERM)640 4208 y(*)h(signals.)88 b(If)45
b(error)f(occures)f(@ev)i(points)f(to)g(exception)f(object)h(on)640
4290 y(*)h(return.)640 4372 y(*/static)596 4454 y(void)596
4537 y(server_init)d(\(int)762 b(*argc_ptr,)865 4619
y(char)716 b(*argv[],)865 4701 y(CORBA_ORB)491 b(*orb,)865
4783 y(PortableServer_POA)86 b(*poa,)865 4865 y(CORBA_Environment)131
b(*ev\))596 4948 y({)640 5030 y(PortableServer_POAManager)86
b(poa_manager)43 b(=)h(CORBA_OBJECT_NIL;)640 5194 y(CORBA_Environment)
87 b(local_ev[1];)640 5276 y(CORBA_exception_init\(local_ev\);)640
5441 y(/*)45 b(init)f(signal)g(handling)f(*/)p Black
3601 5585 a Fp(69)p Black eop
%%Page: 70 74
70 73 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk(signal\(SIGINT,)
88 b(server_shutdown\);)640 171 y(signal\(SIGTERM,)43
b(server_shutdown\);)640 336 y(/*)i(create)f(Object)f(Request)h(Broker)
g(\(ORB\))g(*/)954 500 y Fi(\(*orb\))g(=)h(CORBA_ORB_init\(argc_ptr,)40
b(argv,)k("orbit-local-orb",)e(ev\);)640 582 y Fk(if)j
(\(etk_raised_exception\(ev\)\))685 664 y(goto)f(failed_orb;)954
829 y Fi(\(*poa\))g(=)h(\(PortableServer_POA\))685 911
y(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)640 993 y Fk(if)i(\(etk_raised_exception\(ev\)\))685
1075 y(goto)f(failed_poa;)954 1240 y Fi(poa_manager)f(=)i
(PortableServer_POA__get_the_POAManager)o(\(*poa,)38
b(ev\);)640 1322 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1404 y(goto)f(failed_poamanager;)640 1569 y Fi
(PortableServer_POAManager_activate\(poa_ma)o(nager,)38
b(ev\);)640 1651 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1733 y(goto)f(failed_activation;)954 1897 y Fi(CORBA_Object_release)e
(\(\(CORBA_Object\))g(poa_manager,)h(ev\);)640 1979 y
Fk(return;)640 2144 y(failed_activation:)640 2226 y(failed_poamanager:)
954 2308 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 2390 y(failed_poa:)640 2473 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 2555 y(failed_orb:)640
2637 y(return;)596 2719 y(})596 2884 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
2966 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 3048 y(*)h(return.)640 3130
y(*/)596 3212 y(static)e(void)596 3295 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 3377 y(CORBA_Environment)42 b(*ev\))596 3459
y({)954 3541 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)954 3706 y Fi(CORBA_ORB_run\(orb,)e(ev\);)640
3788 y Fk(if)j(\(etk_raised_exception\(ev\)\))40 b(return;)954
3952 y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f
(signal)g(handler)685 4034 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h
(called)e(*/)596 4116 y(})596 4281 y(/*)h(Releases)f(@servant)h(object)
g(and)g(finally)g(destroys)f(@orb.)h(If)h(error)640 4363
y(*)g(occures)f(@ev)g(points)g(to)g(exception)g(object)f(on)i(return.)
640 4445 y(*/)596 4527 y(static)e(void)596 4610 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 4692 y(PortableServer_POA)87
b(poa,)685 4774 y(CORBA_Object)357 b(ref,)685 4856 y(CORBA_Environment)
87 b(*ev\))596 4938 y({)640 5021 y(PortableServer_ObjectId)131
b(*objid)313 b(=)44 b(NULL;)640 5185 y Fi(objid)g(=)h
(PortableServer_POA_reference_to_id)39 b(\(poa,)44 b(ref,)g(ev\);)640
5267 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)640
5432 y(/*)45 b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89
b(__fini)43 b(destructor)h(*/)p Black 197 5585 a Fp(70)p
Black eop
%%Page: 71 75
71 74 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 89 a Fi
(PortableServer_POA_deactivate_object)39 b(\(poa,)44
b(objid,)g(ev\);)640 171 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)640 336 y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g
(FALSE,)g(ev\);)640 418 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)640 582 y(CORBA_free)j(\(objid\);)954 747 y
Fi(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa,)i(ev\);)640
829 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
993 y Fi(CORBA_Object_release)i(\(ref,)i(ev\);)640 1075
y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
1240 y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954
1322 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 1404
y({)1313 1486 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1313
1569 y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 1651 y
Fk(if)k(\(etk_raised_exception\(ev\)\))40 b(return;)954
1733 y(})596 1815 y(})596 1979 y(/*)k(Creates)g(servant)f(and)i
(registers)e(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
2062 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 2144 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
2226 y(*)i(on)g(return.)640 2308 y(*/)596 2390 y(static)e(CORBA_Object)
596 2473 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 2555 y(PortableServer_POA)86 b(poa,)775 2637
y(CORBA_Environment)h(*ev\))596 2719 y({)640 2801 y
(Examples_NameResolve_Service)40 b(ref)45 b(=)f(CORBA_OBJECT_NIL;)640
2966 y Fi(ref)h(=)f(impl_Examples_NameResolve_Service__create)38
b(\(poa,)44 b(ev\);)640 3048 y Fk(if)h(\(etk_raised_exception\(ev\)\))
685 3130 y(return)f(CORBA_OBJECT_NIL;)640 3295 y(return)g(ref;)596
3377 y(})596 3541 y(/*)640 3623 y(*)h(main)640 3706 y(*/)596
3870 y(int)596 3952 y(main)f(\(int)g(argc,)g(char)g(*argv[]\))596
4034 y({)640 4116 y(CORBA_Object)f(servant)761 b(=)45
b(CORBA_OBJECT_NIL;)640 4199 y(CosNaming_NamingContext)c(name_service)i
(=)i(CORBA_OBJECT_NIL;)640 4363 y(gchar)f(*id[])g(=)h({"Examples",)e
("NameResolve",)f("Service",)h(NULL};)640 4527 y(CORBA_Environment)87
b(ev[1];)640 4610 y(CORBA_exception_init\(ev\);)640 4774
y Fi(server_init)43 b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g
(ev\);)640 4856 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i
(init"\);)640 5021 y Fi(servant)f(=)h(server_activate_service)c
(\(global_orb,)h(root_poa,)i(ev\);)640 5103 y Fk
(etk_abort_if_exception\(ev,)d("failed)i(activating)h(service"\);)640
5267 y(g_print)g(\("Binding)f(service)h(reference)f(at)i(name)f
(service)g(against)f(id:)i(\045s/\045s/\045s\\n\\n",)d(id[0],)i(id[1],)
g(id[2]\);)640 5432 y Fi(name_service)f(=)i(etk_get_name_service)c
(\(global_orb,)i(ev\);)p Black 3601 5585 a Fp(71)p Black
eop
%%Page: 72 76
72 75 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk
(etk_abort_if_exception\(ev,)41 b("failed)i(resolving)h
(name-service"\);)640 253 y Fi(etk_name_service_bind)e(\(name_service,)
g(servant,)i(id,)g(ev\);)640 336 y Fk(etk_abort_if_exception\(ev,)d
("failed)i(binding)h(of)h(service"\);)640 500 y Fi(server_run)e
(\(global_orb,)g(ev\);)640 582 y Fk(etk_abort_if_exception\(ev,)e
("failed)i(entering)h(main)g(loop"\);)640 747 y Fi(server_cleanup)f
(\(global_orb,)g(root_poa,)g(servant,)g(ev\);)640 829
y Fk(etk_abort_if_exception\(ev,)e("failed)i(cleanup"\);)640
993 y(exit)i(\(0\);)596 1075 y(})596 1497 y Fq(Example)18
b(5-38.)g(name-resolve-skelimpl.c)596 1662 y Fk(/*)44
b(This)g(is)h(a)f(template)g(file)g(generated)f(by)i(command)e(*/)596
1745 y(/*)h(orbit-idl-2)f(--skeleton-impl)f(name-resolve.idl)g(*/)596
1827 y(/*)i(User)g(must)g(edit)g(this)h(file,)f(inserting)f(servant)88
b(*/)596 1909 y(/*)44 b(specific)f(code)i(between)e(markers.)h(*/)596
2073 y(#include)f("name-resolve.h")596 2238 y(/***)h(App-specific)e
(servant)i(structures)f(***/)596 2402 y(typedef)g(struct)596
2484 y({)730 2566 y(POA_Examples_NameResolve_Service)c(servant;)730
2649 y(PortableServer_POA)j(poa;)730 2813 y(/*)j(------)e(add)i
(private)e(attributes)g(here)i(------)e(*/)730 2895 y(/*)i(------)e
(----------)g(end)i(------------)e(------)g(*/)596 2977
y(})h(impl_POA_Examples_NameResolve_Service;)596 3142
y(/***)g(Implementation)e(stub)i(prototypes)f(***/)596
3306 y(static)g(void)596 3388 y(impl_Examples_NameResolve_Service__f)o
(ini\(im)o(pl_POA)o(_Examp)o(les_Na)o(meReso)o(lve_Se)o(rvice)820
3471 y(*)h(servant,)g(CORBA_Environment)e(*)i(ev\);)596
3553 y(static)f(void)596 3635 y(impl_Examples_NameResolve_Service_ec)o
(hoStri)o(ng)596 3717 y(\(impl_POA_Examples_NameResolve_Servi)o(ce)c(*)
45 b(servant,)e(const)h(CORBA_char)f(*)i(input,)596 3799
y(CORBA_Environment)c(*)k(ev\);)596 3964 y(/***)f(epv)g(structures)f
(***/)596 4128 y(static)g(PortableServer_ServantBase__epv)730
4210 y(impl_Examples_NameResolve_Service_base_)o(epv)c(=)44
b({)730 4292 y(NULL,)134 b(/*)44 b(_private)g(data)g(*/)730
4375 y(\(gpointer\))f(&)i(impl_Examples_NameResolve_Service__fin)o(i,)
39 b(/*)44 b(finalize)g(routine)g(*/)730 4457 y(NULL,)134
b(/*)44 b(default_POA)f(routine)h(*/)596 4539 y(};)596
4621 y(static)f(POA_Examples_NameResolve_Service__epv)730
4703 y(impl_Examples_NameResolve_Service_epv)c(=)44 b({)730
4786 y(NULL,)134 b(/*)44 b(_private)g(*/)730 4868 y(\(gpointer\))f(&)i
(impl_Examples_NameResolve_Service_echo)o(String)o(,)596
5032 y(};)596 5197 y(/***)f(vepv)g(structures)f(***/)596
5361 y(static)g(POA_Examples_NameResolve_Service__vepv)730
5443 y(impl_Examples_NameResolve_Service_vepv)38 b(=)45
b({)p Black 197 5585 a Fp(72)p Black eop
%%Page: 73 77
73 76 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 730 89 a Fk
(&impl_Examples_NameResolve_Service_base)o(_epv,)730
171 y(&impl_Examples_NameResolve_Service_epv,)596 253
y(};)596 418 y(/***)44 b(Stub)g(implementations)e(***/)596
582 y(static)h(Examples_NameResolve_Service)596 664 y
(impl_Examples_NameResolve_Service__c)o(reate\()o(Portab)o(leServ)o
(er_POA)38 b(poa,)909 747 y(CORBA_Environment)k(*)j(ev\))596
829 y({)730 911 y(Examples_NameResolve_Service)40 b(retval;)730
993 y(impl_POA_Examples_NameResolve_Service)f(*newservant;)730
1075 y(PortableServer_ObjectId)i(*objid;)730 1240 y(newservant)i(=)i
(g_new0\(impl_POA_Examples_NameResolve_S)o(ervice)o(,)39
b(1\);)730 1322 y(newservant->servant.vepv)i(=)j
(&impl_Examples_NameResolve_Service_vepv;)730 1404 y(newservant->poa)e
(=)865 1486 y(\(PortableServer_POA\))f
(CORBA_Object_duplicate\(\(CORBA_Object\))e(poa,)44 b(ev\);)730
1651 y(POA_Examples_NameResolve_Service__init\()o(\(Porta)o(bleSer)o
(ver_Se)o(rvant\))38 b(newservant,)909 1733 y(ev\);)730
1815 y(/*)45 b(Before)e(servant)h(is)g(going)g(to)h(be)f(activated)g
(all)775 1897 y(*)h(private)e(attributes)g(must)h(be)h(initialized.)88
b(*/)730 2062 y(/*)45 b(------)e(init)h(private)g(attributes)f(here)h
(------)g(*/)730 2144 y(/*)h(------)e(----------)g(end)i(-------------)
d(------)i(*/)730 2308 y(objid)g(=)h
(PortableServer_POA_activate_object\(po)o(a,)39 b(newservant,)k(ev\);)
730 2390 y(CORBA_free\(objid\);)730 2473 y(retval)h(=)g
(PortableServer_POA_servant_to_reference\(po)o(a,)39
b(newservant,)k(ev\);)730 2637 y(return)h(retval;)596
2719 y(})596 2884 y(/**)640 2966 y(*)h
(impl_Examples_NameResolve_Service__fini)640 3048 y(*)640
3130 y(*)g(Destructor)e(called)h(after)g(servant)g(has)g(been)g
(deactivated)f(finally.)640 3212 y(*)i(In)g(case)f(any)g(active)g
(operation)f(invocation,)g(method)h(call)g(is)h(being)f(delayed.)640
3295 y(*)h(Note,)f(in)g(former)g(versions)g(of)g(ORBit2)g(this)g
(function)g(would)g(have)g(been)640 3377 y(*)h(named)f
(impl_Examples_NameResolve_Service__dest)o(roy.)596 3459
y(**/)596 3541 y(static)f(void)596 3623 y
(impl_Examples_NameResolve_Service__f)o(ini\(im)o(pl_POA)o(_Examp)o
(les_Na)o(meReso)o(lve_Se)o(rvice)820 3706 y(*)h(servant,)g
(CORBA_Environment)e(*)i(ev\))596 3788 y({)730 3870 y
(CORBA_Object_release\(\(CORBA_Object\))39 b(servant->poa,)k(ev\);)730
4034 y(/*)i(No)f(further)g(remote)f(method)h(calls)g(are)h(delegated)e
(to)775 4116 y(*)i(servant)e(and)h(you)h(may)f(free)g(your)g(private)g
(attributes.)f(*/)730 4199 y(/*)i(------)e(free)h(private)g(attributes)
f(here)h(------)g(*/)730 4281 y(/*)h(------)e(----------)g(end)i
(-------------)d(------)i(*/)730 4445 y
(POA_Examples_NameResolve_Service__fini\()o(\(Porta)o(bleSer)o(ver_Se)o
(rvant\))38 b(servant,)909 4527 y(ev\);)730 4692 y(g_free\(servant\);)
596 4774 y(})596 4938 y(static)43 b(void)596 5021 y
(impl_Examples_NameResolve_Service_ec)o(hoStri)o(ng)730
5103 y(\(impl_POA_Examples_NameResolve_Service)38 b(*)45
b(servant,)f(const)g(CORBA_char)f(*)h(input,)775 5185
y(CORBA_Environment)e(*)i(ev\))596 5267 y({)730 5349
y(/*)h(------)133 b(insert)44 b(method)g(code)g(here)134
b(------)43 b(*/)730 5432 y Fi(g_print)h(\(">>)g(\045s\\n",)g(input\);)
p Black 3601 5585 a Fp(73)p Black eop
%%Page: 74 78
74 77 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 730 89 a Fk(/*)45
b(------)e(----------)g(end)i(------------)e(------)g(*/)596
171 y(})596 654 y Fl(Compiling)25 b(c)n(lient)h(&)g(ser)q(ver)596
919 y Fq(Example)18 b(5-39.)g(Make\002le)596 1085 y Fk(PREFIX)43
b(?=)i(/usr)596 1167 y(CC)f(=)h(gcc)596 1249 y
(TARGETS=name-resolve-client)40 b(name-resolve-server)596
1331 y(ORBIT_IDL=$\(PREFIX\)/bin/orbit-idl-2)596 1413
y(CFLAGS=-DORBIT2=1)h(-D_REENTRANT)i(-I$\(PREFIX\)/include/orbit-2.0)d
(\\)909 1495 y(-I$\(PREFIX\)/include/linc-1.0)g
(-I$\(PREFIX\)/include/glib-2.0)h(\\)909 1578 y
(-I$\(PREFIX\)/lib/glib-2.0/include)f(-g)596 1660 y(LDFLAGS=)j
(-Wl,--export-dynamic)e(-L$\(PREFIX\)/lib)i(-lORBit-2)g(-llinc)h
(-lgmodule-2.0)f(\\)1178 1742 y(-ldl)h(-lgobject-2.0)f(-lgthread-2.0)g
(-lpthread)g(-lglib-2.0)g(-lm)314 b(\\)1178 1824 y(-lORBitCosNaming-2)
596 1906 y(IDLOUT=name-resolve-common.c)40 b(name-resolve-stubs.c)h
(name-resolve-skels.c)h(name-resolve.h)596 2071 y(all:)i($\(IDLOUT\))f
(name-resolve-client)f(name-resolve-server)596 2235 y
(name-resolve-server.o:)f(name-resolve-server.c)g
(name-resolve-skelimpl.c)596 2400 y(name-resolve-client)g(:)k
(name-resolve-client.o)c(name-resolve-stubs.o)h(name-resolve-common.o)f
(examples-toolkit.o)596 2482 y(name-resolve-server)g(:)k
(name-resolve-server.o)c(name-resolve-skels.o)h(name-resolve-common.o)f
(examples-toolkit.o)h(name-resolve-skelimpl.o)596 2646
y($\(IDLOUT\):)h(name-resolve.idl)640 2728 y($\(ORBIT_IDL\))g
(name-resolve.idl)596 2893 y(\045-skelimpl.c:)f(\045.idl)640
2975 y($\(ORBIT_IDL\))h(--skeleton-impl)f($^)596 3139
y(clean:)640 3222 y(rm)j(-rf)f(*.o)g(*~)h($\(IDLOUT\))e(*.ior)h(*.ref)
596 3386 y(distclean:)f(clean)640 3468 y(rm)i(-rf)f
(name-resolve-client)e(name-resolve-server)197 4044 y
Fo(F)n(actor)q(y)29 b(c)n(lient)f(&)g(ser)q(ver)596 4318
y Fq(Example)18 b(5-40.)g(factory)-8 b(.idl)596 4484
y Fk(module)43 b(Examples)h({)640 4648 y(module)g(Factory)g({)685
4812 y(interface)f(AbstractService)g({)730 4894 y(void)h(doit)g(\(in)h
(string)e(mesg\);)730 4977 y(void)h(destroy)g(\(\);)685
5059 y(};)685 5223 y(interface)f(Producer)h({)730 5305
y(AbstractService)e(produce)i(\(in)g(string)g(id\);)685
5388 y(};)640 5470 y(};)p Black 197 5585 a Fp(74)p Black
eop
%%Page: 75 79
75 78 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fk(};)596
263 y($)44 b Fi(orbit-idl-2)f(--skeleton-impl)f(factory.idl)61
b Fs(geenrates)18 b(all)f(the)h(\002les)g(we)g(will)h(use)596
355 y(in)i(this)g(example.)p 596 548 3102 4 v 596 548
V 596 675 4 128 v 600 650 a Ft(File)p 1628 675 V 1063
w(Usa)o(g)q(e)i(f)n(or)g(Client)p 2661 675 V 384 w(Usa)o(g)q(e)g(f)n
(or)g(Ser)q(ver)p 3694 675 V 596 679 3102 4 v 596 679
V 596 806 4 128 v 600 781 a Fs(factory)-9 b(.h)p 1628
806 V 1042 w(r)o(eadonly)p 2661 806 V 705 w(r)o(eadonly)p
3694 806 V 596 810 3102 4 v 596 810 V 596 937 4 128 v
600 912 a(factory-common.c)p 1628 937 V 695 w(r)o(eadonly)p
2661 937 V 705 w(r)o(eadonly)p 3694 937 V 596 941 3102
4 v 596 941 V 596 1068 4 128 v 600 1043 a(factory-stubs.c)p
1628 1068 V 823 w(r)o(eadonly)p 2661 1068 V 855 w(-)p
3694 1068 V 596 1072 3102 4 v 596 1072 V 596 1199 4 128
v 600 1174 a(factory-skels.c)p 1628 1199 V 986 w(-)p
2661 1199 V 855 w(r)o(eadonly)p 3694 1199 V 596 1203
3102 4 v 596 1203 V 596 1330 4 128 v 600 1305 a(factory-skelimpl.c)p
1628 1330 V 850 w(-)p 2661 1330 V 608 w(template)20 b(for)h(user)f
(code)p 3694 1330 V 596 1334 3102 4 v 596 1334 V 596
1483 a(Files)26 b(r)o(emaining)g(to)h(write)f(ar)o(e)e(listed)j(in)f
(following)i(table,)d(starting)h(with)h Fp(factory-client.c)d
Fs(in)596 1574 y(following)e(chapter)-6 b(.)p 596 1767
3099 4 v 596 1767 V 596 1895 4 128 v 600 1870 a(factory-client.c)p
2143 1895 V 1002 w(write)21 b(the)g(client)g(code)p 3691
1895 V 596 1898 3099 4 v 596 1898 V 596 2117 4 220 v
600 2001 a(factory-server)-6 b(.c)p 2143 2117 V 980 w(write)21
b(the)g(generic)g(code)f(for)h(servant)2146 2092 y(cr)o(eation)p
3691 2117 V 596 2120 3099 4 v 596 2120 V 596 2547 a Fl(F)n(actor)q(y)j
(c)n(lient)596 2812 y Fq(Example)18 b(5-41.)g(factory-client.c)596
2978 y Fk(/*)44 b(factory-client.c)e(hacked)i(by)g(Frank)g(Rehberger)
640 3060 y(*)h(<F.Rehberger@xtradyne.de>.)85 b(*/)596
3224 y(#include)43 b(<assert.h>)596 3306 y(#include)g(<stdio.h>)596
3389 y(#include)g(<stdlib.h>)596 3471 y(#include)g(<string.h>)596
3553 y(#include)g(<signal.h>)596 3635 y(#include)g(<unistd.h>)596
3717 y(#include)g(<orbit/orbit.h>)596 3882 y(#include)g
("examples-toolkit.h")e(/*)k(etk_)f(functions)f(*/)596
3964 y(#include)g("factory.h")596 4211 y(static)g(CORBA_ORB)88
b(global_orb)44 b(=)g(CORBA_OBJECT_NIL;)e(/*)j(global)f(orb)g(*/)596
4375 y(/*)g(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 4457 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
4539 y(*/)596 4621 y(static)596 4704 y(void)596 4786
y(client_shutdown)d(\(int)i(sig\))596 4868 y({)954 4950
y(CORBA_Environment)87 b(local_ev[1];)954 5032 y
(CORBA_exception_init\(local_ev\);)954 5197 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 5279 y({)1313 5361 y Fi
(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i(local_ev\);)1313
5443 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)p Black 3601 5585 a Fp(75)p Black eop
%%Page: 76 80
76 79 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 954 89 a Fk(})596
171 y(})596 418 y(/*)44 b(Inits)g(ORB)g(@orb)g(using)g(@argv)g
(arguments)g(for)g(configuration.)f(For)h(each)640 500
y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g(the)g
(counter)g(of)h(@argc_ptr)640 582 y(*)g(will)f(be)h(decremented.)d
(Signal)i(handler)g(is)g(set)h(to)f(call)640 664 y(*)h
(echo_client_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g(and)g
(SIGTERM)640 747 y(*)h(signals.)88 b(If)45 b(error)f(occures)f(@ev)i
(points)f(to)g(exception)f(object)h(on)640 829 y(*)h(return.)640
911 y(*/)596 993 y(static)596 1075 y(void)596 1158 y(client_init)d
(\(int)672 b(*argc_ptr,)865 1240 y(char)626 b(*argv[],)1178
1322 y(CORBA_ORB)402 b(*orb,)1178 1404 y(CORBA_Environment)42
b(*ev\))596 1486 y({)954 1569 y(/*)j(init)f(signal)g(handling)f(*/)954
1733 y(signal\(SIGINT,)87 b(client_shutdown\);)954 1815
y(signal\(SIGTERM,)42 b(client_shutdown\);)954 1979 y(/*)j(create)e
(Object)h(Request)g(Broker)g(\(ORB\))g(*/)954 2144 y
Fi(\(*orb\))g(=)h(CORBA_ORB_init\(argc_ptr,)40 b(argv,)k
("orbit-local-orb",)e(ev\);)954 2226 y Fk(if)j
(\(etk_raised_exception\(ev\)\))40 b(return;)596 2308
y(})596 2473 y(/*)k(Releases)f(@servant)h(object)g(and)g(finally)g
(destroys)f(@orb.)h(If)h(error)640 2555 y(*)g(occures)f(@ev)g(points)g
(to)g(exception)g(object)f(on)i(return.)640 2637 y(*/)596
2719 y(static)596 2801 y(void)596 2884 y(client_cleanup)d(\(CORBA_ORB)
760 b(orb,)1313 2966 y(CORBA_Object)625 b(servant,)1313
3048 y(CORBA_Environment)356 b(*ev\))596 3130 y({)954
3212 y(/*)45 b(releasing)e(managed)h(object)f(*/)954
3295 y Fi(CORBA_Object_release\(servant,)d(ev\);)954
3377 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
3459 y(return;)954 3623 y(/*)g(tear)f(down)g(the)g(ORB)h(*/)954
3706 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 3788
y({)1313 3870 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1313
3952 y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)1313 4034 y
Fk(if)j(\(etk_raised_exception\(ev\)\))730 4116 y(return;)954
4199 y(})596 4281 y(})596 4445 y(/**)640 4527 y(*)640
4610 y(*/)596 4692 y(static)596 4774 y(void)596 4856
y(client_run)f(\(Examples_Factory_Producer)219 b(factory,)820
4938 y(CORBA_Environment)535 b(*ev\))596 5021 y({)640
5103 y(#define)44 b(MAX_ID_LEN)f(100)640 5267 y(CORBA_char)88
b(service_id)43 b([MAX_ID_LEN+1])g(=)i("";)640 5349 y(gint)g(i)f(=)h
(0;)640 5432 y(gint)g(j)f(=)h(0;)p Black 197 5585 a Fp(76)p
Black eop
%%Page: 77 81
77 80 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 171 a
Fk(for)45 b(\(i)f(=)h(0;)f(i<20;)g(++i\))640 253 y({)685
336 y(snprintf)g(\(service_id,)e(MAX_ID_LEN,)h("id-\045d",)h(i\);)685
500 y(g_printf)g(\("abstract-service:)d(create,"\);)685
582 y Fi(Examples_Factory_AbstractService)f(service)730
664 y(=)45 b(Examples_Factory_Producer_produce)39 b(\(factory,)1133
747 y(service_id,)1133 829 y(ev\);)685 911 y Fk(if)45
b(\(etk_raised_exception)c(\(ev\)\))730 993 y(return;)685
1158 y(for)k(\(j)f(=)h(0;)f(j)h(<)f(5;)h(++j\))685 1240
y({)730 1322 y(g_printf)e(\(")i(apply,"\);)730 1486 y(CORBA_char)e
(*mesg)h(=)h("hallo)f(welt";)730 1569 y Fi
(Examples_Factory_AbstractService_doit)39 b(\(service,)1223
1651 y(mesg,)1223 1733 y(ev\);)730 1815 y Fk(if)45 b
(\(etk_raised_exception)c(\(ev\)\))775 1897 y(return;)685
1979 y(})685 2144 y(g_printf)j(\(")g(destroy\\n"\);)685
2308 y Fi(Examples_Factory_AbstractService_destroy)38
b(\(service,)44 b(ev\);)685 2390 y Fk(if)h(\(etk_raised_exception)c
(\(ev\)\))730 2473 y(return;)685 2637 y Fi(CORBA_Object_release)h
(\(\(CORBA_Object\))g(service,)h(ev\);)685 2719 y Fk(if)i
(\(etk_raised_exception)c(\(ev\)\))730 2801 y(return;)640
2966 y(})640 3048 y(#undef)j(MAX_IDL_LEN)596 3130 y(})596
3295 y(/*)640 3377 y(*)h(main)640 3459 y(*/)596 3541
y(int)596 3623 y(main\(int)e(argc,)h(char*)g(argv[]\))596
3706 y({)954 3788 y(CORBA_char)f(filename[])g(=)i("factory.ref";)954
3952 y(Examples_Factory_Producer)c(producer)i(=)i(CORBA_OBJECT_NIL;)954
4116 y(CORBA_Environment)d(ev[1];)954 4199 y
(CORBA_exception_init\(ev\);)954 4363 y Fi(client_init)h(\(&argc,)h
(argv,)g(&global_orb,)f(ev\);)954 4445 y Fk
(etk_abort_if_exception\(ev,)e("init)j(failed"\);)954
4610 y(g_print)g(\("Reading)f(service)h(reference)f(from)h(file)g
(\\"\045s\\"\\n",)g(filename\);)954 4774 y Fi(producer)1044
4856 y(=)g(\(Examples_Factory_Producer\))685 4938 y
(etk_import_object_from_file)c(\(global_orb,)1044 5021
y(filename,)1044 5103 y(ev\);)954 5185 y Fk
(etk_abort_if_exception\(ev,)h("import)i(service)h(failed"\);)954
5349 y Fi(client_run)f(\(producer,)g(ev\);)954 5432 y
Fk(etk_abort_if_exception\(ev,)e("service)i(not)h(reachable"\);)p
Black 3601 5585 a Fp(77)p Black eop
%%Page: 78 82
78 81 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 954 171 a
Fi(client_cleanup)43 b(\(global_orb,)f(producer,)i(ev\);)954
253 y Fk(etk_abort_if_exception\(ev,)d("cleanup)i(failed"\);)954
418 y(exit)h(\(0\);)596 500 y(})596 982 y Fl(F)n(actor)q(y)24
b(ser)q(ver)596 1248 y Fq(Example)18 b(5-42.)g(factory-server)-5
b(.c)596 1413 y Fk(/*)640 1495 y(*)45 b(factory-server)d(program.)i
(Hacked)g(by)g(Frank)640 1578 y(*)h(Rehberger)e
(<F.Rehberger@xtradyne.de>)640 1660 y(*/)596 1824 y(#include)g
(<stdio.h>)596 1906 y(#include)g(<stdlib.h>)596 1989
y(#include)g(<string.h>)596 2071 y(#include)g(<signal.h>)596
2153 y(#include)g(<orbit/orbit.h>)596 2235 y(#include)g
(<ORBitservices/CosNaming.h>)596 2400 y(#include)g("factory.h")596
2482 y(#include)g("factory-skelimpl.c")596 2646 y(#include)g
("examples-toolkit.h")e(/*)k(etk_)f(functions)f(*/)596
2811 y(static)g(CORBA_ORB)447 b(global_orb)43 b(=)i(CORBA_OBJECT_NIL;)d
(/*)i(global)g(orb)h(*/)596 2893 y(static)e(PortableServer_POA)f
(root_poa)133 b(=)45 b(CORBA_OBJECT_NIL;)d(/*)i(root)h(POA)596
3057 y(/*)f(Is)h(called)e(in)i(case)f(of)g(process)g(signals.)g(it)g
(invokes)g(CORBA_ORB_shutdown\(\))640 3139 y(*)h(function,)e(which)h
(will)g(terminate)g(the)g(processes)f(main)i(loop.)640
3222 y(*/)596 3304 y(static)596 3386 y(void)596 3468
y(server_shutdown)d(\(int)i(sig\))596 3550 y({)640 3632
y(CORBA_Environment)87 b(local_ev[1];)640 3715 y
(CORBA_exception_init\(local_ev\);)954 3879 y(if)45 b(\(global_orb)e
(!=)h(CORBA_OBJECT_NIL\))954 3961 y({)1313 4043 y Fi
(CORBA_ORB_shutdown)e(\(global_orb,)g(FALSE,)i(local_ev\);)1313
4126 y Fk(etk_abort_if_exception)d(\(local_ev,)i("caught)h
(exception"\);)954 4208 y(})596 4290 y(})596 4454 y(/*)g(Inits)g(ORB)g
(@orb)g(using)g(@argv)g(arguments)g(for)g(configuration.)f(For)h(each)
640 4537 y(*)h(ORBit)f(options)g(consumed)f(from)h(vector)g(@argv)g
(the)g(counter)g(of)h(@argc_ptr)640 4619 y(*)g(will)f(be)h
(decremented.)d(Signal)i(handler)g(is)g(set)h(to)f(call)640
4701 y(*)h(echo_server_shutdown)c(function)j(in)g(case)h(of)f(SIGINT)g
(and)g(SIGTERM)640 4783 y(*)h(signals.)88 b(If)45 b(error)f(occures)f
(@ev)i(points)f(to)g(exception)f(object)h(on)640 4865
y(*)h(return.)640 4948 y(*/static)596 5030 y(void)596
5112 y(server_init)d(\(int)762 b(*argc_ptr,)865 5194
y(char)716 b(*argv[],)865 5276 y(CORBA_ORB)491 b(*orb,)865
5358 y(PortableServer_POA)86 b(*poa,)865 5441 y(CORBA_Environment)131
b(*ev\))p Black 197 5585 a Fp(78)p Black eop
%%Page: 79 83
79 82 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 596 89 a Fk({)640
171 y(PortableServer_POAManager)86 b(poa_manager)43 b(=)h
(CORBA_OBJECT_NIL;)640 336 y(CORBA_Environment)87 b(local_ev[1];)640
418 y(CORBA_exception_init\(local_ev\);)640 582 y(/*)45
b(init)f(signal)g(handling)f(*/)640 664 y(signal\(SIGINT,)88
b(server_shutdown\);)640 747 y(signal\(SIGTERM,)43 b
(server_shutdown\);)640 911 y(/*)i(create)f(Object)f(Request)h(Broker)g
(\(ORB\))g(*/)954 1075 y Fi(\(*orb\))g(=)h(CORBA_ORB_init\(argc_ptr,)40
b(argv,)k("orbit-local-orb",)e(ev\);)640 1158 y Fk(if)j
(\(etk_raised_exception\(ev\)\))685 1240 y(goto)f(failed_orb;)954
1404 y Fi(\(*poa\))g(=)h(\(PortableServer_POA\))685 1486
y(CORBA_ORB_resolve_initial_references\(*or)o(b,)39 b("RootPOA",)k
(ev\);)640 1569 y Fk(if)i(\(etk_raised_exception\(ev\)\))685
1651 y(goto)f(failed_poa;)954 1815 y Fi(poa_manager)f(=)i
(PortableServer_POA__get_the_POAManager)o(\(*poa,)38
b(ev\);)640 1897 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
1979 y(goto)f(failed_poamanager;)640 2144 y Fi
(PortableServer_POAManager_activate\(poa_ma)o(nager,)38
b(ev\);)640 2226 y Fk(if)45 b(\(etk_raised_exception\(ev\)\))685
2308 y(goto)f(failed_activation;)954 2473 y Fi(CORBA_Object_release)e
(\(\(CORBA_Object\))g(poa_manager,)h(ev\);)640 2555 y
Fk(return;)640 2719 y(failed_activation:)640 2801 y(failed_poamanager:)
954 2884 y(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa_manager,)h
(local_ev\);)640 2966 y(failed_poa:)640 3048 y
(CORBA_ORB_destroy\(*orb,)e(local_ev\);)640 3130 y(failed_orb:)640
3212 y(return;)596 3295 y(})596 3459 y(/*)j(Entering)f(main)i(loop)f
(@orb)g(handles)g(incoming)f(request)h(and)g(delegates)f(to)640
3541 y(*)i(servants.)e(If)i(error)f(occures)f(@ev)i(points)f(to)g
(exception)f(object)h(on)640 3623 y(*)h(return.)640 3706
y(*/)596 3788 y(static)e(void)596 3870 y(server_run)g(\(CORBA_ORB)446
b(orb,)820 3952 y(CORBA_Environment)42 b(*ev\))596 4034
y({)954 4116 y(/*)j(enter)f(main)g(loop)g(until)g(SIGINT)g(or)g
(SIGTERM)g(*/)954 4281 y Fi(CORBA_ORB_run\(orb,)e(ev\);)640
4363 y Fk(if)j(\(etk_raised_exception\(ev\)\))40 b(return;)954
4527 y(/*)45 b(user)f(pressed)f(SIGINT)h(or)h(SIGTERM)e(and)i(in)f
(signal)g(handler)685 4610 y(*)h(CORBA_ORB_shutdown\(.\))c(has)j(been)h
(called)e(*/)596 4692 y(})596 4856 y(/*)h(Releases)f(@servant)h(object)
g(and)g(finally)g(destroys)f(@orb.)h(If)h(error)640 4938
y(*)g(occures)f(@ev)g(points)g(to)g(exception)g(object)f(on)i(return.)
640 5021 y(*/)596 5103 y(static)e(void)596 5185 y(server_cleanup)f
(\(CORBA_ORB)491 b(orb,)685 5267 y(PortableServer_POA)87
b(poa,)685 5349 y(CORBA_Object)357 b(ref,)685 5432 y(CORBA_Environment)
87 b(*ev\))p Black 3601 5585 a Fp(79)p Black eop
%%Page: 80 84
80 83 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 596 89 a Fk({)640
171 y(PortableServer_ObjectId)131 b(*objid)313 b(=)44
b(NULL;)640 336 y Fi(objid)g(=)h(PortableServer_POA_reference_to_id)39
b(\(poa,)44 b(ref,)g(ev\);)640 418 y Fk(if)h
(\(etk_raised_exception\(ev\)\))40 b(return;)640 582
y(/*)45 b(Servant:)e(deactivatoin)g(-)i(will)f(invoke)89
b(__fini)43 b(destructor)h(*/)640 664 y Fi
(PortableServer_POA_deactivate_object)39 b(\(poa,)44
b(objid,)g(ev\);)640 747 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)640 911 y Fi(PortableServer_POA_destroy)h(\(poa,)j(TRUE,)g
(FALSE,)g(ev\);)640 993 y Fk(if)h(\(etk_raised_exception\(ev\)\))40
b(return;)640 1158 y(CORBA_free)j(\(objid\);)954 1322
y Fi(CORBA_Object_release)f(\(\(CORBA_Object\))g(poa,)i(ev\);)640
1404 y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
1569 y Fi(CORBA_Object_release)i(\(ref,)i(ev\);)640 1651
y Fk(if)h(\(etk_raised_exception\(ev\)\))40 b(return;)954
1815 y(/*)45 b(ORB:)f(tear)g(down)g(the)g(ORB)h(*/)954
1897 y(if)g(\(orb)f(!=)g(CORBA_OBJECT_NIL\))954 1979
y({)1313 2062 y(/*)g(going)g(to)h(destroy)e(orb..)h(*/)1313
2144 y Fi(CORBA_ORB_destroy\(orb,)d(ev\);)685 2226 y
Fk(if)k(\(etk_raised_exception\(ev\)\))40 b(return;)954
2308 y(})596 2390 y(})596 2555 y(/*)k(Creates)g(servant)f(and)i
(registers)e(in)h(context)g(of)h(ORB)f(@orb.)g(The)g(ORB)h(will)640
2637 y(*)g(delegate)e(incoming)h(requests)f(to)i(specific)e(servant)h
(object.)89 b(@return)640 2719 y(*)45 b(object)f(reference.)f(If)h
(error)g(occures)g(@ev)g(points)g(to)h(exception)e(object)640
2801 y(*)i(on)g(return.)640 2884 y(*/)596 2966 y(static)e(CORBA_Object)
596 3048 y(server_activate_service)d(\(CORBA_ORB)492
b(orb,)775 3130 y(PortableServer_POA)86 b(poa,)775 3212
y(CORBA_Environment)h(*ev\))596 3295 y({)640 3377 y
(Examples_Factory_Producer)41 b(ref)j(=)h(CORBA_OBJECT_NIL;)640
3541 y Fi(ref)g(=)f(impl_Examples_Factory_Producer__create)39
b(\(poa,)44 b(ev\);)640 3623 y Fk(if)h(\(etk_raised_exception\(ev\)\))
685 3706 y(return)f(CORBA_OBJECT_NIL;)640 3870 y(return)g(ref;)596
3952 y(})596 4116 y(/*)640 4199 y(*)h(main)640 4281 y(*/)596
4445 y(int)596 4527 y(main)f(\(int)g(argc,)g(char)g(*argv[]\))596
4610 y({)640 4692 y(CORBA_Object)f(servant)h(=)g(CORBA_OBJECT_NIL;)640
4856 y(CORBA_char)f(filename[])h(=)g("factory.ref";)640
5021 y(CORBA_Environment)87 b(ev[1];)640 5103 y
(CORBA_exception_init\(ev\);)640 5267 y Fi(server_init)43
b(\(&argc,)h(argv,)g(&global_orb,)f(&root_poa,)g(ev\);)640
5349 y Fk(etk_abort_if_exception\(ev,)e("failed)i(ORB)i(init"\);)p
Black 197 5585 a Fp(80)p Black eop
%%Page: 81 85
81 84 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 640 89 a Fi(servant)44
b(=)h(server_activate_service)c(\(global_orb,)h(root_poa,)i(ev\);)640
171 y Fk(etk_abort_if_exception\(ev,)d("failed)i(activating)h
(service"\);)640 336 y(g_print)g(\("Writing)f(service)h(reference)f
(to:)i(\045s\\n\\n",)e(filename\);)640 500 y Fi
(etk_export_object_to_file)e(\(global_orb,)909 582 y(servant,)909
664 y(filename,)909 747 y(ev\);)640 829 y Fk
(etk_abort_if_exception\(ev,)g("failed)i(exporting)h(IOR"\);)640
993 y Fi(server_run)f(\(global_orb,)g(ev\);)640 1075
y Fk(etk_abort_if_exception\(ev,)e("failed)i(entering)h(main)g
(loop"\);)640 1240 y Fi(server_cleanup)f(\(global_orb,)g(root_poa,)g
(servant,)g(ev\);)640 1322 y Fk(etk_abort_if_exception\(ev,)e("failed)i
(cleanup"\);)640 1486 y(exit)i(\(0\);)596 1569 y(})596
1826 y Fq(Example)18 b(5-43.)g(factory-skelimpl.c)596
1991 y Fk(/*)640 2073 y(*)45 b(This)f(is)h(a)f(template)g(file)g
(generated)f(by)i(command)640 2155 y(*)g(orbit-idl-2)e(--skeleton-impl)
f(name-resolve.idl)640 2238 y(*)j(User)f(must)g(edit)g(this)h(file,)f
(inserting)f(servant)640 2320 y(*)i(specific)e(code)i(between)e
(markers.)640 2402 y(*/)596 2566 y(#include)g("factory.h")596
2731 y(/***)h(App-specific)e(servant)i(structures)f(***/)596
2895 y(typedef)g(struct)596 2977 y({)685 3060 y
(POA_Examples_Factory_AbstractService)c(servant;)685
3142 y(PortableServer_POA)j(poa;)685 3306 y(/*)j(------)e(add)i
(private)e(attributes)h(here)g(------)88 b(*/)685 3388
y Fi(CORBA_char)43 b(*id;)685 3471 y(CORBA_long)g(counter;)685
3553 y Fk(/*)i(------)e(----------)h(end)g(------------)f(------)88
b(*/)596 3635 y(})44 b(impl_POA_Examples_Factory_AbstractServic)o(e;)
596 3799 y(typedef)f(struct)596 3882 y({)685 3964 y
(POA_Examples_Factory_Producer)d(servant;)685 4046 y
(PortableServer_POA)i(poa;)685 4210 y(/*)j(------)e(add)i(private)e
(attributes)h(here)g(------)g(*/)685 4292 y(/*)h(------)e(----------)h
(end)g(------------)f(------)h(*/)596 4375 y(})g
(impl_POA_Examples_Factory_Producer;)596 4539 y(/***)g(Implementation)e
(stub)i(prototypes)f(***/)596 4703 y(static)g(void)685
4786 y(impl_Examples_Factory_AbstractService__f)o(ini)685
4868 y(\(impl_POA_Examples_Factory_AbstractServi)o(ce)c(*)45
b(servant,)730 4950 y(CORBA_Environment)d(*)j(ev\);)596
5032 y(static)e(void)685 5114 y
(impl_Examples_Factory_AbstractService_do)o(it)685 5197
y(\(impl_POA_Examples_Factory_AbstractServi)o(ce)c(*)45
b(servant,)730 5279 y(const)f(CORBA_char)f(*)i(mesg,)f
(CORBA_Environment)e(*)i(ev\);)596 5443 y(static)f(void)p
Black 3601 5585 a Fp(81)p Black eop
%%Page: 82 86
82 85 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 685 89 a Fk
(impl_Examples_Factory_AbstractService_de)o(stroy)685
171 y(\(impl_POA_Examples_Factory_AbstractServi)o(ce)39
b(*)45 b(servant,)730 253 y(CORBA_Environment)d(*)j(ev\);)596
418 y(static)e(void)685 500 y(impl_Examples_Factory_Producer__fini)685
582 y(\(impl_POA_Examples_Factory_Producer)c(*)45 b(servant,)e
(CORBA_Environment)f(*)j(ev\);)596 664 y(static)e
(Examples_Factory_AbstractService)685 747 y
(impl_Examples_Factory_Producer_produce)685 829 y
(\(impl_POA_Examples_Factory_Producer)c(*)45 b(servant,)e(const)h
(CORBA_char)f(*)i(id,)730 911 y(CORBA_Environment)d(*)j(ev\);)596
1075 y(/***)f(epv)g(structures)f(***/)596 1240 y(static)g
(PortableServer_ServantBase__epv)685 1322 y
(impl_Examples_Factory_AbstractService_ba)o(se_epv)38
b(=)45 b({)685 1404 y(NULL,)179 b(/*)44 b(_private)g(data)g(*/)685
1486 y(\(gpointer\))f(&)i(impl_Examples_Factory_AbstractService__)o
(fini,)38 b(/*)45 b(finalize)e(routine)h(*/)685 1569
y(NULL,)179 b(/*)44 b(default_POA)f(routine)h(*/)596
1651 y(};)596 1733 y(static)f
(POA_Examples_Factory_AbstractService__epv)685 1815 y
(impl_Examples_Factory_AbstractService_ep)o(v)c(=)45
b({)685 1897 y(NULL,)179 b(/*)44 b(_private)g(*/)685
1979 y(\(gpointer\))f(&)i(impl_Examples_Factory_AbstractService_d)o
(oit,)685 2144 y(\(gpointer\))e(&)i
(impl_Examples_Factory_AbstractService_d)o(estroy)o(,)596
2308 y(};)596 2390 y(static)e(PortableServer_ServantBase__epv)685
2473 y(impl_Examples_Factory_Producer_base_epv)38 b(=)45
b({)685 2555 y(NULL,)179 b(/*)44 b(_private)g(data)g(*/)685
2637 y(\(gpointer\))f(&)i(impl_Examples_Factory_Producer__fini,)39
b(/*)44 b(finalize)g(routine)f(*/)685 2719 y(NULL,)179
b(/*)44 b(default_POA)f(routine)h(*/)596 2801 y(};)596
2884 y(static)f(POA_Examples_Factory_Producer__epv)c
(impl_Examples_Factory_Producer_epv)h(=)k({)685 2966
y(NULL,)179 b(/*)44 b(_private)g(*/)685 3048 y(\(gpointer\))f(&)i
(impl_Examples_Factory_Producer_produce,)596 3212 y(};)596
3377 y(/***)f(vepv)g(structures)f(***/)596 3541 y(static)g
(POA_Examples_Factory_AbstractService__vep)o(v)685 3623
y(impl_Examples_Factory_AbstractService_ve)o(pv)c(=)45
b({)685 3706 y(&impl_Examples_Factory_AbstractService_b)o(ase_ep)o(v,)
685 3788 y(&impl_Examples_Factory_AbstractService_e)o(pv,)596
3870 y(};)596 3952 y(static)e(POA_Examples_Factory_Producer__vepv)685
4034 y(impl_Examples_Factory_Producer_vepv)c(=)45 b({)685
4116 y(&impl_Examples_Factory_Producer_base_epv)o(,)685
4199 y(&impl_Examples_Factory_Producer_epv,)596 4281
y(};)596 4445 y(/***)f(Stub)g(implementations)e(***/)596
4610 y(static)h(Examples_Factory_AbstractService)596
4692 y(impl_Examples_Factory_AbstractServic)o(e__cre)o(ate)c
(\(PortableServer_POA)i(poa,)1133 4774 y(const)j(CORBA_char)g(*)g(id,)
1133 4856 y(CORBA_Environment)e(*)j(ev\))596 4938 y({)685
5021 y(Examples_Factory_AbstractService)40 b(retval;)685
5103 y(impl_POA_Examples_Factory_AbstractServic)o(e)f(*newservant;)685
5185 y(PortableServer_ObjectId)i(*objid;)685 5349 y(newservant)i(=)i
(g_new0)f(\(impl_POA_Examples_Factory_AbstractSer)o(vice,)38
b(1\);)685 5432 y(newservant->servant.vepv)j(=)k
(&impl_Examples_Factory_AbstractServic)o(e_vepv)o(;)p
Black 197 5585 a Fp(82)p Black eop
%%Page: 83 87
83 86 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 685 89 a Fk(newservant->poa)
42 b(=)775 171 y(\(PortableServer_POA\))f(CORBA_Object_duplicate)g
(\(\(CORBA_Object\))i(poa,)h(ev\);)685 253 y
(POA_Examples_Factory_AbstractService__in)o(it)39 b
(\(\(PortableServer_Servant\))1089 336 y(newservant,)k(ev\);)685
418 y(/*)730 500 y(*)i(Before)e(servant)h(is)h(going)f(to)g(be)h
(activated)e(all)h(private)g(attributes)f(must)730 582
y(*)i(be)f(initialized.)730 664 y(*/)685 829 y(/*)h(------)e(init)i
(private)e(attributes)g(here)i(------)e(*/)685 911 y
Fi(newservant->id)g(=)h(CORBA_string_dup)e(\(id\);)685
993 y(newservant->counter)g(=)i(0;)685 1075 y Fk(/*)h(------)e
(----------)h(end)g(-------------)f(------)g(*/)685 1240
y(objid)h(=)h(PortableServer_POA_activate_object)39 b(\(poa,)44
b(newservant,)f(ev\);)685 1322 y(CORBA_free)g(\(objid\);)685
1404 y(retval)h(=)h(PortableServer_POA_servant_to_referen)o(ce)39
b(\(poa,)44 b(newservant,)f(ev\);)685 1569 y(return)h(retval;)596
1651 y(})596 1815 y(/**)640 1897 y(*)h
(impl_Exampels_Factory_AbstractService__)o(fini)640 1979
y(*)640 2062 y(*)g(Destructor)e(called)h(after)g(servant)g(has)g(been)g
(deactivated)f(finally.)640 2144 y(*)i(In)g(case)f(any)g(operation)f
(invocation,)g(method)h(invoation)f(is)i(being)f(delayed.)640
2226 y(*)h(Note,)f(in)g(former)g(versions)g(of)g(ORBit2)g(this)g
(function)g(would)g(have)g(been)640 2308 y(*)h(named)f
(impl_Exampels_Factory_AbstractService__)o(destro)o(y.)596
2390 y(**/)596 2473 y(static)f(void)685 2555 y
(impl_Examples_Factory_AbstractService__f)o(ini)685 2637
y(\(impl_POA_Examples_Factory_AbstractServi)o(ce)c(*)45
b(servant,)730 2719 y(CORBA_Environment)d(*)j(ev\))596
2801 y({)685 2884 y(CORBA_Object_release)d(\(\(CORBA_Object\))g
(servant->poa,)h(ev\);)685 3048 y(/*)730 3130 y(*)i(No)f(further)g
(remote)g(method)f(calls)h(are)h(delegated)e(to)i(servant)e(and)i(you)
730 3212 y(*)g(may)f(free)g(your)g(private)g(attributes.)730
3295 y(*/)685 3377 y(/*)h(------)e(free)i(private)e(attributes)g(here)i
(------)88 b(*/)685 3459 y Fi(CORBA_free)43 b(\(servant->id\);)685
3541 y Fk(/*)i(------)e(----------)h(end)g(-------------)f(------)88
b(*/)685 3706 y(POA_Examples_Factory_AbstractService__fi)o(ni)39
b(\(\(PortableServer_Servant\))1089 3788 y(servant,)k(ev\);)685
3952 y(g_free)h(\(servant\);)596 4034 y(})596 4199 y(static)f(void)685
4281 y(impl_Examples_Factory_AbstractService_do)o(it)685
4363 y(\(impl_POA_Examples_Factory_AbstractServi)o(ce)c(*)45
b(servant,)730 4445 y(const)f(CORBA_char)f(*)i(mesg,)f
(CORBA_Environment)e(*)i(ev\))596 4527 y({)685 4610 y(/*)h(------)e
(insert)h(method)g(code)g(here)g(------)g(*/)685 4692
y Fi(g_print)g(\("service-id=\\"\045s\\",)d(nth-call=\\"\045d\\",)h
(\\n",)775 4774 y(servant->id,)775 4856 y(servant->counter\);)685
4938 y(++\(servant->counter\);)685 5021 y Fk(/*)j(------)e(----------)h
(end)g(------------)f(------)88 b(*/)596 5103 y(})596
5349 y(static)43 b(void)596 5432 y(deactivate_servant)e
(\(PortableServer_POA)h(poa,)p Black 3601 5585 a Fp(83)p
Black eop
%%Page: 84 88
84 87 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 865 89 a Fk
(PortableServer_Servant)41 b(servant,)i(CORBA_Environment)f(*)j(ev\))
596 171 y({)685 253 y Fi(PortableServer_ObjectId)c(*id)775
336 y(=)k(PortableServer_POA_servant_to_id)39 b(\(poa,)44
b(servant,)f(ev\);)685 500 y(if)i(\(etk_raised_exception)c(\(ev\)\))775
582 y(return;)685 747 y(PortableServer_POA_deactivate_object)e(\(poa,)
44 b(id,)g(ev\);)685 911 y(/*)h(free)f(id)g(in)h(any)f(case)89
b(*/)685 993 y(g_free)44 b(\(id\);)596 1075 y Fk(})596
1240 y(static)f(void)685 1322 y
(impl_Examples_Factory_AbstractService_de)o(stroy)685
1404 y(\(impl_POA_Examples_Factory_AbstractServi)o(ce)c(*)45
b(servant,)730 1486 y(CORBA_Environment)d(*)j(ev\))596
1569 y({)685 1651 y(/*)g(------)e(insert)h(method)g(code)g(here)g
(------)g(*/)685 1733 y Fi(deactivate_servant)e(\(servant->poa,)g
(servant,)i(ev\);)685 1815 y Fk(/*)h(------)e(----------)h(end)g
(------------)f(------)h(*/)596 1897 y(})596 2062 y(static)f
(Examples_Factory_Producer)596 2144 y
(impl_Examples_Factory_Producer__crea)o(te)c(\(PortableServer_POA)j
(poa,)820 2226 y(CORBA_Environment)g(*)i(ev\))596 2308
y({)685 2390 y(Examples_Factory_Producer)d(retval;)685
2473 y(impl_POA_Examples_Factory_Producer)e(*newservant;)685
2555 y(PortableServer_ObjectId)i(*objid;)685 2719 y(newservant)i(=)i
(g_new0)f(\(impl_POA_Examples_Factory_Producer,)39 b(1\);)685
2801 y(newservant->servant.vepv)i(=)k
(&impl_Examples_Factory_Producer_vepv;)685 2884 y(newservant->poa)d(=)
775 2966 y(\(PortableServer_POA\))f(CORBA_Object_duplicate)g
(\(\(CORBA_Object\))i(poa,)h(ev\);)685 3048 y
(POA_Examples_Factory_Producer__init)39 b(\(\(PortableServer_Servant\))
1089 3130 y(newservant,)k(ev\);)685 3212 y(/*)730 3295
y(*)i(Before)e(servant)h(is)h(going)f(to)g(be)h(activated)e(all)h
(private)g(attributes)f(must)730 3377 y(*)i(be)f(initialized.)730
3459 y(*/)685 3623 y(/*)h(------)e(init)i(private)e(attributes)g(here)i
(------)e(*/)685 3706 y(/*)i(------)e(----------)h(end)g(-------------)
f(------)g(*/)685 3870 y(objid)h(=)h
(PortableServer_POA_activate_object)39 b(\(poa,)44 b(newservant,)f
(ev\);)685 3952 y(CORBA_free)g(\(objid\);)685 4034 y(retval)h(=)h
(PortableServer_POA_servant_to_referen)o(ce)39 b(\(poa,)44
b(newservant,)f(ev\);)685 4199 y(return)h(retval;)596
4281 y(})596 4445 y(/**)640 4527 y(*)h
(impl_Examples_Factory_Producer__fini)640 4610 y(*)640
4692 y(*)g(Destructor)e(called)h(after)g(servant)g(has)g(been)g
(deactivated)f(finally.)640 4774 y(*)i(In)g(case)f(any)g(operation)f
(invocation,)g(method)h(invoation)f(is)i(being)f(delayed.)640
4856 y(*)h(Note,)f(in)g(former)g(versions)g(of)g(ORBit2)g(this)g
(function)g(would)g(have)g(been)640 4938 y(*)h(named)f
(impl_Exampels_Factory_Producer__destroy)596 5021 y(**/)596
5103 y(static)f(void)685 5185 y(impl_Examples_Factory_Producer__fini)
685 5267 y(\(impl_POA_Examples_Factory_Producer)c(*)45
b(servant,)e(CORBA_Environment)f(*)j(ev\))596 5349 y({)685
5432 y(CORBA_Object_release)d(\(\(CORBA_Object\))g(servant->poa,)h
(ev\);)p Black 197 5585 a Fp(84)p Black eop
%%Page: 85 89
85 88 bop Black 0 TeXcolorgray Black 2498 -132 a Fp(Chapter)20
b(5.)g(First)h(CORBA)g(Pr)o(ograms)p Black 685 171 a
Fk(/*)730 253 y(*)45 b(No)f(further)g(remote)g(method)f(calls)h(are)h
(delegated)e(to)i(servant)e(and)i(you)730 336 y(*)g(may)f(free)g(your)g
(private)g(attributes.)730 418 y(*/)685 500 y(/*)h(------)e(free)i
(private)e(attributes)g(here)i(------)88 b(*/)685 582
y(/*)45 b(------)e(----------)h(end)g(-------------)f(------)g(*/)685
747 y(POA_Examples_Factory_Producer__fini)c
(\(\(PortableServer_Servant\))i(servant,)i(ev\);)685
911 y(g_free)h(\(servant\);)596 993 y(})596 1158 y(static)f
(Examples_Factory_AbstractService)685 1240 y
(impl_Examples_Factory_Producer_produce)685 1322 y
(\(impl_POA_Examples_Factory_Producer)c(*)45 b(servant,)e(const)h
(CORBA_char)f(*)i(id,)730 1404 y(CORBA_Environment)d(*)j(ev\))596
1486 y({)685 1569 y(Examples_Factory_AbstractService)40
b(retval;)685 1733 y(/*)45 b(------)e(insert)h(method)g(code)g(here)g
(------)g(*/)685 1815 y Fi(retval)g(=)775 1897 y
(impl_Examples_Factory_AbstractService_)o(_creat)o(e)39
b(\(servant->poa,)k(id,)h(ev\);)685 1979 y(if)h(\(etk_raised_exception)
c(\(ev\)\))775 2062 y({)865 2144 y(retval)i(=)i(CORBA_OBJECT_NIL;)775
2226 y(})685 2308 y Fk(/*)g(------)e(----------)h(end)g(------------)f
(------)88 b(*/)685 2473 y(return)44 b(retval;)596 2555
y(})596 3037 y Fl(Compiling)25 b(c)n(lient)h(&)g(ser)q(ver)596
3303 y Fq(Example)18 b(5-44.)g(Make\002le)596 3468 y
Fk(PREFIX)43 b(?=)i(/usr)596 3550 y(CC)f(=)h(gcc)596
3632 y(TARGETS=factory-client)c(factory-server)596 3715
y(ORBIT_IDL=$\(PREFIX\)/bin/orbit-idl-2)596 3797 y(CFLAGS=-g)i
(-DORBIT2=1)g(-D_REENTRANT)g(-I$\(PREFIX\)/include/orbit-2.0)d(\\)999
3879 y(-I$\(PREFIX\)/include/linc-1.0)g(-I$\(PREFIX\)/include/glib-2.0)
g(\\)999 3961 y(-I$\(PREFIX\)/lib/glib-2.0/include)596
4043 y(LDFLAGS=)j(-Wl,--export-dynamic)86 b(-L$\(PREFIX\)/lib)43
b(-lORBitCosNaming-2)e(-lORBit-2)j(-llinc)g(-lgmodule-2.0)e(\\)1178
4126 y(-ldl)i(-lgobject-2.0)f(-lgthread-2.0)g(-lpthread)g(-lglib-2.0)g
(-lm)596 4208 y(IDLOUT=factory-common.c)d(factory-stubs.c)j
(factory-skels.c)f(factory.h)596 4372 y(all:)i($\(IDLOUT\))f
(factory-client)f(factory-server)596 4537 y(factory-server.o:)f
(factory-server.c)i(factory-skelimpl.c)596 4701 y(factory-client)f(:)j
(factory-client.o)d(factory-stubs.o)g(factory-common.o)g
(examples-toolkit.o)596 4783 y(factory-server)g(:)j(factory-server.o)d
(factory-skels.o)g(factory-common.o)g(examples-toolkit.o)596
4948 y($\(IDLOUT\):)h(factory.idl)640 5030 y($\(ORBIT_IDL\))g
(factory.idl)596 5194 y(\045-skelimpl.c:)f(\045.idl)640
5276 y($\(ORBIT_IDL\))h(--skeleton-impl)f($^)596 5441
y(clean:)p Black 3601 5585 a Fp(85)p Black eop
%%Page: 86 90
86 89 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(5.)g(First)i(CORBA)e(Pr)o(ograms)p Black 640 89 a Fk(rm)45
b(-rf)f(*.o)g(*~)h($\(IDLOUT\))e(*.ior)h(*.ref)596 253
y(distclean:)f(clean)640 336 y(rm)i(-rf)f(factory-client)f
(factory-server)197 839 y Fu(Notes)p Black 596 986 a
Fs(1.)p Black 69 w(http://www)-8 b(.gnome.or)o(g/pr)o
(ojects/ORBit2/orbit-docs.tar)i(.gz)p Black 197 5585
a Fp(86)p Black eop
%%Page: 87 91
87 90 bop Black 0 TeXcolorgray Black Black 197 95 a Fr(Chapter)34
b(6.)f(Ho)n(w)h(to)g(do)h(garba)o(g)q(e)e(collection)g(under)i(CORB)l
(A)596 288 y Fs(I)23 b(wanted)g(to)h(do)g(garbage)f(collection)h(under)
g(CORBA,)f(and)g(so)h(I)g(asked)f(some)h(questions)h(on)596
380 y(the)20 b(ORBit)h(list.)g(Her)o(e)e(is)i(a)f(distillation)h(of)f
(the)h(answers)f(which)h(I)g(r)o(eceived,)d(mostly)k(verbatim)596
471 y(and)e(not)h(necessarily)g(in)g(or)o(der)-6 b(.)596
604 y(Editor)6 b('s)20 b(note)i(-)e(this)i(chapter)e(came)g(fr)o(om)g
(T)-8 b(odd)21 b(Lewis)197 873 y Fo(The)29 b(question)596
1014 y Fs(I)20 b(asked)g(the)h(following)i(question)f(on)f(the)g(ORBit)
g(list:)596 1147 y(\223As)26 b(a)g(client,)i(when)f(I)g(no)h(longer)g
(need)e(an)h(object,)g(how)h(do)f(I)h(pr)o(operly)e(r)o(elease)f(it?)j
(I)f(see)f(a)596 1238 y(couple)15 b(of)h(dif)o(fer)o(ent)e(candidate)h
(functions,)h(but)g(I'm)g(not)h(sur)o(e)e(which)i(one)f(is)g(pr)o(oper)
-6 b(.)15 b(If)g(ther)o(e's)596 1330 y(a)21 b(piece)g(of)g(example)g
(code)g(which)i(I've)e(overlooked,)h(then)g(a)f(simple)h(pointer)g
(ther)o(eto)f(would)596 1421 y(suf)o(\002ce.)26 b(My)i(copy)g(of)g(the)
g(Henning)h(&)f(V)-5 b(inoski)30 b(book)e(is)g(on)h(the)f(way)-9
b(,)28 b(and)f(so)i(hopefully)f(I)596 1512 y(won't)21
b(be)g(so)g(clueless)g(her)o(e)f(soon...)h(\224)197 1830
y Fo(Diff)o(erence)28 b(between)h(the)g(c)n(lient)f(and)g(the)h(ser)q
(ver)596 1972 y Fs(Elliot)21 b(Lee,)f(ever)g(the)h(pr)o(escient)f(one,)
h(asked:)596 2105 y(\223Object)f(or)h(object)g(r)o(efer)o(ence?)d(\224)
596 2238 y(And)i(then)h(observed:)596 2370 y(\223I)29
b(think)i(T)-8 b(odd)31 b(is)f(confused)g(as)g(to)h(what)f(the)g(dif)o
(fer)o(ence)e(between)i(object)h(r)o(efer)o(ences)c(and)596
2462 y(objects)c(is.)g(Think)h(of)f(an)g(object)g(r)o(efer)o(ence)e
(and)h(an)h(object)g(as)g(being)g(analogous)h(to)f(a)g(pointer)596
2553 y(and)e(pointed-to)h(memory)-9 b(,)22 b(r)o(espectively)-9
b(.)20 b(Y)-8 b(ou)23 b(can)e(stop)h(using)h(a)e(pointer)-6
b(,)22 b(but)f(until)i(you)f(get)596 2644 y(the)e(server)g(side)h(to)g
(actually)f(fr)o(ee\(\))e(the)j(memory)h(\(object\))e(being)h(pointed)g
(to)g(\(r)o(efer)o(enced\),)c(it)596 2736 y(is)k(still)g(ther)o(e.)f
(\224)596 2869 y(Indeed)d(I)g(was)h(confused.)f(Ther)o(e)g(ar)o(e)f
(actually)h(two)i(pr)o(ocesses)e(which)i(occur)e(within)i(CORBA:)p
Black 596 3176 a Fm(\225)p Black 43 w Fs(the)25 b(client)g(dr)o(ops)g
(all)g(r)o(efer)o(ences)e(to)j(an)f(object,)g(after)f(which)i(the)g
(ORB)f(local)h(to)f(the)h(client)679 3267 y(then)21 b(can)f(clean)h(up)
f(all)h(of)g(its)g(data)e(str)o(uctur)o(es)i(r)o(elated)e(to)i(that)g
(object,)g(and)p Black 596 3400 a Fm(\225)p Black 43
w Fs(the)28 b(server)f(can)h(decide)f(that)h(the)g(object)g(needs)g(to)
h(be)e(destr)o(oyed,)g(and)h(it)g(then)h(does)f(the)679
3491 y(job)d(of)f(deactivating)g(the)h(object)g(\(so)g(that)f(the)h
(POA)g(can)f(know)i(not)f(to)g(answer)g(any)f(mor)o(e)679
3583 y(queries)d(to)g(that)f(object\))h(and)f(fr)o(eeing)g(associated)g
(r)o(esour)o(ces,)g(etc.)596 3848 y(Since)c(object)i(r)o(efer)o(ences)d
(can)i(be)f(generated)g(in)i(one)g(pr)o(ogram,)e(passed)g(to)i(a)f
(second)g(pr)o(ogram,)596 3940 y(the)k(\002rst)g(pr)o(ogram)f(can)g
(for)o(get)h(about)f(it,)h(and)g(the)g(second)g(can)f(continue,)i
(these)f(ar)o(e)e(separate)596 4031 y(pr)o(ocesses.)25
b(It)h(was)g(understanding)g(this)h(fact)e(which)i(was)f(the)g(biggest)
h(impediment)f(to)g(my)596 4122 y(\002guring)21 b(this)h(matter)e(out.)
596 4255 y(Sascha)34 b(Brawer)h(<brawer@coli.uni-sb.de>)h(described)f
(these)h(two)g(potential)h(interpr)o(eta-)596 4346 y(tions)28
b(of)g(what)g(I)g(wanted)f(to)h(do,)g(r)o(e\003ecting)g(a)f(nuance)g
(which)i(I)f(did)f(not)i(appr)o(eciate)c(when)596 4438
y(I)20 b(asked)g(the)h(question:)p Black 596 4695 a Fm(\225)p
Black 43 w Fs(Y)-8 b(ou)33 b(want)f(the)g(client)g(to)h(for)o(get)e
(about)h(the)g(object)g(r)o(efer)o(ence,)e(but)i(the)g(server)o(-side)e
(ob-)679 4786 y(ject)e(should)h(continue)g(its)g(life:)f(Call)g
(CORBA_fr)o(ee)e(on)j(the)f(client)h(side.)f(The)g(purpose)g(of)679
4878 y(CORBA_fr)o(ee)23 b(is)j(to)g(r)o(elease)e(the)i(memory)g(in)g
(the)g(client.)g(Ther)o(efor)o(e,)d(the)j(server)f(will)h(not)679
4969 y(get)i(any)g(noti\002cation)h(about)f(this.)h(If)f(other)g
(clients)h(had)e(r)o(efer)o(ences)f(to)j(the)f(same)g(object,)679
5060 y(they)21 b(will)g(continue)h(to)f(work.)p Black
596 5193 a Fm(\225)p Black 63 w Fs(Y)-8 b(ou)22 b(want)e(to)h(destr)o
(oy)f(the)h(object)g(on)g(the)g(server:)e(de\002ne)i(a)f(method)h(in)g
(the)g(object's)g(inter)o(-)679 5284 y(face,)i(e.g.)h("destr)o(oy")g
(\(though)h(any)g(name)g(is)g(\002ne\).)f(First,)h(call)f(that)h
(method)g(on)h(the)f(client)679 5376 y(side.)c(The)g(server)g(will)i(r)
o(eceive)d(the)i(call,)f(and)g(your)h(server)f(implementation)i(will)f
(destr)o(oy)p Black 3601 5585 a Fp(87)p Black eop
%%Page: 88 92
88 91 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(6.)g(How)g(to)h(do)f(garbage)g(collection)h(under)g(CORBA)p
Black 679 89 a Fs(the)g(object.)f(Second,)h(call)f(CORBA_fr)o(ee)f(on)i
(the)g(client)g(side,)g(to)g(fr)o(ee)e(the)i(client-side)g(mem-)679
180 y(ory)h(for)f(the)h(object)g(r)o(efer)o(ence)d(which)k(has)f(now)h
(become)e(stale.)g(If)h(other)g(clients)g(had)g(r)o(efer)o(-)679
272 y(ences)f(to)h(the)g(same)f(object,)g(they)h(will)h(r)o(eceive)d
(an)h(exception)g(as)h(soon)g(they)g(call)f(a)g(method)679
363 y(on)d(that)f(object.)h(However)-6 b(,)17 b(they)h(won't)g(be)g
(noti\002ed)g(in)g(advance,)e(because)g(the)i(server)f(does)679
454 y(not)k(keep)f(track)g(on)i(issued)f(r)o(efer)o(ences.)596
720 y(Which)g(Elliot)g(Lee)f(then)i(corr)o(ected)d(with:)596
853 y(CORBA_Object_r)o(elease\(\))e(on)22 b(object)f(r)o(efer)o(ences,)
d(CORBA_fr)o(ee\(\))g(on)j(data)f(str)o(uctur)o(es.)596
986 y(Dick)h(Porter)f(added:)596 1119 y(It)i(is)g(_only_)h(the)f
(client)h(side.)e(These)i(pseudo-object)f(methods)h(do)f(not)h(cause)f
(r)o(equests)g(to)g(be)596 1210 y(made)e(to)h(the)g(server)-6
b(.)197 1528 y Fo(Ser)q(ver)n(-side)28 b(deactiv)n(ation)596
1669 y Fs(Ok,)k(so)g(CORBA_Object_r)o(elease)e(takes)i(car)o(e)f(of)h
(the)g(client)g(side.)g(This)h(isn't)g(enough,)g(be-)596
1761 y(cause,)19 b(as)i(Elliot)g(Lee)f(pointed)h(out,)g(to)g(state)g
(the)g(point)g(slightly)h(dif)o(fer)o(ently:)596 1926
y Fk(On)44 b(Tue,)g(20)h(Apr)f(1999,)g(Svanberg)f(Liss)i(wrote:)596
2008 y(>)f(Btw,)g(what)g(does)h(CORBA_Object_duplicate)c(&)j
(CORBA_Object_release)e(do)596 2090 y(>)i(server?)596
2255 y(Nothing..)596 2429 y Fs(So,)20 b(what)h(do)g(you)g(do)g(on)g
(the)g(server)f(side?)h(Elliot)g(answer)o(ed)e(this,)j(too:)596
2594 y Fk(>)44 b(and...)g(hmm,)g(what)g(kind)g(of)h(call)f(does)g
(destroy)g(the)g(object)g(in)h(the)f(server)640 2677
y(when)596 2759 y(>)g(release)g(doesn't?)596 2923 y(You)g
(PortableServer_POA_deactivate_object\(p)o(oa,)39 b(objid\))44
b(to)g(tell)g(the)h(POA)f(not)596 3005 y(to)g(take)g(any)g(more)h
(requests)e(for)h(the)h(specified)e(objid.)596 3180 y
Fs(Let's)20 b(take)h(a)f(look)i(at)e(what)h(this)h(means)f(in)g(terms)g
(of)g(actual)f(code.)g(If)h(you)g(r)o(un)72 b Fh(orbit-idl)596
3271 y(--skeleton_impl)47 b(foo.idl)68 b Fs(on)20 b(your)g(idl)g
(\002le,)g(you)g(will)g(get)g(a)f(\002le)h(foo-impl.c.)g(Inside)596
3362 y(of)g(that)h(\002le,)g(you)g(will)g(see)g(functions)h(like)f(the)
g(following:)596 3528 y Fk(/*)44 b(You)g(shouldn't)g(call)g(this)g
(routine)g(directly)f(without)h(first)g(deactivating)640
3610 y(the)h(servant...)e(*/)596 3774 y(static)g(void)596
3938 y(impl_CosTransactions_Control__destro)o(y\()820
4103 y(impl_POA_CosTransactions_Control)c(*)45 b(servant,)820
4267 y(CORBA_Environment)d(*)i(ev\))596 4432 y({)730
4596 y(POA_CosTransactions_Control__fini\(\(Port)o(ableSe)o(rver_S)o
(ervant)o(\))39 b(servant,)640 4678 y(ev\);)730 4843
y(g_free\(servant\);)596 5007 y(})596 5181 y Fs(Wher)o(e)23
b(it)i(says)g("Y)-8 b(ou)26 b(shouldn't)g(call)e(this)i(r)o(outine)f
(dir)o(ectly)f(without)i(\002rst)f(deactivating)f(the)596
5273 y(servant...",)18 b(it)j(means)f(that)g(you)h(should)g(call)f
(PortableServer_POA_deactivate_object\(\))15 b(on)596
5364 y(the)20 b(servant)h(\002rst.)p Black 197 5585 a
Fp(88)p Black eop
%%Page: 89 93
89 92 bop Black 0 TeXcolorgray Black 1823 -132 a Fp(Chapter)20
b(6.)g(How)g(to)h(do)f(garbage)g(collection)h(under)g(CORBA)p
Black 596 89 a Fs(FIXME:)39 b(I)g(don't)h(understand)f(what)h(POA_CosT)
-7 b(ransactions_Contr)o(ol__\002ni)38 b(does)i(her)o(e;)596
180 y(how)h(is)h(it)f(dif)o(fer)o(ent)e(fr)o(om)h
(PortableServer_POA_deactivate_object?)c(Anyway)-9 b(,)41
b(this)h(is)596 272 y(the)28 b(\002nal)h(step)g(you)h(take)e(after)f
(your)j(object)f(is)g(deactivated;)e(you)i(can)f(then)i(fr)o(ee)d(the)i
(POA)596 363 y(servant)20 b(str)o(uct)h(which)h(you)f(cr)o(eated)e(in)i
(your)g(factory)f(\(or)h(wher)o(ever)-6 b(.\))197 681
y Fo(Wh)n(y)28 b(is)g(this)g(an)g(issue?)596 885 y Ft(Sasc)o(ha)c(Bra)o
(wer)f(sug)o(g)q(ests:)596 1018 y Fs(Maybe)31 b(the)h(confusion)h
(arises)f(because)f(ther)o(e)g(do)i(exist)f(distributed)f(object)i
(systems)g(that)596 1109 y(perform)23 b(this)i(sort)f(of)g(r)o(efer)o
(ence)d(counting,)k(allowing)g(the)f(server)f(to)i(know)g(when)f(no)h
(client)596 1200 y(has)g(a)h(r)o(efer)o(ence)d(left.)i(DCOM)h(has)g
(such)g(a)g(mechanism,)g(and)g(ILU)f(has)h(something)h(similar)-6
b(,)596 1292 y(AF)g(AIK.)596 1425 y(Why)32 b(doesn't)g(CORBA)f(follow)h
(these)g(other)g(systems?)g(My)f(personal)h(impr)o(ession)g(is)g(that)
596 1516 y(this)21 b(is)g(another)f(case)g(of)h(CORBA)f(doing)i(the)e
(right)h(thing)h(instead)e(of)h(the)f(easy)h(thing.)g(Sascha)596
1607 y(continues:)596 1740 y(However)-6 b(,)29 b(I've)i(r)o(ead)d
(somewher)o(e)j(\(don't)f(r)o(emeber)f(the)i(exact)e(location,)i(sorry)
-9 b(...\))29 b(that)i(the)596 1831 y(pr)o(oblem)16 b(with)h
(distributed)f(r)o(efer)o(ence)e(counting)k(would)f(be)g(that)f
(\002rst,)h(it)g(consumes)g(network)596 1923 y(bandwith,)27
b(and)f(second,)h(it)h(does)f(not)h(work)f(well)h(with)g(unr)o(eliable)
e(network)i(connections.)596 2014 y(It)i(was)h(told)g(in)g(that)f
(article)g(that)h(these)f(drawbacks)g(would)h(have)f(been)g(the)h
(rationale)f(for)596 2105 y(designing)21 b(CORBA)g(without)h(r)o
(efcounting.)596 2238 y(This)i(is)g(a)f(pr)o(oblem.)g(If)g(your)h
(client)g(disappears,)e(then)i(you've)g(got)h(unneeded)e(objects)h
(lying)596 2330 y(ar)o(ound.)d(All)h(it)g(takes)g(for)g(clients)g(to)h
(disappear)e(is)h(for)g(them)h(to)f(be)g(coded)g(by)g(bad)f(pr)o
(ogram-)596 2421 y(mers,)i(and)g(we)h(all)g(know)h(how)f(unlikely)h
(that)f(is,)f(right?)i(So)e(how)i(does)f(one)g(deal)f(with)h(this?)596
2512 y(Ther)o(e)j(ar)o(e)h(several)g(ways.)g(The)h(easiest)g(is)g(to)g
(have)f(a)h(timeout.)g(This)g(is)h(the)f(appr)o(oach)e(that)596
2603 y(I)i(am)g(using)h(in)g(the)g(GNU)f(T)-7 b(ransaction)29
b(Server;)f(when)i(the)f(timeout)h(expir)o(es,)e(I)i(deactivate)596
2695 y(all)g(of)g(my)h(servant)g(objects)g(and)f(fr)o(ee)f(up)h(their)h
(r)o(esour)o(ces.)e(Fortunately)-9 b(,)31 b(the)f(CosT)-7
b(ransac-)596 2786 y(tions)20 b(spec)e(supports)i(timeouts)g(on)f
(transactions.)g(Unfortunately)-9 b(,)19 b(I)f(don't)i(r)o(eally)e(see)
h(how)h(to)596 2877 y(do)26 b(timeouts)h(with)g(the)f(normal)h(CORBA)f
(event)g(model,)h(so)f(I'm)h(going)g(to)g(have)f(to)h(use)f(the)596
2969 y(ORBit-speci\002c)c(hack)g(of)g(having)g(a)g(glib)g(event)g(loop)
h(which)g(supports)f(both)h(CORBA)f(events)596 3060 y(and)16
b(timeouts.)h(Another)g(way)-9 b(,)16 b(I)h(am)f(told,)h(is)g
(something)h(called)e(an)g(Evictor)h(pattern.)f(I)g(should)596
3151 y(understand)21 b(this)i(soon)h(once)e(I)g(get)g(my)h(fancy)f
(CORBA)g(book)h(in)f(the)h(mail.)f(The)g(\002nal)g(way)h(is)596
3243 y(just)e(to)g(leak)g(memory)g(like)g(a)f(sieve)h(leaks)f
(gold\002sh;)i(this)f(is)h(the)e(easiest)h(thing)h(to)f(do.)p
Black 3601 5585 a Fp(89)p Black eop
%%Page: 90 94
90 93 bop Black 0 TeXcolorgray Black 197 -132 a Fp(Chapter)20
b(6.)g(How)g(to)h(do)f(garbage)g(collection)h(under)g(CORBA)p
Black Black 197 5585 a(90)p Black eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
