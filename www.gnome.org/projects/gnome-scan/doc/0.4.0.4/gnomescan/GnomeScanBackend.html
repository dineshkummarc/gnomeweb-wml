<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>GnomeScanBackend</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title="GNOME Scan Reference Manual">
<link rel="up" href="ch03.html" title="GnomeScan Objects">
<link rel="prev" href="GnomeScanContext.html" title="GnomeScanContext">
<link rel="next" href="GnomeScanner.html" title="GnomeScanner">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Objects Hierarchy">
<link rel="chapter" href="ch02.html" title="GnomeScan Standards Reference">
<link rel="chapter" href="ch03.html" title="GnomeScan Objects">
<link rel="index" href="ix01.html" title="Index">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="GnomeScanContext.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch03.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GNOME Scan Reference Manual</th>
<td><a accesskey="n" href="GnomeScanner.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2563208" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2571718" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2557747" class="shortcut">Object Hierarchy</a>
                  &#160;|&#160;
                  <a href="#id2557771" class="shortcut">Signals</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="GnomeScanBackend"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2563208"></a><span class="refentrytitle">GnomeScanBackend</span>
</h2>
<p>GnomeScanBackend &#8212; The glue between SANE and GnomeScan APIs</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



            <a href="GnomeScanBackend.html#GnomeScanBackend-struct">GnomeScanBackend</a>;
<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a>* <a href="GnomeScanBackend.html#gnome-scan-backend-new">gnome_scan_backend_new</a>    (GError **error);
void        <a href="GnomeScanBackend.html#gnome-scan-backend-destroy">gnome_scan_backend_destroy</a>      (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend);
GSList*     <a href="GnomeScanBackend.html#gnome-scan-backend-probe-scanners">gnome_scan_backend_probe_scanners</a>
                                            (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                             GError **error);
<a href="gnomescan-gnomescantypes.html#GnomeScanForecast">GnomeScanForecast</a>* <a href="GnomeScanBackend.html#gnome-scan-backend-forecast">gnome_scan_backend_forecast</a>
                                            (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                             <a href="gnomescan-gnomescantypes.html#GnomeScanContextInfo">GnomeScanContextInfo</a> *info,
                                             GError **error);
void        <a href="GnomeScanBackend.html#gnome-scan-backend-acquire">gnome_scan_backend_acquire</a>      (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                             <a href="gnomescan-gnomescantypes.html#GnomeScanContextInfo">GnomeScanContextInfo</a> *info,
                                             GError **error);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2557747"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  GObject
   +----GnomeScanBackend
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2557771"></a><h2>Signals</h2>
<pre class="synopsis">

"<a href="GnomeScanBackend.html#GnomeScanBackend-data-received">data-received</a>"
            void        user_function      (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                            gint              data_received,
                                            gpointer          user_data)          : Run first
"<a href="GnomeScanBackend.html#GnomeScanBackend-image-acquired">image-acquired</a>"
            void        user_function      (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                            <a href="gnomescan-gnomescantypes.html#GnomeScanResult">GnomeScanResult</a>  *result,
                                            gpointer          user_data)      : Run first
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2571718"></a><h2>Description</h2>
<p>
Just remember that : YOU MUST NOT USE <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a> !
</p>
<p>
<a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a> is actually a glib-ish SANE wrapper. SANE has a
procedural API that does not fit the glib GObject paradigm. The
backend retreive data from the backend and convert them into glib
type such as the one declared by the GnomeScan. For example, the
<a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a> is responsible to instanciate all <a href="GnomeScanner.html" title="GnomeScanner"><span class="type">GnomeScanner</span></a>
and <a href="GnomeScannerOption.html" title="GnomeScannerOption"><span class="type">GnomeScannerOption</span></a>. <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a> also convert raw data
into <span class="type">GdkPixbuf</span>.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2571796"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2571807"></a><h3>
<a name="GnomeScanBackend-struct"></a>GnomeScanBackend</h3>
<a class="indexterm" name="id2568914"></a><pre class="programlisting">typedef struct _GnomeScanBackend GnomeScanBackend;</pre>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2568931"></a><h3>
<a name="gnome-scan-backend-new"></a>gnome_scan_backend_new ()</h3>
<a class="indexterm" name="id2568942"></a><pre class="programlisting"><a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a>* gnome_scan_backend_new    (GError **error);</pre>
<p>
Instanciate a new backend. This function is also responsible to
init the third party backend (e.g. SANE).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td>	A <span class="type">GError</span>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a new <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2569017"></a><h3>
<a name="gnome-scan-backend-destroy"></a>gnome_scan_backend_destroy ()</h3>
<a class="indexterm" name="id2569029"></a><pre class="programlisting">void        gnome_scan_backend_destroy      (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend);</pre>
<p>
Destroy a backend and free SANE resources (i.e. SANE).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>backend</code></em>&#160;:</span></td>
<td> a <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2569087"></a><h3>
<a name="gnome-scan-backend-probe-scanners"></a>gnome_scan_backend_probe_scanners ()</h3>
<a class="indexterm" name="id2569101"></a><pre class="programlisting">GSList*     gnome_scan_backend_probe_scanners
                                            (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                             GError **error);</pre>
<p>
Do the long device probe task and return a <span class="type">GSList</span> of
<a href="GnomeScanner.html" title="GnomeScanner"><span class="type">GnomeScanner</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>backend</code></em>&#160;:</span></td>
<td>	a <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td>	a <span class="type">GError</span>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the scanners list.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2569492"></a><h3>
<a name="gnome-scan-backend-forecast"></a>gnome_scan_backend_forecast ()</h3>
<a class="indexterm" name="id2569504"></a><pre class="programlisting"><a href="gnomescan-gnomescantypes.html#GnomeScanForecast">GnomeScanForecast</a>* gnome_scan_backend_forecast
                                            (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                             <a href="gnomescan-gnomescantypes.html#GnomeScanContextInfo">GnomeScanContextInfo</a> *info,
                                             GError **error);</pre>
<p>
Compute acquisition forecast.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>backend</code></em>&#160;:</span></td>
<td> a <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> a scan context
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> a <span class="type">GError</span>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> The forecast or NULL if error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2569622"></a><h3>
<a name="gnome-scan-backend-acquire"></a>gnome_scan_backend_acquire ()</h3>
<a class="indexterm" name="id2569634"></a><pre class="programlisting">void        gnome_scan_backend_acquire      (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                             <a href="gnomescan-gnomescantypes.html#GnomeScanContextInfo">GnomeScanContextInfo</a> *info,
                                             GError **error);</pre>
<p>
Do the acquisition work and return the picture in a <span class="type">GdkPixbuf</span>. The
<span class="type">GnomeScanBackend::</span>"data-received" signal is emitted each time the
device sent data. You should use
<a href="GnomeScanContext.html#gnome-scan-context-start-acquisition"><code class="function">gnome_scan_context_start_acquisition()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>backend</code></em>&#160;:</span></td>
<td> a <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>info</code></em>&#160;:</span></td>
<td> a <a href="gnomescan-gnomescantypes.html#GnomeScanContextInfo"><span class="type">GnomeScanContextInfo</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> a <span class="type">GError</span> or NULL
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2569774"></a><h2>Signal Details</h2>
<div class="refsect2" lang="en">
<a name="id2570910"></a><h3>
<a name="GnomeScanBackend-data-received"></a>The "data-received" signal</h3>
<a class="indexterm" name="id2570920"></a><pre class="programlisting">void        user_function                  (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                            gint              data_received,
                                            gpointer          user_data)          : Run first</pre>
<p>
Emitted when the backend received data from the scanner during an
acquisition.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>backend</code></em>&#160;:</span></td>
<td> the emitting <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>data_received</code></em>&#160;:</span></td>
<td> the amount of value received
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2571021"></a><h3>
<a name="GnomeScanBackend-image-acquired"></a>The "image-acquired" signal</h3>
<a class="indexterm" name="id2571030"></a><pre class="programlisting">void        user_function                  (<a href="GnomeScanBackend.html" title="GnomeScanBackend">GnomeScanBackend</a> *backend,
                                            <a href="gnomescan-gnomescantypes.html#GnomeScanResult">GnomeScanResult</a>  *result,
                                            gpointer          user_data)      : Run first</pre>
<p>
Emitted when the backend successfully acquired an image.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>backend</code></em>&#160;:</span></td>
<td> the emitting <a href="GnomeScanBackend.html" title="GnomeScanBackend"><span class="type">GnomeScanBackend</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>result</code></em>&#160;:</span></td>
<td> the scan result containing the acquired image
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
