<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Controlling GDM</title><link rel="previous" href="configuration.html" title="Configuration"/><link rel="next" href="binaries.html" title="GDM Commands"/><link rel="top" href="index.html" title="Gnome Display Manager Reference Manual"/><style type="text/css">
div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

div.admonition {
  padding: 4px 8px 4px 56px;
  min-height: 52px;
  border: solid 1px #D1940C;
  background-position: 4px 4px;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("caution.png");
}
div.important {
  background-image: url("important.png");
}
div.note {
  background-image: url("note.png");
}
div.tip {
  background-image: url("tip.png");
}
div.warning {
  background-image: url("warning.png");
}

div.autotoc { margin-left: 2em; padding: 0em; }
div.autotoc ul { margin-left: 0em; padding-left: 0em; }
div.autotoc ul li {
  margin-right: 0em; padding: 0em;
  list-style-type: none;
}

* + div.biblioentry { margin-top: 1.2em; }
* + div.bibliomixed { margin-top: 1.2em; }

.block-indent { margin-left: 1.72em; margin-right: 1em; }
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
pre.programlisting {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.screen {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.synopsis { overflow: auto; }
pre.linenumbering {
  
  margin-top: 0px;
  margin-left: 0.83em;
  padding: 6px 0.4em 6px 0.4em;
  border: solid 1px black;
  -moz-border-radius: 8px;
  background-color: black;
  color: white;
  -moz-opacity: .3;
  float: left;
  text-align: right;
}
dt.glossterm { margin-left: 0em; }
dd + dt.glossterm { margin-top: 2em; }
dd.glossdef, dd.glosssee, dd.glossseealso
  { margin-top: 1em; margin-left: 2em; margin-right: 1em; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

div.list { margin-left: 0px; margin-bottom: 1em; padding: 0px; }
div.list dl dt { margin-left: 0em; }
div.list dl dd + dt { margin-top: 1em; }
div.list dl dd {
  margin-top: 0.69em;
  margin-left: 1.72em;
  margin-right: 1em;
}
div.list ul { margin-left: 1.72em; padding-left: 0em; }
div.list ol { margin-left: 1.72em; padding-left: 0em; }
div.list ul li { margin-right: 1em; padding: 0em; }
div.list ol li { margin-right: 1em; padding: 0em; }
div.list li + li { margin-top: 0.69em; }
div.simplelist &gt; table { border: none; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }

div.refentry h2.refentry {
  border: none;
  margin-top: 1em;
}
div.refentry + div.refentry {

  border-top: dashed black 1px;
}

table {
  border-collapse: collapse;
  border: solid 1px;
  -moz-border-radius: 5px;
}
tr.odd { background-color: #F0F0F0 }
td { padding: 4px 0.83em 4px 0.83em; }
th { padding-left: 0.8em; padding-right: 0.83em; }
thead {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
tfoot {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
td + td {
  border-left: solid 1px;
}
tbody {
  border: solid 1px;
  -moz-border-radius: 5px;
}

h1 { font-size: 1.72em; margin-top: 0em; }
h2 { font-size: 1.44em; }
h2.title { margin-top: 1.72em; border-bottom: solid 1px; }
h3 { font-size: 1.2em; }
h3.title { margin-top: 1.72em; }
h3 span.title { border-bottom: solid 1px; }
h4 { font-size: 1.0em; }
h4.title { margin-top: 1.44em; }
h4 span.title { border-bottom: solid 1px; }
h5 { font-size: 1em; margin-top: 1em; }
h6 { font-size: 1em; margin-top: 1em; }
h7 { font-size: 1em; margin-top: 1em; }

body {
  margin: 0px;
  direction: ltr;
}
div.body { padding: 12px; }
div.navbar {
  margin-left: 12px; margin-right: 12px; margin-bottom: 12px;
  padding: 6px;
  border: solid 1px;
}
div.navbar-prev { margin: 0px; padding: 0px; float: left; }
div.navbar-prev-sans-next { float: none; }
div.navbar-next { margin: 0px; padding: 0px; text-align: right; }
div {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
p {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
div + * { margin-top: 1em; }
p   + * { margin-top: 1em; }
p &gt; div { margin-top: 1em; margin-bottom: 1em; }
p &gt; div + div { margin-top: 0em; }
p { text-align: justify; }
</style></head><body><div class="body"><div class="sect1"><a name="controlling"/><h1 class="sect1 title"><span class="title">Controlling GDM</span></h1><p class="para">
      You can control GDM behavior during runtime in several different ways.
      You can either run certain commands, or you can talk to GDM using either
      a unix socket protocol, or a FIFO protocol.
    </p><div class="sect2"><a name="commands"/><h2 class="sect2 title"><span class="title"><span class="label">7.1. </span>Commands</span></h2><p class="para">
        To stop GDM, you can either send the TERM signal to the main daemon or
        run the <span class="command" style="font-family: monospace; ">gdm-stop</span> command which is in the
        <span class="filename" style="font-family: monospace; ">&lt;sbin&gt;/</span> directory.  To restart GDM, you can
        either send the HUP signal to the main daemon or run the
        <span class="command" style="font-family: monospace; ">gdm-restart</span> command which is also in the
        <span class="filename" style="font-family: monospace; ">&lt;sbin&gt;/</span> directory.  To restart GDM but only
        after all the users have logged out, you can either send the USR1
        signal to the main daemon or run the
        <span class="command" style="font-family: monospace; ">gdm-safe-restart</span> command which is in the
        <span class="filename" style="font-family: monospace; ">&lt;sbin&gt;/</span> directory as well.
      </p><p class="para">
        The <span class="command" style="font-family: monospace; ">gdmflexiserver</span> command can be used to start
        new flexible (on demand) displays if your system supports virtual
        terminals.  This command will normally lock the current session with a
        screensaver so that the user can safely walk away from the computer and
        let someone else log in.  If more that two flexible displays have 
        started <span class="command" style="font-family: monospace; ">gdmflexiserver</span> will display a pop-up dialog
        allowing the user to select which session to continue.  The user will
        normally have to enter a password to return to the session.  On session
        exit the system will return to the previous virtual terminal.  Run
        <span class="command" style="font-family: monospace; ">gdmflexiserver --help</span> to get a listing of possible
        options.  
      </p></div><div class="sect2"><a name="fifoprot"/><h2 class="sect2 title"><span class="title"><span class="label">7.2. </span>The FIFO protocol</span></h2><p class="para">
        GDM also provides a FIFO called <span class="filename" style="font-family: monospace; ">.gdmfifo</span> in the
        <span class="filename" style="font-family: monospace; ">ServAuthDir</span> directory
        (usually <span class="filename" style="font-family: monospace; ">&lt;var&gt;/gdm/.gdmfifo</span>).  You must be
        root to use this protocol, and it is mostly used for internal GDM
        chatter.  It is a very simple protocol where you just echo a command on
        a single line to this file.  It can be used to tell GDM things such as
        restart, suspend the computer, or restart all X servers next time it has
        a chance (which would be useful from an X configuration application).
      </p><p class="para">
        Full and up to date documentation of the commands and their use is
        contained in the GDM source tree in the file
        <span class="filename" style="font-family: monospace; ">daemon/gdm.h</span>.  Look for the defines starting with
        <span class="filename" style="font-family: monospace; ">GDM_SOP_</span>.  The commands which require the
        pid of the slave as an argument are the ones that are really used for
        internal communication of the slave with the master and should not be
        used.
      </p></div><div class="sect2"><a name="socketprot"/><h2 class="sect2 title"><span class="title"><span class="label">7.3. </span>Socket Protocol</span></h2><p class="para">
        GDM provides a unix domain socket for communication at
        <span class="filename" style="font-family: monospace; ">/tmp/.gdm_socket</span>.  Using this you can check if
        GDM is running, the version of the daemon, the current displays that
        are running and who is logged in on them, and if GDM supports it on
        your operating system, also the virtual terminals of all the console
        logins.  The <span class="command" style="font-family: monospace; ">gdmflexiserver</span> command uses this
        protocol, for example, to launch flexible (on-demand) displays.
      </p><p class="para">
        gdmflexiserver accepts the following commands with the --command
        option:
      </p><div class="screen block-indent"><pre class="screen">ADD_DYNAMIC_DISPLAY
ALL_SERVERS
ATTACHED_SERVERS
AUTH_LOCAL
CLOSE
FLEXI_XNEST
FLEXI_XNEST_USER
FLEXI_XSERVER
FLEXI_XSERVER_USER
GET_CONFIG
GET_CONFIG_FILE
GET_CUSTOM_CONFIG_FILE
GET_SERVER_LIST
GET_SERVER_DETAILS
GREETERPIDS
QUERY_LOGOUT_ACTION
QUERY_VT
RELEASE_DYNAMIC_DISPLAYS
REMOVE_DYNAMIC_DISPLAY
SERVER_BUSY
SET_LOGOUT_ACTION
SET_SAFE_LOGOUT_ACTION
SET_VT
UPDATE_CONFIG
VERSION
</pre></div><p class="para">
       These are described in detail below, including required arguments,
       response format, and return codes.
      </p><div class="sect3"><a name="adddynamic"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.1. </span>ADD_DYNAMIC_DISPLAY</span></h3><div class="screen block-indent"><pre class="screen">ADD_DYNAMIC_DISPLAY: Create a new server definition that will
                     run on the specified display leaving, it
                     in DISPLAY_CONFIG state.
Supported since: 2.8.0.0
Arguments: &lt;display to run on&gt;=&lt;server&gt;
  Where &lt;server&gt; is either a configuration named in the
  GDM configuration or a literal command name.
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     2 = Existing display
     3 = No server string
     4 = Display startup failure
     100 = Not authenticated
     200 = Dynamic Displays not allowed
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="allservers"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.2. </span>ALL_SERVERS</span></h3><div class="screen block-indent"><pre class="screen">ALL_SERVERS: List all displays, including console, remote, xnest.
             This can, for example, be useful to figure out if
             the display you are on is managed by the gdm daemon,
             by seeing if it is in the list.  It is also somewhat
             like the 'w' command but for graphical sessions.
Supported since: 2.4.2.96
Arguments: None
Answers:
  OK &lt;server&gt;;&lt;server&gt;;...

  &lt;server&gt; is &lt;display&gt;,&lt;logged in user&gt;

  &lt;logged in user&gt; can be empty in case no one logged in yet

  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="attachedservers"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.3. </span>ATTACHED_SERVERS</span></h3><div class="screen block-indent"><pre class="screen">ATTACHED_SERVERS: List all attached displays.  Doesn't list XDMCP
                  and xnest non-attached displays.
Note:             This command used to be named CONSOLE_SERVERS,
                  which is still recognized for backwards
                  compatibility. The optional pattern argument
                  is supported as of version 2.8.0.0.
Supported since: 2.2.4.0
Arguments: &lt;pattern&gt; (optional)
  With no argument, all attached displays are returned. The optional
  &lt;pattern&gt; is a string that may contain glob characters '*', '?', and
  '[]'. Only displays that match the pattern will be returned.
Answers:
  OK &lt;server&gt;;&lt;server&gt;;...

  &lt;server&gt; is &lt;display&gt;,&lt;logged in user&gt;,&lt;vt or xnest display&gt;

  &lt;logged in user&gt; can be empty in case no one logged
  in yet, and &lt;vt&gt; can be -1 if it's not known or not
  supported (on non-Linux for example).  If the display is an
  xnest display and is a console one (that is, it is an xnest
  inside another console display) it is listed and instead of
  vt, it lists the parent display in standard form.

  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="authlocal"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.4. </span>AUTH_LOCAL</span></h3><div class="screen block-indent"><pre class="screen">AUTH_LOCAL: Setup this connection as authenticated for
            FLEXI_SERVER.  Because all full blown (non-Xnest)
            displays can be started only from users logged in
            locally, and here GDM assumes only users logged
            in from GDM.  They must pass the xauth
            MIT-MAGIC-COOKIE-1 that they were passed before
            the connection is authenticated.
Note:       The AUTH LOCAL command requires the
            --authenticate option, although only
            FLEXI XSERVER uses this currently.
Note:       Since 2.6.0.6 you can also use a global
            &lt;ServAuthDir&gt;/.cookie, which works for all
            authentication except for SET_LOGOUT_ACTION and
            QUERY_LOGOUT_ACTION and SET_SAFE_LOGOUT_ACTION
            which require a logged in display.
Supported since: 2.2.4.0
Arguments: &lt;xauth cookie&gt;
  &lt;xauth cookie&gt; is in hex form with no 0x prefix
Answers:
  OK
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="close"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.5. </span>CLOSE</span></h3><div class="screen block-indent"><pre class="screen">CLOSE: Close sockets connection
Supported since: 2.2.4.0
Arguments: None
Answers: None
</pre></div></div><div class="sect3"><a name="flexixnest"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.6. </span>FLEXI_XNEST</span></h3><div class="screen block-indent"><pre class="screen">FLEXI_XNEXT: Start a new flexible Xnest display.
Note:        Supported on older version from 2.2.4.0, later
             2.2.4.2, but since 2.3.90.4 you must supply 4
             arguments or ERROR 100 will be returned.  This
             will start Xnest using the XAUTHORITY file
             supplied and as the uid same as the owner of
             that file (and same as you supply).  You must
             also supply the cookie as the third argument
             for this display, to prove that you indeed are
             this user.  Also this file must be readable
             ONLY by this user, that is have a mode of 0600.
             If this all is not met, ERROR 100 is returned.
Note:        The cookie should be the MIT-MAGIC-COOKIE-1,
             the first one GDM can find in the XAUTHORITY
             file for this display.  If that's not what you
             use you should generate one first.  The cookie
             should be in hex form.
Supported since: 2.3.90.4
Arguments: &lt;display to run on&gt; &lt;uid of requesting user&gt;
           &lt;xauth cookie for the display&gt; &lt;xauth file&gt;
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = No more flexi servers
     2 = Startup errors
     3 = X failed
     4 = X too busy
     5 = Xnest can't connect
     6 = No server binary
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="flexixnestuser"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.7. </span>FLEXI_XNEST_USER</span></h3><div class="screen block-indent"><pre class="screen">FLEXI_XNEST_USER: Start a new flexible Xnest display and
                  initialize the greeter with the given username.
Note:             This is a variant of the FLEXI_XNEST command.
Note:             The cookie should be the MIT-MAGIC-COOKIE-1,
                  the first one GDM can find in the XAUTHORITY
                  file for this display.  If that's not what you
                  use you should generate one first.  The cookie
                  should be in hex form.
Supported since:  2.17.7
Arguments: &lt;username&gt; &lt;display to run on&gt; &lt;uid of requesting user&gt;
           &lt;xauth cookie for the display&gt; &lt;xauth file&gt;
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = No more flexi servers
     2 = Startup errors
     3 = X failed
     4 = X too busy
     5 = Xnest can't connect
     6 = No server binary
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="flexixserver"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.8. </span>FLEXI_XSERVER</span></h3><div class="screen block-indent"><pre class="screen">FLEXI_XSERVER: Start a new X flexible display.  Only supported on
               connection that passed AUTH_LOCAL
Supported since: 2.2.4.0
Arguments: &lt;xserver type&gt;
  If no arguments, starts the standard X server
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = No more flexi servers
     2 = Startup errors
     3 = X failed
     4 = X too busy
     6 = No server binary
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="flexixserveruser"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.9. </span>FLEXI_XSERVER_USER</span></h3><div class="screen block-indent"><pre class="screen">FLEXI_XSERVER_USER: Start a new X flexible display and initialize the
                    greeter with the given username.  Only supported on
                    connection that passed AUTH_LOCAL
Supported since:    2.17.7 
Arguments: &lt;username&gt; &lt;xserver type&gt;
  If no server type specified, starts the standard X server
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = No more flexi servers
     2 = Startup errors
     3 = X failed
     4 = X too busy
     6 = No server binary
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="getconfig"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.10. </span>GET_CONFIG</span></h3><div class="screen block-indent"><pre class="screen">GET_CONFIG:  Get configuration value for key.  Useful so
             that other applications can request configuration
             information from GDM.  Any key defined as GDM_KEY_*
             in gdm.h is supported.  Starting with version 2.13.0.2
             translated keys (such as "greeter/GdmWelcome[cs]" are
             supported via GET_CONFIG.  Also starting with version
             2.13.0.2 it is no longer necessary to include the
             default value (i.e. you can use key "greeter/IncludeAll"
             instead of having to use "greeter/IncludeAll=false".  
Supported since: 2.6.0.9
Arguments: &lt;key&gt;
Answers:
  OK &lt;value&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     50 = Unsupported key
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="getconfigfile"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.11. </span>GET_CONFIG_FILE</span></h3><div class="screen block-indent"><pre class="screen">GET_CONFIG_FILE:  Get config file location being used by
                  the daemon.  If the GDM daemon was started
                  with the --config option, it will return
                  the value passed in via the argument.
Supported since: 2.8.0.2
Arguments: None
Answers:
  OK &lt;full path to GDM configuration file&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="getcustomconfigfile"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.12. </span>GET_CUSTOM_CONFIG_FILE</span></h3><div class="screen block-indent"><pre class="screen">GET_CUSTOM_CONFIG_FILE:  Get custom config file location being
                        used by the daemon.
Supported since: 2.14.0.0
Arguments: None
Answers:
  OK &lt;full path to GDM custom configuration file&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = File not found
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="getserverdetails"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.13. </span>GET_SERVER_DETAILS</span></h3><div class="screen block-indent"><pre class="screen">GET_SERVER_DETAILS:  Get detail information for a specific server.
Supported since: 2.13.0.4
Arguments: &lt;server&gt; &lt;key&gt;
  Key values include:
    NAME      - Returns the server name
    COMMAND   - Returns the server command
    FLEXIBLE  - Returns "true" if flexible, "false"
                otherwise
    CHOOSABLE - Returns "true" if choosable, "false"
                otherwise
    HANDLED   - Returns "true" if handled, "false"
                otherwise
    CHOOSER   - Returns "true" if chooser, "false"
                otherwise
    PRIORITY  - Returns process priority
Answers:
  OK &lt;value&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = Server not found
     2 = Key not valid
     50 = Unsupported key
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="getserverlist"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.14. </span>GET_SERVER_LIST</span></h3><div class="screen block-indent"><pre class="screen">GET_SERVER_LIST:  Get a list of the server sections from
                  the configuration file.
Supported since: 2.13.0.4
Arguments: None
Answers:
  OK &lt;value&gt;;&lt;value&gt;;...
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = No servers found
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="greeterpids"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.15. </span>GREETERPIDS</span></h3><div class="screen block-indent"><pre class="screen">GREETERPIDS: List all greeter pids so that one can send HUP
             to them for config rereading.  Of course one
             must be root to do that.
Supported since: 2.3.90.2
Arguments: None
Answers:
  OK &lt;pid&gt;;&lt;pid&gt;;...
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="querylogoutaction"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.16. </span>QUERY_LOGOUT_ACTION</span></h3><div class="screen block-indent"><pre class="screen">QUERY_LOGOUT_ACTION: Query which logout actions are possible
                     Only supported on connections that passed
                     AUTH_LOCAL.
Supported since: 2.5.90.0
Answers:
  OK &lt;action&gt;;&lt;action&gt;;...
     Where action is one of HALT, REBOOT, SUSPEND or CUSTOM_CMD[0-9].
     An empty list can also be returned if no action is possible.
     A '!' is appended to an action if it was already set with
     SET_LOGOUT_ACTION or SET_SAFE_LOGOUT_ACTION.  Note that
     SET_LOGOUT_ACTION has precedence over
     SET_SAFE_LOGOUT_ACTION.
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="querycustomcmdlabels"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.17. </span>QUERY_CUSTOM_CMD_LABELS</span></h3><div class="screen block-indent"><pre class="screen"> QUERY_CUSTOM_CMD_LABELS: Query labels belonging to exported custom
                          commands Only supported on connections that
                          passed AUTH_LOCAL.
 Supported since: 2.5.90.0
 Answers:
   OK &lt;label1&gt;;&lt;label2&gt;;...
      Where labelX is one of the labels belonging to CUSTOM_CMDX
      (where X in [0,GDM_CUSTOM_COMMAND_MAX)).  An empty list can
      also be returned if none of the custom commands are exported
      outside login manager (no CustomCommandIsPersistent options
      are set to true).  
   ERROR &lt;err number&gt; &lt;english error description&gt;
      0 = Not implemented
      100 = Not authenticated
      200 = Too many messages
      999 = Unknown error
</pre></div></div><div class="sect3"><a name="querycustomcmdnorestartstatus"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.18. </span>QUERY_CUSTOM_CMD_NO_RESTART_STATUS</span></h3><div class="screen block-indent"><pre class="screen">QUERY_CUSTOM_CMD_NO_RESTART_STATUS: Query NoRestart config options
                                    for each of custom commands Only
                                    supported on connections that
                                    passed AUTH_LOCAL.
Supported since: 2.5.90.0
Answers:
  OK &lt;status&gt;
     Where each bit of the status represents NoRestart value for
     each of the custom commands.
     bit on (1):  NoRestart = true, 
     bit off (0): NoRestart = false.
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="queryvt"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.19. </span>QUERY_VT</span></h3><div class="screen block-indent"><pre class="screen">QUERY_VT:  Ask the daemon about which VT we are currently on.
           This is useful for logins which don't own
           /dev/console but are still console logins.  Only
           supported on Linux currently, other places will
           just get ERROR 8.  This is also the way to query
           if VT support is available in the daemon in the
           first place.  Only supported on connections that
           passed AUTH_LOCAL.
Supported since: 2.5.90.0
Arguments: None
Answers:
  OK &lt;vt number&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     8 = Virtual terminals not supported
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="releasedynamic"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.20. </span>RELEASE_DYNAMIC_DISPLAYS</span></h3><div class="screen block-indent"><pre class="screen">RELEASE_DYNAMIC_DISPLAYS: Release dynamic displays currently in 
                          DISPLAY_CONFIG state
Supported since: 2.8.0.0
Arguments: &lt;display to release&gt;
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = Bad display number
     100 = Not authenticated
     200 = Dynamic Displays not allowed
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="removedynamic"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.21. </span>REMOVE_DYNAMIC_DISPLAY</span></h3><div class="screen block-indent"><pre class="screen">REMOVE_DYNAMIC_DISPLAY: Remove a dynamic display, killing the server
                        and purging the display configuration
Supported since: 2.8.0.0
Arguments: &lt;display to remove&gt;
Answers:
  OK &lt;display&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     1 = Bad display number
     100 = Not authenticated
     200 = Dynamic Displays not allowed
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="serverbusy"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.22. </span>SERVER_BUSY</span></h3><div class="screen block-indent"><pre class="screen">SERVER_BUSY:  Returns true if half or more of the daemon's sockets
              are busy, false otherwise.  Used by slave programs
              which want to ensure they do not overwhelm the 
              sever.
Supported since: 2.13.0.8
Arguments: None
Answers:
  OK &lt;value&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="setlogoutaction"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.23. </span>SET_LOGOUT_ACTION</span></h3><div class="screen block-indent"><pre class="screen">SET_LOGOUT_ACTION: Tell the daemon to halt/restart/suspend after
                   slave process exits.  Only supported on
                   connections that passed AUTH_LOCAL.
Supported since: 2.5.90.0
Arguments: &lt;action&gt;
  NONE               Set exit action to 'none'
  HALT               Set exit action to 'halt'
  REBOOT             Set exit action to 'reboot'
  SUSPEND            Set exit action to 'suspend'
  CUSTOM_CMD[0-9]    Set exit action to 'custom command [0-9]'
Answers:
  OK
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     7 = Unknown logout action, or not available
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="setsafelogoutaction"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.24. </span>SET_SAFE_LOGOUT_ACTION</span></h3><div class="screen block-indent"><pre class="screen">SET_SAFE_LOGOUT_ACTION:  Tell the daemon to halt/restart/suspend
                         after everybody logs out.  If only one
                         person logs out, then this is obviously
                         the same as the SET_LOGOUT_ACTION.  Note
                         that SET_LOGOUT_ACTION has precedence
                         over SET_SAFE_LOGOUT_ACTION if it is set
                         to something other then NONE.  If no one
                         is logged in, then the action takes effect
                         effect immediately.  Only supported on
                         connections that passed AUTH_LOCAL.
Supported since: 2.5.90.0
Arguments: &lt;action&gt;
  NONE               Set exit action to 'none'
  HALT               Set exit action to 'halt'
  REBOOT             Set exit action to 'reboot'
  SUSPEND            Set exit action to 'suspend'
  CUSTOM_CMD[0-9]    Set exit action to 'custom command [0-9]'
Answers:
  OK
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     7 = Unknown logout action, or not available
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="setvt"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.25. </span>SET_VT</span></h3><div class="screen block-indent"><pre class="screen">SET_VT:  Change to the specified virtual terminal.
         This is useful for logins which don't own /dev/console
         but are still console logins.  Only supported on Linux
         currently, other places will just get ERROR 8.
         Only supported on connections that passed AUTH_LOCAL.
Supported since: 2.5.90.0
Arguments: &lt;vt&gt;
Answers:
  OK
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     8 = Virtual terminals not supported
     9 = Invalid virtual terminal number
     100 = Not authenticated
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="updateconfig"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.26. </span>UPDATE_CONFIG</span></h3><div class="screen block-indent"><pre class="screen">UPDATE_CONFIG: Tell the daemon to re-read a key from the 
               GDM configuration file.   Any user can request
               that values are re-read but the daemon will
               only do so if the file has been modified
               since GDM first read the file.  Only users
               who can change the GDM configuration file
               (normally writable only by the root user) can
               actually modify the GDM configuration.  This
               command is useful to cause the GDM to update
               itself to recognize a change made to the GDM
               configuration file by the root user.

               Starting with version 2.13.0.0, all GDM keys are
               supported except for the following:

                      daemon/PidFile
                      daemon/ConsoleNotify
                      daemon/User
                      daemon/Group
                      daemon/LogDir
                      daemon/ServAuthDir
                      daemon/UserAuthDir
                      daemon/UserAuthFile
                      daemon/UserAuthFBDir

               GDM also supports the following Psuedokeys:

               xdmcp/PARAMETERS (2.3.90.2) updates the following:
                      xdmcp/MaxPending
                      xdmcp/MaxSessions
                      xdmcp/MaxWait
                      xdmcp/DisplaysPerHost
                      xdmcp/HonorIndirect
                      xdmcp/MaxPendingIndirect
                      xdmcp/MaxWaitIndirect
                      xdmcp/PingIntervalSeconds (only affects new connections)

                xservers/PARAMETERS (2.13.0.4) updates the following:
                      all [server-foo] sections.

                Supported keys for previous versions of GDM:

                      security/AllowRoot (2.3.90.2)
                      security/AllowRemoteRoot (2.3.90.2)
                      security/AllowRemoteAutoLogin (2.3.90.2)
                      security/RetryDelay (2.3.90.2)
                      security/DisallowTCP (2.4.2.0)
                      daemon/Greeter (2.3.90.2)
                      daemon/RemoteGreeter (2.3.90.2)
                      xdmcp/Enable (2.3.90.2)
                      xdmcp/Port (2.3.90.2)
                      daemon/TimedLogin (2.3.90.3)
                      daemon/TimedLoginEnable (2.3.90.3)
                      daemon/TimedLoginDelay (2.3.90.3)
                      greeter/SystemMenu (2.3.90.3)
                      greeter/ConfigAvailable (2.3.90.3)
                      greeter/ChooserButton (2.4.2.0)
                      greeter/SoundOnLoginFile (2.5.90.0)
                      daemon/AddGtkModules (2.5.90.0)
                      daemon/GtkModulesList (2.5.90.0)
Supported since: 2.3.90.2
Arguments: &lt;key&gt;
  &lt;key&gt; is just the base part of the key such as
  "security/AllowRemoteRoot"
Answers:
  OK
  ERROR &lt;err number&gt; &lt;english error description&gt;
     0 = Not implemented
     50 = Unsupported key
     200 = Too many messages
     999 = Unknown error
</pre></div></div><div class="sect3"><a name="queryversion"/><h3 class="sect3 title"><span class="title"><span class="label">7.3.27. </span>VERSION</span></h3><div class="screen block-indent"><pre class="screen">VERSION: Query GDM version
Supported since: 2.2.4.0
Arguments: None
Answers:
  GDM &lt;gdm version&gt;
  ERROR &lt;err number&gt; &lt;english error description&gt;
     200 = Too many messages
     999 = Unknown error
</pre></div></div></div></div></div><div class="navbar"><div class="navbar-prev"><span class="navbar-prev"><a class="navbar navbar-prev" href="configuration.html" title="Configuration">Configuration</a></span></div><div class="navbar-next"><span class="navbar-next"><a class="navbar navbar-next" href="binaries.html" title="GDM Commands">GDM Commands</a></span></div></div></body></html>
