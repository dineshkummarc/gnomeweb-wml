<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Themed Greeter</title><link rel="previous" href="binaries.html" title="GDM Commands"/><link rel="next" href="accessibility.html" title="Accessibility"/><link rel="top" href="index.html" title="Gnome Display Manager Reference Manual"/><style type="text/css">
div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

div.admonition {
  padding: 4px 8px 4px 56px;
  min-height: 52px;
  border: solid 1px #D1940C;
  background-position: 4px 4px;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("caution.png");
}
div.important {
  background-image: url("important.png");
}
div.note {
  background-image: url("note.png");
}
div.tip {
  background-image: url("tip.png");
}
div.warning {
  background-image: url("warning.png");
}

div.autotoc { margin-left: 2em; padding: 0em; }
div.autotoc ul { margin-left: 0em; padding-left: 0em; }
div.autotoc ul li {
  margin-right: 0em; padding: 0em;
  list-style-type: none;
}

* + div.biblioentry { margin-top: 1.2em; }
* + div.bibliomixed { margin-top: 1.2em; }

.block-indent { margin-left: 1.72em; margin-right: 1em; }
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
pre.programlisting {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.screen {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.synopsis { overflow: auto; }
pre.linenumbering {
  
  margin-top: 0px;
  margin-left: 0.83em;
  padding: 6px 0.4em 6px 0.4em;
  border: solid 1px black;
  -moz-border-radius: 8px;
  background-color: black;
  color: white;
  -moz-opacity: .3;
  float: left;
  text-align: right;
}
dt.glossterm { margin-left: 0em; }
dd + dt.glossterm { margin-top: 2em; }
dd.glossdef, dd.glosssee, dd.glossseealso
  { margin-top: 1em; margin-left: 2em; margin-right: 1em; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

div.list { margin-left: 0px; margin-bottom: 1em; padding: 0px; }
div.list dl dt { margin-left: 0em; }
div.list dl dd + dt { margin-top: 1em; }
div.list dl dd {
  margin-top: 0.69em;
  margin-left: 1.72em;
  margin-right: 1em;
}
div.list ul { margin-left: 1.72em; padding-left: 0em; }
div.list ol { margin-left: 1.72em; padding-left: 0em; }
div.list ul li { margin-right: 1em; padding: 0em; }
div.list ol li { margin-right: 1em; padding: 0em; }
div.list li + li { margin-top: 0.69em; }
div.simplelist &gt; table { border: none; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }

div.refentry h2.refentry {
  border: none;
  margin-top: 1em;
}
div.refentry + div.refentry {

  border-top: dashed black 1px;
}

table {
  border-collapse: collapse;
  border: solid 1px;
  -moz-border-radius: 5px;
}
tr.odd { background-color: #F0F0F0 }
td { padding: 4px 0.83em 4px 0.83em; }
th { padding-left: 0.8em; padding-right: 0.83em; }
thead {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
tfoot {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
td + td {
  border-left: solid 1px;
}
tbody {
  border: solid 1px;
  -moz-border-radius: 5px;
}

h1 { font-size: 1.72em; margin-top: 0em; }
h2 { font-size: 1.44em; }
h2.title { margin-top: 1.72em; border-bottom: solid 1px; }
h3 { font-size: 1.2em; }
h3.title { margin-top: 1.72em; }
h3 span.title { border-bottom: solid 1px; }
h4 { font-size: 1.0em; }
h4.title { margin-top: 1.44em; }
h4 span.title { border-bottom: solid 1px; }
h5 { font-size: 1em; margin-top: 1em; }
h6 { font-size: 1em; margin-top: 1em; }
h7 { font-size: 1em; margin-top: 1em; }

body {
  margin: 0px;
  direction: ltr;
}
div.body { padding: 12px; }
div.navbar {
  margin-left: 12px; margin-right: 12px; margin-bottom: 12px;
  padding: 6px;
  border: solid 1px;
}
div.navbar-prev { margin: 0px; padding: 0px; float: left; }
div.navbar-prev-sans-next { float: none; }
div.navbar-next { margin: 0px; padding: 0px; text-align: right; }
div {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
p {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
div + * { margin-top: 1em; }
p   + * { margin-top: 1em; }
p &gt; div { margin-top: 1em; margin-bottom: 1em; }
p &gt; div + div { margin-top: 0em; }
p { text-align: justify; }
</style></head><body><div class="body"><div class="sect1"><a name="thememanual"/><h1 class="sect1 title"><span class="title">Themed Greeter</span></h1><p class="para">
      This section describes the creation of themes for the Themed
      Greeter.  For examples including screenshots, see the standard installed
      themes and the themes from
      <a class="ulink" href="http://art.gnome.org/themes/gdm_greeter/" title="http://art.gnome.org/themes/gdm_greeter/">
      the theme website</a>.
    </p><div class="sect2"><a name="themeover"/><h2 class="sect2 title"><span class="title"><span class="label">9.1. </span>Theme Overview</span></h2><p class="para">
        GDM Themes can be created by creating an XML file that follows the
        specification in gui/greeter/greeter.dtd.  Theme files are stored
        in the directory
        <span class="filename" style="font-family: monospace; ">&lt;share&gt;/gdm/themes/&lt;theme_name&gt;</span>.
        Usually this would be under <span class="filename" style="font-family: monospace; ">/usr/share</span>.  The theme
        directory should contain a file called
        <span class="filename" style="font-family: monospace; ">GdmGreeterTheme.desktop</span> which has similar format
        to other .desktop files and looks like:
      </p><div class="screen block-indent"><pre class="screen">[GdmGreeterTheme]
Encoding=UTF-8
Greeter=circles.xml
Name=Circles
Description=Theme with blue circles
Author=Bond, James Bond
Copyright=(c) 2002 Bond, James Bond
Screenshot=screenshot.png
</pre></div><p class="para">
        The Name, Description, Author and Copyright fields can be translated
        just like the other <span class="filename" style="font-family: monospace; ">.desktop</span>files.  All the files
        that are mentioned should be in the theme directory itself.  The
        Screenshot field points to a file which should be a 200x150 screenshot
        of the theme in action (it is OK not to have one, but it makes it nicer
        for user).  The Greeter field points to an XML file that contains the
        description of the theme.  The description will be given later.
      </p><p class="para">
        Once you have theme ready and installed you can test it with the
        installed <span class="command" style="font-family: monospace; ">gdmthemetester</span> script.  This script
        assumes that the X server supports Xnest.  This command takes two
        arguments, first the environment that should be used.  This is one of
        console, console-timed, flexi, remote-flexi, xdmcp.  Where console is a
        standard console login, console-timed is a console login with a timed
        login going on, flexi is for any local flexible display, remote-flexi
        is for flexi displays that are not local (such as an Xnest flexiserver
        run from a remote display) and xdmcp is for remote XDMCP connections.
        The second argument is the theme name.  So for example to test how
        things look in the XDMCP mode with the circles theme you would run:
      </p><div class="screen block-indent"><pre class="screen"><span class="command" style="font-family: monospace; ">gdmthemetester xdmcp circles</span>
</pre></div><p class="para">
        Be sure to test all the environments with your theme, and make sure to
        test how the caps lock warning looks by pressing caps lock.  This is
        also a good way to take screenshots, just take a screenshot of the
        Xnest window.  This can be done in GNOME by focusing the Xnest window
        and pressing Alt-PrintScreen.
      </p><p class="para">
        Once you have all this done, then make a tarball that contains the
        directory name (so that you could just untar it in the
        <span class="filename" style="font-family: monospace; ">&lt;share&gt;/gdm/themes</span> directory).  And this is
        the tarball you distribute and people can install from the graphical
        configuration application.  You can do this with the commands:
<div class="screen block-indent"><pre class="screen">cd &lt;share&gt;/gdm/themes
tar czvf &lt;theme_name&gt;.tar.gz &lt;theme_name&gt;/
</pre></div>
      </p></div><div class="sect2"><a name="descofthemeformat"/><h2 class="sect2 title"><span class="title"><span class="label">9.2. </span>Detailed Description of Theme XML format</span></h2><div class="sect3"><a name="greetertag"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.1. </span>greeter tag</span></h3><p class="para">
            The GDM theme format is specified in XML format contained
            within a &lt;greeter&gt; tag.  You may specify a GTK+ theme to
            be used with this theme by using the gtk-theme element in the
            greeter tag as in the following example.
          </p><div class="screen block-indent"><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE greeter SYSTEM "greeter.dtd"&gt;
&lt;greeter gtk-theme="Crux"&gt;
[...]
&lt;/greeter&gt;
</pre></div><p class="para">
            Contained within the greeter tag can be the nodes described
            in the next sections of this document.  Some of these nodes are
            containers (box nodes, rect item nodes) which can be used to
            organize how to display the nodes that the user sees and interacts
            with (such as button, pixmap and entry item nodes).
          </p></div><div class="sect3"><a name="boxnodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.2. </span>Box Nodes</span></h3><p class="para">
          Box nodes are container nodes for item nodes.  Box nodes are
          specified as follows:
<div class="screen block-indent"><pre class="screen">&lt;box orientation="alignment" min-width="num"
xpadding="num" ypadding="num" spacing="num"
homogeneous="bool"&gt;
</pre></div>
          Where "num" means number and bool means either
          "true" or "false" The alignment value can be
          either "horizontal" or "vertical".  If you leave
          any property off it will default to zero or "false" in
          case of "homogeneous" and "vertical" for the
          orientation.
        </p><p class="para">
          If the box is homogeneous then the children are allocated equal
          amount of space.
        </p><p class="para">
          The "min-width" must be specified in pixels.  Obviously
          there is also a corresponding "min-height" property as
          well.
        </p></div><div class="sect3"><a name="fixednodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.3. </span>Fixed Nodes</span></h3><p class="para">
          Fixed is a container that has its children scattered about
          laid out with precise coordinates.  The size of this container
          is the biggest rectangle that contains all the children.  Fixed
          has no extra properties and so you just use:
<div class="screen block-indent"><pre class="screen">&lt;fixed&gt;
</pre></div>
          Then you put other items with proper position nodes inside this.
        </p><p class="para">
          The "toplevel" node is really just like a fixed node.
        </p></div><div class="sect3"><a name="itemnodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.4. </span>Item Nodes</span></h3><p class="para">
          A GDM Theme is created by specifying a hierarchy of item and box
          nodes.  Item nodes can have the following value for
          "type":
        </p><div class="list"><div class="variablelist"><dl><dt><span class="term">button</span></dt><dd>
              <p class="para">
                A button field.  This field uses a GTK+ button.  It is also
                possible to make a "rect" item act like a button by setting
                its button element to true.  However it is better to use
                GTK+ buttons in GDM themes since these are accessible to
                users with disabilities.  Also, GTK+ buttons can be
                themed.  This feature is supported in GDM 2.14.6 and later.
              </p>
            </dd><dt><span class="term">entry</span></dt><dd>
              <p class="para">
                Text entry field.
              </p>
            </dd><dt><span class="term">label</span></dt><dd>
              <p class="para">
                A text label.  Must have a "text" node to specify the
                text.
              </p>
            </dd><dt><span class="term">list</span></dt><dd>
              <p class="para">
                 A face browser widget.  Only useful if the face browser is
                 enabled via the configuration.
              </p>
            </dd><dt><span class="term">pixmap</span></dt><dd>
              <p class="para">
                An pixmap image in a format that gdk-pixbuf supports like
                PNG, JPEG, Tiff, etc...)
              </p>
            </dd><dt><span class="term">rect</span></dt><dd>
              <p class="para">
                Rectangle.
              </p>
            </dd><dt><span class="term">svg</span></dt><dd>
              <p class="para">
                Scaled Vector Graphic image.
              </p>
            </dd></dl></div></div><p class="para">
          For example: 
<div class="screen block-indent"><pre class="screen">&lt;item type="label"&gt;
</pre></div>
          Items can specify ID values which gives them a specific look and feel
          or formatting.  Furthermore you can customize the login process by
          adding custom widgets with custom id's for some items (currently only
          the list item)
        </p><p class="para">
          Entry items can have id values as follows:
        </p><div class="list"><div class="variablelist"><dl><dt><span class="term">user-pw-entry</span></dt><dd>
              <p class="para">
                Entry field for userid and password entry.  This is the field
                used for responses for the PAM/GDM questions (Username,
                Password, etc..).
              </p>
            </dd></dl></div></div><p class="para">
          List items by default display as lists, but the
          combo="true" attribute can be used to specify combo box
          style (combo style supported since GDM 2.16.2).  Some predefined
          lists may be included in a theme by using the following id values.
          Customized lists may also be defined, which are explained below.
        </p><div class="list"><div class="variablelist"><dl><dt><span class="term">session</span></dt><dd>
              <p class="para">
                A list of available sessions, which allows the user to pick
                the session to use.  Supported since GDM 2.16.2.
              </p>
            </dd></dl></div></div><div class="list"><div class="variablelist"><dl><dt><span class="term">language</span></dt><dd>
              <p class="para">
                A list of available languages, which allows the user to pick
                the language to use.  Supported since GDM 2.16.2.
              </p>
            </dd></dl></div></div><div class="list"><div class="variablelist"><dl><dt><span class="term">userlist</span></dt><dd>
              <p class="para">
                A Face Browser list, so that users can pick their username
                by clicking on this instead of typing.  This obviously exposes
                the usernames to viewers of the login screen, and is not
                recommended for users who feel that this reduces security.
                The face browser does not support combo box style.
              </p>
            </dd></dl></div></div><div class="list"><div class="variablelist"><dl><dt><span class="term">userlist-rect</span></dt><dd>
              <p class="para">
                This id can be specified for the &lt;rect&gt; object containing
                the userlist and if the userlist is empty then this rectangle
                will not be shown.  This allows the theme to define something
                like an area with a different color and/or alpha to surround
                the userlist, but only if there are users to display.
                Supported since 2.16.2.
              </p>
            </dd></dl></div></div><p class="para">
          Furthermore, you can have an arbitrary id (I'd recommend starting
          the id with 'custom' not to conflict with future additions to this
          spec) and ask extra information of the user.  See the section
          'Custom Widgetry'
        </p><p class="para">
          Label items can have id values as follows:
        </p><div class="list"><div class="variablelist"><dl><dt><span class="term">clock</span></dt><dd>
              <p class="para">
                Label that displays the date and time.
              </p>
            </dd><dt><span class="term">pam-prompt</span></dt><dd>
              <p class="para">
                Label that displays the PAM prompt.  This is the prompt that PAM
                uses to ask for username, password, etc...
              </p>
            </dd><dt><span class="term">pam-error</span></dt><dd>
              <p class="para">
                Label that displayst PAM/GDM error messages.  Such as when user
                can't log in.
              </p>
            </dd><dt><span class="term">pam-error-logo</span></dt><dd>
              <p class="para">
                An image that will be displayed only when a pam-error message
                is being displayed.  This is useful for displaying an
                "Attention" icon, for example.  This feature is
                supported in GDM 2.14.6 and later.
              </p>
            </dd><dt><span class="term">pam-message</span></dt><dd>
              <p class="para">
                Label that displays the PAM message.  These are messages that
                PAM/GDM gives about state of the account, help about the
                prompts and other information.
              </p>
            </dd><dt><span class="term">timed-label</span></dt><dd>
              <p class="para">
                Label that displays timed login information.
              </p>
            </dd></dl></div></div><p class="para">
          Rectangles can have id values as follows:
        </p><div class="list"><div class="variablelist"><dl><dt><span class="term">caps-lock-warning</span></dt><dd>
              <p class="para">
                Displays an icon that shows if the
                CAPS LOCK key is depressed.  This rectangle
                will be hidden/shown appropriately
              </p>
            </dd></dl></div></div><p class="para">
          If an item is of type rect, the item can be a button.  Buttons
          must also include a "button" value as follows:
<div class="screen block-indent"><pre class="screen">&lt;item type="rect" id="disconnect_button" button="true"&gt;.
</pre></div>
        </p><p class="para">
          Possible values for button ids are as follows.  
        </p><div class="list"><div class="variablelist"><dl><dt><span class="term">chooser_button</span></dt><dd>
              <p class="para">
                Runs the XDMCP chooser.
              </p>
            </dd><dt><span class="term">config_button</span></dt><dd>
              <p class="para">
                Runs the GDM configuration application.
              </p>
            </dd><dt><span class="term">custom_cmd_button[0-9]</span></dt><dd>
              <p class="para">
                Runs the <span class="filename" style="font-family: monospace; ">n-th</span> custom command.
              </p>
            </dd><dt><span class="term">disconnect_button</span></dt><dd>
              <p class="para">
                Disconnect from remote session.
              </p>
            </dd><dt><span class="term">language_button</span></dt><dd>
              <p class="para">
                Displays the language selection dialog.
              </p>
            </dd><dt><span class="term">halt_button</span></dt><dd>
              <p class="para">
                Halt (shuts down) the system.
              </p>
            </dd><dt><span class="term">reboot_button</span></dt><dd>
              <p class="para">
                Restart the system.
              </p>
            </dd><dt><span class="term">session_button</span></dt><dd>
              <p class="para">
                List and select from available sessions.
              </p>
            </dd><dt><span class="term">suspend_button</span></dt><dd>
              <p class="para">
                Suspend the system.
              </p>
            </dd><dt><span class="term">system_button</span></dt><dd>
              <p class="para">
                Perform halt/restart/suspend/etc. options (if allowed by GDM
                configuration).  Also allows user to run configurator if user
                enters root password (again if allowed by GDM configuration).
                This is usually now labeled Actions, and referred to as the
                Actions menu.
              </p>
            </dd></dl></div></div></div><div class="sect3"><a name="positionnodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.5. </span>Position Node</span></h3><p class="para">
          Each item can specify its position and size via the "pos"
          node.  For example:
<div class="screen block-indent"><pre class="screen">&lt;pos x="0" y="4" width="100%" height="100%"/&gt;
</pre></div>
        </p><p class="para">
          Both position and size can be given in percent and it will be taken
          as the percentage of the size of the current container.  For toplevel
          items it's the percentage of the whole screen.
        </p><p class="para">
          For x and y, you can also specify a negative position which means
          position from the right or bottom edge.  But this only applies with
          absolute coordinates.  With percentage you can specify negative
          position and it will be still from the same edge.
        </p><p class="para">
          The position also specifies the anchor of the item, this can be
          "n" "ne" "e" "se"
          "s" "sw" "w" and "nw" or
          "center" which stand for the different edges/corners or
          "center" for center.  For example:
<div class="screen block-indent"><pre class="screen">&lt;pos x="10%" y="50%" anchor="w" width="80%" height="95"/&gt;
</pre></div>
        </p><p class="para">
          If the item contains a box, you can specify width and height to be
          "box" to mean that they are supposed to be the width and
          height of the box, that is the items in the box plus the padding.
        </p><p class="para">
          If the item contains an SVG image, you can specify width and height
          to be "scale" to mean that the SVG image should be scaled
          to fit the requested area.
        </p><p class="para">
          You can also specify an "expand" property to either be
          "true" or false.  If true then the child will be expanded
          in the box as much as possible (that is it will be given more space
          if available).
        </p><p class="para">
          There are two extra properties you can specify (as of 2.4.4.3) for
          labels (and labels only).  The first is "max-width" which
          will specify the maximum width of the label in pixels.  And the
          second is "max-screen-percent-width" which specifies the
          maximum percentage of the screen width that the label can occupy.
          By default no label will occupy more then 90% of the screen by width.
          An example may be:
<div class="screen block-indent"><pre class="screen">&lt;item type="label"&gt;
&lt;pos x="10%" max-screen-percent-width="50%"/&gt;
</pre></div>
        </p></div><div class="sect3"><a name="shownodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.6. </span>Show Node</span></h3><p class="para">
          Some items may only display in certain modes, like when doing a
          remote display.  Multiple values can be specified and must be
          separated with commas.  The following values are possible:
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">console</span> - In console mode.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">console-fixed</span> - In console non-flexi mode.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">console-flexi</span> - In console &amp; flexi mode.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">flexi</span> - In flexi mode.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">remote</span> - In remote mode.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">remote-flexi</span> - In remote &amp; flexi mode.
        </p><p class="para">
          For example:
<div class="screen block-indent"><pre class="screen">&lt;show modes="flexi,remote"/&gt;
</pre></div>
        </p><p class="para">
          You can also specify the "type" value to indicate that
          certain items should only be displayed if the type is true.  Valid
          values include the following:
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">chooser</span>, if ChooserButton is set to
          "true" in the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">config</span>, if ConfigAvailable is set to
          "true" in the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">custom_cmd[0-9]</span>, if <span class="filename" style="font-family: monospace; ">n-th</span>
          CustomCommand is specified in the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">halt</span>, if HaltDaemon is specified in
          the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">reboot</span>, if RebootCommand is specified in
          the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">suspend</span>, if SuspendCommand is specified in
          the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">system</span>, if SystemMenu is specified in
          the GDM configuration.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">timed</span>, if TimedLoginEnabled is set to
          "true" in the GDM configuration.
        </p><p class="para">
          For example:
<div class="screen block-indent"><pre class="screen">&lt;show modes="console" type="system"/&gt;
</pre></div>
        </p><p class="para">
          Note that if SystemMenu is off then the halt, restart, suspend,
          chooser and config choices will not be shown, so this is a global
          toggle for them all.  See some of the standard themes for how the
          show modes are used.
        </p></div><div class="sect3"><a name="noractprenodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.7. </span>Normal/Active/Prelight Nodes</span></h3><p class="para">
          Depending on the item type (except for userlist - refer to Color node
          below), it can specify its color, font, or image via the following
          tags:
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">normal</span> - normal state.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">active</span> - when the item has active focus.
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">prelight</span> - when the mouse is hovering over the
          item.
        </p><p class="para">
            When item is "rect" (alpha can be omitted and defaults to
            0.0):
<div class="screen block-indent"><pre class="screen">&lt;normal color="#ffffff" alpha="0.0"&gt;
</pre></div>
        </p><p class="para">
          When item is "label"
<div class="screen block-indent"><pre class="screen">&lt;normal color="#ffffff" font="Sans 14"/&gt;
</pre></div>
        </p><p class="para">
          When the item type is "pixmap" or "SVG", then the
          normal, active, and prelight tags specify the images to use as
          follows:
<div class="screen block-indent"><pre class="screen">&lt;normal file="picture.png" tint="#dddddd"/&gt;
</pre></div>
        </p><p class="para">
          Note that relative pathnames are assumed to be in the same 
          directory as the theme <span class="filename" style="font-family: monospace; ">.xml</span> file in
          <span class="filename" style="font-family: monospace; ">&lt;share&gt;/gdm/themes/&lt;theme_name&gt;</span>.
        </p><p class="para">
          Note that alternative image file can be specified using the altfile[n]
          property. GDM will use the last valid image filename specified. 
          For example:
<div class="screen block-indent"><pre class="screen">&lt;normal file="picture.png" altfile1="distribution-blah-image.png" altfile2="distribution-foo-image.png"/&gt;
</pre></div>
         If <span class="filename" style="font-family: monospace; ">distribution-foo-image.png</span> is a valid image 
         filename it will be used. Otherwise distribution-blah-image.png will 
         be used if valid.  This feature supported since 2.16.3.
        </p></div><div class="sect3"><a name="listcoloronodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.8. </span>Face Browser Icon/Label Color Nodes</span></h3><p class="para">
          If the item type is of userlist, then the background color for the
          icon and label can be set separately via the the following tag:
        </p><p class="para">
<div class="screen block-indent"><pre class="screen">&lt;color iconcolor="#dddddd" labelcolor="#ffffff"/&gt;
</pre></div>
        </p></div><div class="sect3"><a name="textnodes"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.9. </span>Text Node</span></h3><p class="para">
          Text tags are used by labels.   They can be used to display
          localized text as follows (if the "xml:lang" attribute is
          omitted, the C locale is assumed):
<div class="screen block-indent"><pre class="screen">&lt;text xml:lang="fr"&gt;Option&lt;/text&gt;
</pre></div>
        </p><p class="para">
          You can include pango markup in the text nodes for labels, however
          you must encode it.  So for example to have the label of
          "foo&lt;sup&gt;bar&lt;/sup&gt;", you must type:
<div class="screen block-indent"><pre class="screen">&lt;text&gt;"foo&lt;sup&gt;bar&lt;/sup&gt;"&lt;/text&gt;
</pre></div>
        </p><p class="para">
          Text nodes can contain the following special character sequences
          which will be translated as follows:
        </p><p class="para">
          %% - A literal % character
        </p><p class="para">
          %c - Clock time.  Only labels with the "clock" id will
          update automatically every second.  Other labels will contain a
          static timestamp.
        </p><p class="para">
          %d - Display name (DISPLAY environment variable)
        </p><p class="para">
          %h - Hostname (gethostname output)
        </p><p class="para">
          %m - Machine name (uname.machine output)
        </p><p class="para">
          %n - Node name (uname.nodename output)
        </p><p class="para">
          %o - Domain name (getdomainname output)
        </p><p class="para">
          %r - Release name (uname.release output)
        </p><p class="para">
          %s - System name (uname.sysname output)
        </p><p class="para">
          %t - Current timed delay value from configuration file (0 if off)
          followed by the word "seconds" if value is greater than 1
          or the word "second" if the value is 1.  This character
          sequence is intended to be only used internally to display the
          "timed-label" message, which is automatically updated every
          second.
        </p><p class="para">
          %u - Timed username value from configuration file (empty if off)
          This character sequence is intended to be only used internally to
          display the "timed-label" message, which is automatically
          updated every second.
        </p><p class="para">
          \n - Carriage return
        </p><p class="para">
          _ - An underscore causes the following character to be underlined.
          If it precedes a % character sequence, the string that replaces the
          character sequence is underlined.
        </p></div><div class="sect3"><a name="stocklabels"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.10. </span>Stock</span></h3><p class="para">
          Certain common localized labels can be specified via the stock
          tags.  The "text" tag is ignored if the "stock"
          tag is used.   You should really use the stock labels rather then
          just putting all the translations into the themes.  This gives
          faster load times and likely better translations.  The following
          values are valid:
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">cancel</span>, _("_Cancel"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">caps-lock-warning</span>,
          _("Caps Lock key is on." 
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">chooser</span>, _("Remote Login via _XDMCP"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">config</span>, _("_Configure"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">custom_cmd[0-9]</span>, _("Custom_[0-9]"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">disconnect</span>, _("D_isconnect"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">halt</span>, _("Shut _Down"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">language</span>, _("_Language"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">ok</span>, _("_OK"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">quit</span>, _("_Quit"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">reboot</span>, _("_Restart"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">session</span>, _("_Session"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">startover</span>, _("_Start Over"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">suspend</span>, _("Sus_pend"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">system</span>, _("_Actions"
          (Formerly "S_ystem"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">timed-label</span>,
          _("User %u will login in %t"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">username-label</span>, _("Username:"
        </p><p class="para">
          <span class="filename" style="font-family: monospace; ">welcome-label</span>, _("Welcome to %n"
        </p><p class="para">
          For example:
<div class="screen block-indent"><pre class="screen">&lt;stock type="welcome-label"&gt;
</pre></div>
        </p></div><div class="sect3"><a name="customwidgetry"/><h3 class="sect3 title"><span class="title"><span class="label">9.2.11. </span>Custom Widgetry</span></h3><p class="para">
          Currently there is one item which is customizable and this is
          the list item.  If you need to ask the user extra things, such as
          to pick from a list of places to log into, or set of custom login
          sessions you can setup the list item and add listitem children that
          describe the choices.  Each listitem must have an id and a text
          child.  The choice will be recorded in the file
          <span class="filename" style="font-family: monospace; ">&lt;ServAuthDir&gt;/&lt;display&gt;.GreeterInfo</span>
          as <span class="filename" style="font-family: monospace; ">&lt;list id&gt;=&lt;listitem id&gt;</span>.
        </p><p class="para">
          For example suppose we are on display :0,
          <span class="filename" style="font-family: monospace; ">ServAuthDir</span> is
          <span class="filename" style="font-family: monospace; ">&lt;var&gt;/lib/gdm</span> and we have the following in the
          theme:
        </p><div class="screen block-indent"><pre class="screen">&lt;item type="list" id="custom-config"&gt;
&lt;pos anchor="nw" x="1" y="1" height="200" width="100"&gt;
&lt;listitem id="foo"&gt;
&lt;text&gt;Foo&lt;/text&gt;
&lt;/listitem&gt;
&lt;listitem id="bar"&gt;
&lt;text&gt;Bar&lt;/text&gt;
&lt;/listitem&gt;
&lt;/item&gt;
</pre></div><p class="para">
          Then if the user chooses 'Foo' then 
          <span class="filename" style="font-family: monospace; ">&lt;var&gt;/lib/gdm/:0.GreeterInfo</span> will contain:
<div class="screen block-indent"><pre class="screen">custom-config=foo
</pre></div>
        </p></div></div></div></div><div class="navbar"><div class="navbar-prev"><span class="navbar-prev"><a class="navbar navbar-prev" href="binaries.html" title="GDM Commands">GDM Commands</a></span></div><div class="navbar-next"><span class="navbar-next"><a class="navbar navbar-next" href="accessibility.html" title="Accessibility">Accessibility</a></span></div></div></body></html>
