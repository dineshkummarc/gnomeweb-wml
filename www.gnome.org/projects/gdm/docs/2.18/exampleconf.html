<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Example Configurations</title><link rel="previous" href="solaris.html" title="Solaris Specific Features"/><link rel="next" href="troubleshooting.html" title="Troubleshooting"/><link rel="top" href="index.html" title="Gnome Display Manager Reference Manual"/><style type="text/css">
div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

div.admonition {
  padding: 4px 8px 4px 56px;
  min-height: 52px;
  border: solid 1px #D1940C;
  background-position: 4px 4px;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("caution.png");
}
div.important {
  background-image: url("important.png");
}
div.note {
  background-image: url("note.png");
}
div.tip {
  background-image: url("tip.png");
}
div.warning {
  background-image: url("warning.png");
}

div.autotoc { margin-left: 2em; padding: 0em; }
div.autotoc ul { margin-left: 0em; padding-left: 0em; }
div.autotoc ul li {
  margin-right: 0em; padding: 0em;
  list-style-type: none;
}

* + div.biblioentry { margin-top: 1.2em; }
* + div.bibliomixed { margin-top: 1.2em; }

.block-indent { margin-left: 1.72em; margin-right: 1em; }
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
pre.programlisting {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.screen {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.synopsis { overflow: auto; }
pre.linenumbering {
  
  margin-top: 0px;
  margin-left: 0.83em;
  padding: 6px 0.4em 6px 0.4em;
  border: solid 1px black;
  -moz-border-radius: 8px;
  background-color: black;
  color: white;
  -moz-opacity: .3;
  float: left;
  text-align: right;
}
dt.glossterm { margin-left: 0em; }
dd + dt.glossterm { margin-top: 2em; }
dd.glossdef, dd.glosssee, dd.glossseealso
  { margin-top: 1em; margin-left: 2em; margin-right: 1em; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

div.list { margin-left: 0px; margin-bottom: 1em; padding: 0px; }
div.list dl dt { margin-left: 0em; }
div.list dl dd + dt { margin-top: 1em; }
div.list dl dd {
  margin-top: 0.69em;
  margin-left: 1.72em;
  margin-right: 1em;
}
div.list ul { margin-left: 1.72em; padding-left: 0em; }
div.list ol { margin-left: 1.72em; padding-left: 0em; }
div.list ul li { margin-right: 1em; padding: 0em; }
div.list ol li { margin-right: 1em; padding: 0em; }
div.list li + li { margin-top: 0.69em; }
div.simplelist &gt; table { border: none; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }

div.refentry h2.refentry {
  border: none;
  margin-top: 1em;
}
div.refentry + div.refentry {

  border-top: dashed black 1px;
}

table {
  border-collapse: collapse;
  border: solid 1px;
  -moz-border-radius: 5px;
}
tr.odd { background-color: #F0F0F0 }
td { padding: 4px 0.83em 4px 0.83em; }
th { padding-left: 0.8em; padding-right: 0.83em; }
thead {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
tfoot {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
td + td {
  border-left: solid 1px;
}
tbody {
  border: solid 1px;
  -moz-border-radius: 5px;
}

h1 { font-size: 1.72em; margin-top: 0em; }
h2 { font-size: 1.44em; }
h2.title { margin-top: 1.72em; border-bottom: solid 1px; }
h3 { font-size: 1.2em; }
h3.title { margin-top: 1.72em; }
h3 span.title { border-bottom: solid 1px; }
h4 { font-size: 1.0em; }
h4.title { margin-top: 1.44em; }
h4 span.title { border-bottom: solid 1px; }
h5 { font-size: 1em; margin-top: 1em; }
h6 { font-size: 1em; margin-top: 1em; }
h7 { font-size: 1em; margin-top: 1em; }

body {
  margin: 0px;
  direction: ltr;
}
div.body { padding: 12px; }
div.navbar {
  margin-left: 12px; margin-right: 12px; margin-bottom: 12px;
  padding: 6px;
  border: solid 1px;
}
div.navbar-prev { margin: 0px; padding: 0px; float: left; }
div.navbar-prev-sans-next { float: none; }
div.navbar-next { margin: 0px; padding: 0px; text-align: right; }
div {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
p {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
div + * { margin-top: 1em; }
p   + * { margin-top: 1em; }
p &gt; div { margin-top: 1em; margin-bottom: 1em; }
p &gt; div + div { margin-top: 0em; }
p { text-align: justify; }
</style></head><body><div class="body"><div class="sect1"><a name="exampleconf"/><h1 class="sect1 title"><span class="title">Example Configurations</span></h1><p class="para">
      This section has some example configurations that are useful for
      various setups.
    </p><div class="sect2"><a name="terminallab"/><h2 class="sect2 title"><span class="title"><span class="label">12.1. </span>Terminal Lab With One Server</span></h2><p class="para">
        Suppose you want to make a lab full of X terminals that all connect
        to one server machine.  So let's call one X terminal
        <span class="filename" style="font-family: monospace; ">xterminal</span> and let's call the server machine
        <span class="filename" style="font-family: monospace; ">appserver</span>.  You install GDM on both.
      </p><p class="para">
        On <span class="filename" style="font-family: monospace; ">appserver</span> you enable XDMCP, so you have
<div class="screen block-indent"><pre class="screen">[xdmcp]
Enable=true
</pre></div>
        If you want no local screens here, you can then
        make the <span class="filename" style="font-family: monospace; ">[servers]</span> section empty.
      </p><p class="para">
        On the <span class="filename" style="font-family: monospace; ">xterminal</span> you disable XDMCP (you don't
        want anyone to connect to the xterminal really).  You will add a
        server type perhaps called <span class="filename" style="font-family: monospace; ">Terminal</span> as follows:
<div class="screen block-indent"><pre class="screen">[server-Terminal]
name=Terminal server
command=/path/to/X -terminate
flexible=false
handled=false
</pre></div>
        This definition should in fact be included in the standard
        configuration file.  Notice that we made the
        <span class="filename" style="font-family: monospace; ">handled</span> key false since we don't want GDM to
        handle this server localy.  Also note that we have not yet added the
        <span class="filename" style="font-family: monospace; ">-query</span> argument, you can add that here, or in the
        <span class="filename" style="font-family: monospace; ">[servers]</span> section.  We'll define our local
        servers as follows:
<div class="screen block-indent"><pre class="screen">[servers]
0=Terminal -query appserver
</pre></div>
        This will run a direct XDMCP query to the server named
        <span class="filename" style="font-family: monospace; ">appserver</span>.
      </p></div><div class="sect2"><a name="terminallabtwo"/><h2 class="sect2 title"><span class="title"><span class="label">12.2. </span>Terminal Lab With Two Or More Servers</span></h2><p class="para">
        Suppose you want to make a lab full of X terminals that all connect
        to some choice of servers.  For now let's make it
        <span class="filename" style="font-family: monospace; ">appserverone</span> and
        <span class="filename" style="font-family: monospace; ">appservertwo</span>.  Again we'll call our example X
        terminal server <span class="filename" style="font-family: monospace; ">xterminal</span>.  The setup on both
        servers is the same as with the case of one server in the previous
        section.  You do not need to explicitly enable indirect queries on the
        server since we'll run the choosers locally on the X terminals.
      </p><p class="para">
        So on the <span class="filename" style="font-family: monospace; ">xterminal</span> you again disable XDMCP.
        You will add a server type perhaps called <span class="filename" style="font-family: monospace; ">Chooser</span>
        as follows:
<div class="screen block-indent"><pre class="screen">[server-Chooser]
name=Chooser server
command=/path/to/X
flexible=false
chooser=true
</pre></div>
        And again this definition should in fact be included in the standard
        configuration file.  Notice that we made the
        <span class="filename" style="font-family: monospace; ">chooser</span> key true here.  This will run the XDMCP
        chooser for this server, and when the user chooses a host GDM will run
        a query for that host.  Then we will define our local servers as
        follows:
<div class="screen block-indent"><pre class="screen">[servers]
0=Chooser
</pre></div>
      </p><p class="para">
        The XDMCP chooser on the X terminal will normally give a broadcast
        query to see which servers exist on the network.  If the two servers
        are not reachable by a broadcast query, you must add them by hand to
        the configuration file.  So in the <span class="filename" style="font-family: monospace; ">[chooser]</span>
        section you would have:
<div class="screen block-indent"><pre class="screen">Hosts=appserverone,appservertwo
</pre></div>
        and any other servers you wish the users to be able to connect to.
      </p><p class="para">
        Sometimes you may want to run the chooser on the server side however.
        Then what you want to do is to run a configuration similar to the
        previous section about the one server configuration with XDMCP
        indirect queries enabled on <span class="filename" style="font-family: monospace; ">appserver</span> and on the
        X terminals you'd have
<div class="screen block-indent"><pre class="screen">[servers]
0=Terminal -indirect appserver
</pre></div>
        This way for example you only have to maintain one
        <span class="filename" style="font-family: monospace; ">Hosts</span> entry.  However as a disadvantage then,
        the <span class="filename" style="font-family: monospace; ">appserver</span> must then always be available.  So
        it's not good for situations where you want to have several servers
        and not all of them have to be on all the time.  You could also have
        one of the X terminals handle indirect XDMCP queries and serve up the
        chooser to the other X terminals.
      </p></div><div class="sect2"><a name="customcommand"/><h2 class="sect2 title"><span class="title"><span class="label">12.3. </span>Defining Custom Commands</span></h2><p class="para">
        Suppose you want to add a custom command to the GDM menu that will give
        you the oportunity to boot into other operating system such as Windoze.
        Jsut add the following options into the
        <span class="filename" style="font-family: monospace; ">[customcommand]</span> section of the GDM configuration
        file.
        
        <div class="screen block-indent"><pre class="screen">          [customcommand]
          CustomCommand0=/sbin/rebootwindoze;/usr/local/sbin/rebootwindoze
          CustomCommandLabel0=_Windoze
          CustomCommandLRLabel0=Reboot into _Windoze
          CustomCommandText0=Are you sure you want to restart the computer into Windoze?
          CustomCommandTooltip0=Restarts the computer into Windoze
          CustomCommandIsPersistent0=true
        </pre></div>

        CustomCommand0 specifies two commands separated by a semicolon:
        <span class="filename" style="font-family: monospace; ">/sbin/rebootwindoze</span> and 
        <span class="filename" style="font-family: monospace; ">/usr/local/sbin/rebootwindoze</span>.  GDM will use
        the first valid command in the list.  This allows different 
        commands for different operating systems to be included.
      </p><p class="para">
        Note, that besides being able to customise this option to reboot into
        different operating systems you can also use it to define your own
        custom behaviours that you wish to run from the GDM menu.  Suppose you
        want to give users the oportunity to run system update scripts from the
        login screen. Add the following options into the
        <span class="filename" style="font-family: monospace; ">[customcommand]</span> section of your GDM configuration
        file.
        
        <div class="screen block-indent"><pre class="screen">          [customcommand]
          CustomCommand0=/sbin/updatesystem;/usr/local/sbin/updatesystem
          CustomCommandLabel0=_Update Me
          CustomCommandLRLabel0=Update the system
          CustomCommandText0=Are you sure you want to update the system software?
          CustomCommandTooltip0=Updates the system
          CustomCommandNoRestart0=true
        </pre></div>
      </p><p class="para">
        Both custom commands could be defined as follows.

        <div class="screen block-indent"><pre class="screen">          [customcommand]
          CustomCommand0=/sbin/rebootwindoze;/usr/local/sbin/rebootwindoze
          CustomCommandLabel0=_Windoze
          CustomCommandLRLabel0=Reboot into _Windoze
          CustomCommandText0=Are you sure you want to restart the computer into Windoze?
          CustomCommandTooltip0=Restarts the computer into Windoze
          CustomCommandIsPersistent0=true
          
          CustomCommand1=/sbin/updatesystem;/usr/local/sbin/updatesystem
          CustomCommandLabel1=_Update Me
          CustomCommandLRLabel1=Update the system
          CustomCommandText1=Are you sure you want to update the system software?
          CustomCommandTooltip1=Updates the system
          CustomCommandNoRestart1=true
        </pre></div>
        </p><p class="para">
        There can be up to 10 custom commands numbered 0-9.

        <div class="screen block-indent"><pre class="screen">          [customcommand]
          CustomCommand0=/sbin/rebootwindoze;/usr/local/sbin/rebootwindoze
          CustomCommandLabel0=_Windoze
          CustomCommandLRLabel0=Reboot into _Windoze
          CustomCommandText0=Are you sure you want to restart the computer into Windoze?
          CustomCommandTooltip0=Restarts the computer into Windoze
          CustomCommandIsPersistent0=true
          
          CustomCommand1=/sbin/updatesystem;/usr/local/sbin/updatesystem
          CustomCommandLabel1=_Update Me
          CustomCommandLRLabel1=Update the system
          CustomCommandText1=Are you sure you want to update the system software?
          CustomCommandTooltip1=Updates the system
          CustomCommandNoRestart1=true
          
          CustomCommand3=/sbin/do_something
          .
          .
          .
          
          CustomCommand4=/sbin/do_something_else
          .
          .
          .
        </pre></div>
      </p></div></div></div><div class="navbar"><div class="navbar-prev"><span class="navbar-prev"><a class="navbar navbar-prev" href="solaris.html" title="Solaris Specific Features">Solaris Specific Features</a></span></div><div class="navbar-next"><span class="navbar-next"><a class="navbar navbar-next" href="troubleshooting.html" title="Troubleshooting">Troubleshooting</a></span></div></div></body></html>
