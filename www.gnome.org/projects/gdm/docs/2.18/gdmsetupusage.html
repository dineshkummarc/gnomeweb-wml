<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Using gdmsetup To Configure GDM</title><link rel="previous" href="consolekit.html" title="Support for ConsoleKit"/><link rel="next" href="configuration.html" title="Configuration"/><link rel="top" href="index.html" title="Gnome Display Manager Reference Manual"/><style type="text/css">
div.footnotes { font-style: italic; font-size: 0.8em; }
div.footnote { margin-top: 1.44em; }
span.footnote-number { display: inline; padding-right: 0.83em; }
span.footnote-number + p { display: inline; }
a.footnote { text-decoration: none; font-size: 0.8em; }
a.footnote-ref { text-decoration: none; }

div.admonition {
  padding: 4px 8px 4px 56px;
  min-height: 52px;
  border: solid 1px #D1940C;
  background-position: 4px 4px;
  background-repeat: no-repeat;
}
div.caution {
  background-image: url("caution.png");
}
div.important {
  background-image: url("important.png");
}
div.note {
  background-image: url("note.png");
}
div.tip {
  background-image: url("tip.png");
}
div.warning {
  background-image: url("warning.png");
}

div.autotoc { margin-left: 2em; padding: 0em; }
div.autotoc ul { margin-left: 0em; padding-left: 0em; }
div.autotoc ul li {
  margin-right: 0em; padding: 0em;
  list-style-type: none;
}

* + div.biblioentry { margin-top: 1.2em; }
* + div.bibliomixed { margin-top: 1.2em; }

.block-indent { margin-left: 1.72em; margin-right: 1em; }
.block-indent .block-indent { margin-left: 0em; margin-right: 0em; }
.block-verbatim { white-space: pre; }
pre.programlisting {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.screen {
  padding: 6px;
  -moz-border-radius: 8px;
  overflow: auto;
  background-color: #EEEEEE;
  border: solid 1px #DDDDDD;
}
pre.synopsis { overflow: auto; }
pre.linenumbering {
  
  margin-top: 0px;
  margin-left: 0.83em;
  padding: 6px 0.4em 6px 0.4em;
  border: solid 1px black;
  -moz-border-radius: 8px;
  background-color: black;
  color: white;
  -moz-opacity: .3;
  float: left;
  text-align: right;
}
dt.glossterm { margin-left: 0em; }
dd + dt.glossterm { margin-top: 2em; }
dd.glossdef, dd.glosssee, dd.glossseealso
  { margin-top: 1em; margin-left: 2em; margin-right: 1em; }

span.co {
  margin-left: 0.2em; margin-right: 0.2em;
  padding-left: 0.4em; padding-right: 0.4em;
  border: solid 1px #000000;
  -moz-border-radius: 8px;
  background-color: #000000;
  color: #FFFFFF;
  font-size: 8px;
}
span.co:hover {
  border-color: #333333;
  background-color: #333333;
  color: #FFFFFF;
}
span.co a { text-decoration: none; }
span.co a:hover { text-decoration: none; }

div.cmdsynopsis { font-family: monospace; }

div.list { margin-left: 0px; margin-bottom: 1em; padding: 0px; }
div.list dl dt { margin-left: 0em; }
div.list dl dd + dt { margin-top: 1em; }
div.list dl dd {
  margin-top: 0.69em;
  margin-left: 1.72em;
  margin-right: 1em;
}
div.list ul { margin-left: 1.72em; padding-left: 0em; }
div.list ol { margin-left: 1.72em; padding-left: 0em; }
div.list ul li { margin-right: 1em; padding: 0em; }
div.list ol li { margin-right: 1em; padding: 0em; }
div.list li + li { margin-top: 0.69em; }
div.simplelist &gt; table { border: none; }

dt.question { margin-left: 0em; }
dt.question div.label { float: left; }
dd + dt.question { margin-top: 1em; }
dd.answer {
  margin-top: 1em;
  margin-left: 2em;
  margin-right: 1em;
}
dd.answer div.label { float: left; }

div.refentry h2.refentry {
  border: none;
  margin-top: 1em;
}
div.refentry + div.refentry {

  border-top: dashed black 1px;
}

table {
  border-collapse: collapse;
  border: solid 1px;
  -moz-border-radius: 5px;
}
tr.odd { background-color: #F0F0F0 }
td { padding: 4px 0.83em 4px 0.83em; }
th { padding-left: 0.8em; padding-right: 0.83em; }
thead {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
tfoot {
  border-top: solid 2px;
  border-bottom: solid 2px;
}
td + td {
  border-left: solid 1px;
}
tbody {
  border: solid 1px;
  -moz-border-radius: 5px;
}

h1 { font-size: 1.72em; margin-top: 0em; }
h2 { font-size: 1.44em; }
h2.title { margin-top: 1.72em; border-bottom: solid 1px; }
h3 { font-size: 1.2em; }
h3.title { margin-top: 1.72em; }
h3 span.title { border-bottom: solid 1px; }
h4 { font-size: 1.0em; }
h4.title { margin-top: 1.44em; }
h4 span.title { border-bottom: solid 1px; }
h5 { font-size: 1em; margin-top: 1em; }
h6 { font-size: 1em; margin-top: 1em; }
h7 { font-size: 1em; margin-top: 1em; }

body {
  margin: 0px;
  direction: ltr;
}
div.body { padding: 12px; }
div.navbar {
  margin-left: 12px; margin-right: 12px; margin-bottom: 12px;
  padding: 6px;
  border: solid 1px;
}
div.navbar-prev { margin: 0px; padding: 0px; float: left; }
div.navbar-prev-sans-next { float: none; }
div.navbar-next { margin: 0px; padding: 0px; text-align: right; }
div {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
p {
  margin-top: 0em;  margin-bottom: 0em;
  padding-top: 0em; padding-bottom: 0em;
}
div + * { margin-top: 1em; }
p   + * { margin-top: 1em; }
p &gt; div { margin-top: 1em; margin-bottom: 1em; }
p &gt; div + div { margin-top: 0em; }
p { text-align: justify; }
</style></head><body><div class="body"><div class="sect1"><a name="gdmsetupusage"/><h1 class="sect1 title"><span class="title">Using gdmsetup To Configure GDM</span></h1><p class="para">
      The <span class="command" style="font-family: monospace; ">gdmsetup</span> application can be used to configure GDM.
      If you believe running root-owned GUI's causes security risk, then you
      would want to always edit the files by hand and not use
      <span class="command" style="font-family: monospace; ">gdmsetup</span>.  Editing the files by hand is explained in
      the "Configuration" section of this document.  Note that 
      <span class="command" style="font-family: monospace; ">gdmsetup</span> does not support changing of all
      configuration variables, so it may be necessary to edit the files by
      hand for some configurations.
    </p><p class="para">
      The <span class="command" style="font-family: monospace; ">gdmsetup</span> program has five tabs: Local, Remote,
      Accessibility, Security, and Users, described below.  In parenthesis is
      information about which GDM configuration key is affected by each GUI
      choice.  Refer to the "Configuration" section of this manual
      and the comments in the &lt;share&gt;/gdm/defaults.conf file for
      additional details about each key.
    </p><div class="sect2"><a name="gdmsetuplocaltab"/><h2 class="sect2 title"><span class="title"><span class="label">5.1. </span>Local Tab</span></h2><p class="para">
        The Local tab is used for controlling the appearance of GDM for
        local/static displays (non-XDMCP remote connections).  The choices
        available in this tab depend on the setting of the "Style"
        combobox.  This combobox is used to determine whether the 
        "Plain" or "Themed" greeter GUI is used.  The
        differences between these greeter programs are explained in the
        "Overview" section of this document.
      </p><p class="para">
        If the "Style" choice is "Plain", then GDM will
        use the <span class="command" style="font-family: monospace; ">gdmlogin</span> program as the GUI
        (daemon/Greeter).  When this choice is selected,
        <span class="command" style="font-family: monospace; ">gdmsetup</span> allows the user to select whether the
        background is an image or solid color (greeter/BackgroundType).  If
        image is selected, there is a file selection button to pick the image
        file (greeter/BackgroundImage) and a checkbox to scale the image to fit
        the screen (greeter/BackgroundImageScaleToFit).  If solid color is
        selected, there is a button available to allow the color selection
        (greeter/BackgroundColor).  Also, the user may select the logo image
        that appears in gdmlogin (greeter/Logo).
      </p><p class="para">
        If the "Style" choice is "Plain with face browser",
        then the <span class="command" style="font-family: monospace; ">gdmlogin</span> program is used as the GUI
        (daemon/Greeter) and the face browser is turned on (greeter/Browser).
        The Face Browser is explained in the Overview section.  Otherwise,
        the choices are the same as when the "Style" choice is
        "Plain".  Additional setup in the Users tab may be 
        necessary to choose which users appear in the Face Browser.
      </p><p class="para">
        If the "Style" choice is "Themed", then the 
        <span class="command" style="font-family: monospace; ">gdmgreeter</span> program is used as the GUI
        (daemon/Greeter).  When this choice is selected,
        <span class="command" style="font-family: monospace; ">gdmsetup</span> allows the user to select the theme to be
        used (greeter/GraphicalTheme).  Note that the checkbox to the left
        of the theme's name must be checked for a theme to be selected.
        Clicking on the theme, but not selecting the checkbox will highlight
        the theme and the "Remove" button can be used to delete
        the theme.  Information about the theme's author and copyright are
        shown for the highlighted theme.  The "Add" button can be
        used to add new themes to the system.  To turn on the Face Browser, a
        theme which includes a Face Browser must be selected, such as 
        happygnome-list.  The "Background color" displayed when
        GDM starts (and if the theme has transparent elements) can also be
        selected (greeter/GraphicalThemedColor).  The "Theme" combo
        box may be set to "Random from selected" if you want a random
        theme to be used for each login (greeter/GraphicalThemeRand and
        greeter/GraphicalThemes).  To use random themes, select each theme that
        you wish to be used.  By default this combobox is set to
        "Selected only", so that only a single theme can be selected
        and be used.
      </p><p class="para">
        Regardless of the "Style" choice, the user may also select
        whether the Actions menu is visible (greeter/SystemMenu), whether the
        Actions menu includes the choice to start <span class="command" style="font-family: monospace; ">gdmsetup</span>
        (greeter/ConfigAvailable), and whether the Action menu includes the
        choice to start <span class="command" style="font-family: monospace; ">gdmchooser</span> to run a remote XDMCP
        login session (greeter/ChooserButton).  Note that the root password
        must be entered to start <span class="command" style="font-family: monospace; ">gdmsetup</span> from the login
        screen if it is enabled.   Also the Welcome message displayed for local
        sessions may be selected (greeter/DefaultWelcome and greeter/Welcome). 
        The Welcome message can contain the character sequences described in
        the "Text Node" section of the "Themed Greeter"
        section of this manual.
      </p></div><div class="sect2"><a name="gdmsetupremotetab"/><h2 class="sect2 title"><span class="title"><span class="label">5.2. </span>Remote Tab</span></h2><p class="para">
        The Remote tab controls the appearance of the GDM for users logging
        in via XDMCP.  By default XDMCP is disabled, and users should be 
        comfortable with the XDMCP-related sections of the Security section
        of this document before enabling it.  This tab includes a
        "Style" combobox which can be used to turn on XDMCP and
        control the appearance of GDM for remote users (gui/RemoteGreeter
        and xdmcp/Enable).  This combobox may be set to "Remote login
        disabled" or "Same as Local".  If the Local tab
        is set to "Plain" or "Plain with Face Browser",
        then the user may also select "Themed".  If the Local tab
        is set to "Themed", then the user may also select
        "Plain" or "Plain with face browser".  It is
        recommended that the "Plain" GUI be used for remote
        connections since it is more lightweight and tends to have better
        performance across a network.
      </p><p class="para">
        If Remote login is enabled, then the user can specify the remote
        Welcome Message to be displayed (greeter/DefaultRemoteWelcome and 
        greeter/RemoteWelcome).  This welcome message is separate from the
        Local welcome message and can have a different value.  The Welcome
        message can contain the character sequences described in the
        "Text Node" section of the "Themed Greeter"
        section of this manual.
      </p><p class="para">
        If the "Style" choice is "Same as Local" and the
        local selection is "Plain" or "Plain with face
        browser", then the user may select whether background images
        should be displayed for remote logins
        (greeter/BackgroundRemoteOnlyColor).
      </p><p class="para">
        If the "Style" choice is enabled and set to a different
        value than the Local tab, then the user has the same configuration
        choices as found on the Local tab except that the System Menu 
        choices are not available since this is never available for remote
        logins for security purposes.
      </p><p class="para">
        If Remote login is enabled, there is a "Configure XDMCP"
        button which displays a dialog allowing the user to set XDMCP 
        configuration, including whether indirect requests are honored
        (xdmcp/HonorIndirect), UDP port (xdmcp/Port), maximum pending requests
        (xdmcp/MaxPending), maximum pending indirect requests
        (xmdcp/MaxPendingIndirect), maximum remote sessions
        (xdmcp/MaxSessions), maximum wait time (xdmcp/MaxWait), maximum
        indirect wait time (xdmcp/MaxWaitIndirect), displays per host
        (xdmcp/DisplaysPerHost), and ping interval (xdmcp/PingIntervalSeconds).
        The default settings are standard settings and should only be changed
        by someone who understands the ramifications of the change.
      </p></div><div class="sect2"><a name="gdmsetupaccessibilitytab"/><h2 class="sect2 title"><span class="title"><span class="label">5.3. </span>Accessibility Tab</span></h2><p class="para">
        The Accessibility tab is used to turn on Accessibility features in GDM.
        "Enable accessible login" (daemon/AddGtkModules and
        daemon/GtkModulesList) turns on GDM's gesture listeners which are
        explained in the "Accessibility" section of this document.
        There is also a checkbox to allow users to change the theme when using 
        the Plain greeter (gui/AllowGtkThemeChange).  This feature allows GDM
        users to switch the theme to the HighContrast or LowContrast themes if
        needed.  The user may also select whether GDM should play a sound when
        the login screen is ready, when login is successful and when login has
        failed.  File chooser buttons are used to select the sound file to be
        played, and the "Play" button can be used to sample the
        sound.
      </p></div><div class="sect2"><a name="gdmsetupsecuritytab"/><h2 class="sect2 title"><span class="title"><span class="label">5.4. </span>Security Tab</span></h2><p class="para">
        The Security tab allows the user to turn on Automatic and Timed login,
        which user is logged in via an automatic or timed login, and the
        timed login delay (daemon/AutomaticLoginEnable, daemon/AutomaticLogin,
        daemon/TimedLoginEnable, daemon/TimedLogin, and daemon/TimedLoginDelay).
        If automatic login is turned on, then the specified user will
        immediately log in on reboot without GDM asking for username/password.
        If the user logs out of their session, GDM will start and ask for
        username and password to log back in.  If TimedLogin is turned on, then
        GDM will log in to the specified user after a specified number of
        seconds.  The user may enable Timed Login for remote (XDMCP)
        connections by checking the "Allow remote timed logins"
        checkbox.
      </p><p class="para">
        On this tab, the user may select whether the system administrator user
        can log in, and whether the system administrator user can log in
        via remote (XDMCP) connections (security/AllowRoot and
        security/AllowRemoteRoot).  The user may turn on GDM debug 
        (debug/Enable) which causes debug messages to be sent to the system
        log.  Debug should only be used when diagnosing a problem and not be
        left on when not needed.  The "Deny TCP connections to
        Xserver" choice will disable X forwarding if selected
        (security/DisallowTCP).  A login retry delay (security/RetryDelay) can
        be set to cause GDM to wait a number of seconds after a failed login.
      </p><p class="para">
         The "Configure X Server" button can be used to specify how
         GDM manages each display.  The "Servers" combobox shows what
         server definitions are available (Standard, Terminal, and Chooser by
         default).  Refer to the "X Server Definitions" section of
         the "Configuration" section for more information about how 
         to create new Server Definitions.
      </p><p class="para">
         For any server type, the user may modify the "Server Name"
         (server/name), the "Command" (server/command) to be used to
         launch the Xserver, whether the server type will "Launch"
         (server/chooser) the greeter or chooser GUI after starting the
         Xserver, whether GDM handles this type (normally only set to false
         when logging into a Terminal session type), and whether the session
         type supports "Flexible" (server/flexible) sessions.
      </p><p class="para">
         The "Servers To Start" section shows what server type is
         displayed for each display on the machine.  Users may click on the
         "Add/Modify" button to add a new display to the list or to
         modify a selected display.  This simply corresponds each physical
         display with the Server Definition to be used for managing that
         display.  The "Remove" button may be used to remove a
         display from the list.
      </p></div><div class="sect2"><a name="gdmsetupuserstab"/><h2 class="sect2 title"><span class="title"><span class="label">5.5. </span>Users Tab</span></h2><p class="para">
         The Users tab controls which users appear in the Face Browser.  If the
         "Include all users from /etc/password" checkbox is selected,
         then all users (with a userid above greeter/MinimalUID and not in the
         Exclude list) are displayed.  If this checkbox is not selected, then
         users must be added to the "Include" list.  Users in the
         "Exclude" list are never displayed.  The "Add" and
         "Remove" buttons are used to add a new user to the list or
         remove a selected user from the list.  The "Apply User
         Changes" button must be pressed after the "Include" and
         "Exclude" lists have been modified.  The left and right
         arrow buttons between the "Include" and "Exclude"
         lists can be used to move a selected user from one list to the other.
      </p></div></div></div><div class="navbar"><div class="navbar-prev"><span class="navbar-prev"><a class="navbar navbar-prev" href="consolekit.html" title="Support for ConsoleKit">Support for ConsoleKit</a></span></div><div class="navbar-next"><span class="navbar-next"><a class="navbar navbar-next" href="configuration.html" title="Configuration">Configuration</a></span></div></div></body></html>
