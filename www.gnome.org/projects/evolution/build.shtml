<!--#set var="title" value="Evolution" -->
<!--#include virtual="head.shtml" -->

<p><h1>Building Evolution</h1>

<p><h2>Building against packaged GNOME</h2>

<p>Build the relevant modules listed on the <a
href="http://www.gnome.org/projects/evolution/cvs.shtml">CVS</a> page and
them.  If you use a prefix different from where the rest of GNOME is
installed (recommended), you will need to update the bonobo-activation
configuration file, which will be:<br><br>

<blockquote>
&lt;gnome prefix&gt/etc/bonobo-activation/bonobo-activation-config.xml<br>
<b>or</b><br>
/etc/bonobo-activation/bonobo-activation-config.xml<br><br>
</blockquote>

usually.  Between the <searchpath></searchpath> markers add:<br><br>

&lt;item&gt*evolution prefix*/lib/bonobo/servers&lt/item&gt

<p>You will need to restart the bonobo-activation-server process after
this (either by logging out and back in or actually killing the
process)

<p><h2>Building with jhbuild</h2>

<p>You can get jhbuild information at <a href="http://www.daa.com.au/~james/software/jhbuild/">http://www.daa.com.au/~james/software/jhbuild/</a>

<ul>
<li>Set your moduleset to 26 in ~/.jhbuildrc (there is a sample <a href="jhbuildrc">.jhbuildrc</a>)

<li>Do 'jhbuild bootstrap' and update to the latest modules - make
sure you install pkg-config even if you have the same version that is
required.

<li>Do 'jhbuild evolution'
</ul>

<p>It should now build 35 modules.  If something fails for you, some
common problems are listed below:

<ul>
<li><b>Jhbuild throws a python exception</b><br><br>

Solution: You probably have a distro that maps 'python' to a version
less than 2.  Just change the installed jhbuild script (usually
~/bin/jhbuild) to use 'python2' instead of 'python'.<br><br>

<li><b>Build fails in fontconfig</b><br><br>

<blockquote>
docbook2txt local-fontconfig-user.sgml<br>
Using catalogs: /etc/sgml/sgml-docbook-3.1-1.0-17.cat<br>
Using stylesheet: /usr/share/sgml/docbook/utils-0.6.12/docbook-utils.dsl#html<br>
Working on: /home/jpr/src/jhbuild-evo/fontconfig/doc/local-fontconfig-user.sgml<br>
No way to convert HTML to text found.<br>
</blockquote>

Solution: Install lynx<br><br>

<li><b>Build fails in Xrender</b><br>

<blockquote>
./configure: line 18388: syntax error near unexpected token `X,'<br>
./configure: line 18388: `PKG_CHECK_MODULES(X, x11,'<br>
</blockquote>

Solution: Install pkg-config during jhbuild bootstap<br><br>

<li><b>gnome-vfs compilation fails</b>

<blockquote>
In file included from /usr/include/openssl/ssl.h:179,<br>
                 from gnome-vfs-ssl.c:41:<br>
/usr/include/openssl/kssl.h:72:18: krb5.h: No such file or directory<br>
In file included from /usr/include/openssl/ssl.h:179,<br>
                 from gnome-vfs-ssl.c:41:<br>
/usr/include/openssl/kssl.h:134: parse error before "krb5_enctype"<br>
/usr/include/openssl/kssl.h:136: parse error before '*' token<br>
/usr/include/openssl/kssl.h:137: parse error before '}' token<br>
/usr/include/openssl/kssl.h:149: parse error before "kssl_ctx_setstring"<br>
</blockquote>

Solution: Soft link (ln -s) openssl.pc to <jhbuild-prefix>/lib/pkg-config<br><br>

<li><b>Build fails in libgnomeui</b>

<blockquote>
In libgnomeui<br>
failed to load "./stock_attach.png": Couldn't recognize the image file<br>
format for file './stock_attach.png'<br>
</blockquote>

Solution: Try rebuild gdk-pixbuf, your loaders file is empty.<br><br>

<!--#include virtual="foot.shtml"-->
