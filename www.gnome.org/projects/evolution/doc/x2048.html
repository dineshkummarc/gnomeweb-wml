<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>Create Rules to Automatically Organize Mail</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="A User's Guide to Ximian Evolution 1.4"
HREF="book1.html"><LINK
REL="UP"
TITLE="Organizing and Managing your Email"
HREF="c1827.html"><LINK
REL="PREVIOUS"
TITLE="Searching for Messages"
HREF="x2002.html"><LINK
REL="NEXT"
TITLE="Getting Really Organized with vFolders"
HREF="x2279.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>A User's Guide to Ximian Evolution 1.4</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x2002.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Organizing and Managing your Email</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x2279.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="usage-mail-organize-filters"
></A
>Create Rules to Automatically Organize Mail</H1
><P
>&#13;	Filters work very much like the mail room in a large company.
	Their purpose is to bundle, sort, and distribute mail to the
	various folders.  In addition, you can have multiple filters
	performing multiple actions that may effect the same message
	in several ways.  For example, your filters could put copies
	of one message into multiple folders, or keep a copy and send
	one to another person as well, and it can do that quickly. Of
	course, it's also faster and more flexible than an actual
	person with a pile of envelopes.
      </P
><DIV
CLASS="tip"
><A
NAME="easy-filter"
></A
><P
></P
><TABLE
CLASS="tip"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/tip.gif"
HSPACE="5"
ALT="Tip"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Quick Filter Creation</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;		There is an easy shortcut for fast filter or vFolder
                creation. Right-click on the message in the message
                list, and select one of the items under the
                <B
CLASS="guimenuitem"
>Create Rule from Message</B
>
                submenu.
	      </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="usage-mail-org-filters-new"
></A
>Making New Filters</H2
><P
>&#13;	To create a new filter:
	<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;	      Click 
	      <B
CLASS="guimenu"
>Tools</B
>-&gt;<B
CLASS="guimenuitem"
>Filters</B
>
	    </P
></LI
><LI
><P
>&#13;	      Press the <B
CLASS="guibutton"
>Add</B
> button.
	    </P
></LI
><LI
><P
>&#13;	      Name your filter in the <TT
CLASS="guilabel"
><B
>Rule name</B
></TT
> field.
	      For each filter criterion, you must first select 
	      which of the following parts of the message you want the filter to 
	      examine:
	      
	      <P
></P
><UL
><LI
><P
>&#13;		    Sender - The sender's address.
		  </P
></LI
><LI
><P
>&#13;		    Recipients - The recipients of the message.
		  </P
></LI
><LI
><P
>&#13;		    Subject - The subject line of the message.
		  </P
></LI
><LI
><P
>&#13;		    Specific Header - The filter can look at any header you
		    want, even obscure or custom ones. Enter the header name
		    in the first text box, and put your search text in the
		    second one.
        

      <DIV
CLASS="note"
><A
NAME="multiple-repeated-headers"
></A
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Repeated Headers</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;            If a message uses a header more than once, Evolution will
	    pay attention only to the first instance, even if the
	    message defines the header differently the second
	    time. For example, if a message declares the Resent-From:
	    header as "engineering@rupertcorp.com" and then restates
	    it as "marketing@rupertcorp.com," Evolution will filter as
	    though the second declaration had not occurred.  To filter
	    on messages that use headers multiple times, use a regular
	    expression.
         </P
></TD
></TR
></TABLE
></DIV
>

		  </P
></LI
><LI
><P
>&#13;		    Message Body - Search in the actual text of the message.
		  </P
></LI
><LI
><P
>&#13;		    Expression - For programmers only: match a message according to an
		    expression you write in the Scheme language, used to
		    define filters in <TT
CLASS="application"
>Ximian Evolution</TT
>.
		  </P
><P
>&#13;
   <DIV
CLASS="figure"
><A
NAME="usage-mail-filter-fig-createrule"
></A
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="figures/filter-new-fig.png"></P
></DIV
><P
><B
>Figure 1. Creating a Mail Filter</B
></P
></DIV
>

      <DIV
CLASS="note"
><A
NAME="lots-of-filters"
></A
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>What if Multiple Filters Match One Message?</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;            If you have several filters that match a single message,
            they will all be applied to the message, in order, unless
            one of the filters has the action <B
CLASS="guibutton"
>Stop
            Processing</B
>. If you use that action in a
            filter, the messages that it affects will not be touched
            by other filters.
         </P
><P
>&#13;           When you first open the filters dialog, you are shown the
           list of filters sorted in the order in which they will be
           applied. You can move them up and down in the priority list
           by clicking the <B
CLASS="guibutton"
>Up</B
> and
           <B
CLASS="guibutton"
>Down</B
> buttons.
         </P
></TD
></TR
></TABLE
></DIV
>
</P
></LI
><LI
><P
> Date sent - Filter messages according to the date on
		    which they were sent: First, choose the conditions you
		    want a message to meet -- <TT
CLASS="guilabel"
><B
>before</B
></TT
>
		    a given time, <TT
CLASS="guilabel"
><B
>after</B
></TT
> it, and so forth.
		    Then, choose the time. The filter will compare the
		    message's time-stamp to the system clock when the filter
		    is run, or to a specific time and date you choose from a
		    calendar.  You can even have it look for messages within a
		    range of time relative to the filter -- perhaps you're
		    looking for messages less than two days old.
		  </P
></LI
><LI
><P
>&#13;		    Date Received - This works the same way as the <TT
CLASS="guilabel"
><B
>Date Sent</B
></TT
> 
		    option, except that it compares the time you got the message 
		    with the dates you specify.
		  </P
></LI
><LI
><P
>&#13;		    Score - Emails have a standard priority range from -3 (least
		    important) to 3 (most important). You can have filters set the
		    priority of messages you receive, and then have other filters 
		    applied only to those messages which have a certain priority.
		  </P
></LI
><LI
><P
>&#13;		    Size (kb) - Sorts based on the size of the message in kilobytes.
		  </P
></LI
><LI
><P
>&#13;		    Status - Filters according to the status of a message, such as
		    'New'.
		  </P
></LI
><LI
><P
>&#13;		    Attachments - Create a filter based on whether or not you 
		    have an attachment in the email.
		  </P
></LI
><LI
><P
>&#13;		    Mailing List - Filter based on the mailing list it came from.
		  </P
><DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>How Does Filtering on Mailing Lists Work?</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;		      Filtering on mailing list actually looks for a
		      specific mailing-list header called the
		      <TT
CLASS="computeroutput"
>X-BeenThere</TT
>
		      header, used to identify mailing lists or other
		      redistributors of mail.
		    </P
></TD
></TR
></TABLE
></DIV
></LI
><LI
><P
>&#13;		    Expression - If you know your way around a
		    <A
HREF="g4137.html#regular-expression"
><I
CLASS="glossterm"
>regex</I
></A
>, or
		    regular expression, put your knowledge to use
		    here. This allows you to search for complex
		    patterns of letters, so that you can find, for
		    example, all words that start with a and ends with
		    m, and are between six and fifteen letters long,
		    or all messages that declare a particular header
		    twice. For information about how to use regular
		    expressions, check the manual page for the
		    <B
CLASS="command"
>grep</B
> command.
		  </P
></LI
><LI
><P
>&#13;		    Source Account - Filter messages according the server you got them from.
		    You can enter a URL or choose one from the drop-down
		    list.  This ability is only relevant if you use more
		    than one mail source.
		  </P
></LI
></UL
>
	    </P
></LI
><LI
><P
>&#13;	      Select the criterion for the condition.   If you want multiple
	      criteria for this filter, press <B
CLASS="guibutton"
>Add
		criterion</B
> and repeat the previous step.
	    </P
></LI
><LI
><P
>&#13;	      Select the actions for the filter in the <TT
CLASS="guilabel"
><B
>Then</B
></TT
>
	      section.  You can select any of the following options.
	      <P
></P
><UL
><LI
><P
>&#13;		    Move to Folder - If you select this item, <TT
CLASS="application"
>Ximian Evolution</TT
>
		    will put the messages into a folder you specify.  Click the 
		    <B
CLASS="guibutton"
>&#60;click here to select a folder&#62;</B
> button
		    to select a folder. 
		  </P
></LI
><LI
><P
>&#13;		    Copy to Folder - If you select this item, <TT
CLASS="application"
>Ximian Evolution</TT
>
		    will put the messages into a folder you specify.  Click the 
		    <B
CLASS="guibutton"
>&#60;click here to select a folder&#62;</B
> button
		    to select a folder. 
		  </P
></LI
><LI
><P
>&#13;		    Forward to Address - Select this, enter an address, and the addressee will
		    get a copy of the message.
		  </P
></LI
><LI
><P
>&#13;		    Delete - Marks the message for deletion.  You can still get the message
		    back, at least until you <B
CLASS="guimenuitem"
>Expunge</B
> your
		    mail yourself.
		  </P
></LI
><LI
><P
>&#13;		    Stop Processing - Select this if you want to tell all other filters to ignore 
		    this message, because whatever you've done with it so far
		    is plenty.
		  </P
></LI
><LI
><P
>&#13;		    Assign Color - Select this item, and <TT
CLASS="application"
>Ximian Evolution</TT
>
		    will mark the message with whatever color you please.
		  </P
></LI
><LI
><P
> 
		    Assign Score - If you know that all mail with
		    "important" somewhere in the message body line is
		    important, you can give it a high priority score. In a subsequent filter you can 
		    then arrange your messages by their priority score.
		  </P
></LI
></UL
>
	    </P
></LI
><LI
><P
>&#13;	      Set Status - If you want to add multiple actions for this filter, press
	      <B
CLASS="guibutton"
>Add action</B
> and repeat the previous step.
	    </P
></LI
><LI
><P
>&#13;	      Press <B
CLASS="guibutton"
>OK</B
>.
	    </P
></LI
></OL
>
      </P
><DIV
CLASS="note"
><A
NAME="when-filters-go-wrong"
></A
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>When Are Filters Applied?</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;           If you use Ximian Connector to store your mail on an
           Exchange server, filters are not applied until you open
           your INBOX folder and select
           <B
CLASS="guimenu"
>Actions</B
>-&gt;<B
CLASS="guimenuitem"
>Apply
           Filters</B
> or press
           <B
CLASS="keycap"
>Ctrl</B
>-<B
CLASS="keycap"
>Y</B
>
         </P
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="example"
><A
NAME="filter-example"
></A
><P
><B
>Example 1. Using a Filter to Avoid Spam</B
></P
><P
>&#13;           Spam, also known as unsolicited commercial email (UCE), is
           the bane of many people's Inboxes, but it doesn't have to
           be. Using Ximian Evolution filters and an external Spam
           detection tool like SpamAssassin (<A
HREF="http://spamassassin.org/"
TARGET="_top"
>http://spamassassin.org/</A
>),
           you can catch the vast majority of junk mail and drop it
           directly into the trash.
         </P
><P
>&#13;           The easiest way to do this is to get your system
           administrator to install SpamAssassin (or its equivalent)
           on your mail server. There, it will flag messages it
           suspects of being Spam with the "X-Spam-Status" header to
           your mail, which you can then search for in a
           filter. Because SpamAssassin scores mails based on the
           likelihood that messages are junk, you can even choose how
           strict you want it to be. If you don't have a friendly
           network administrator, never fear: you can install
           SpamAssassin on your own system, then pipe messages through
           it before reading them.
         </P
><P
>&#13;           If your system administrator or ISP has SpamAssassin, here's how to siphon off the junk mail:
            <P
></P
><OL
TYPE="1"
><LI
><P
>&#13;                 Select <B
CLASS="guimenu"
>Tools</B
>-&gt;<B
CLASS="guimenuitem"
>Filters</B
>.
             </P
></LI
><LI
><P
>&#13;                 Click <B
CLASS="guibutton"
>Add</B
>.
             </P
></LI
><LI
><P
>&#13;               Set the first part of your search criterion to look in a <TT
CLASS="guilabel"
><B
>Specific header</B
></TT
>.
             </P
></LI
><LI
><P
>&#13;               Enter <TT
CLASS="userinput"
><B
>X-Spam-Flag</B
></TT
> as the name of the header.
             </P
></LI
><LI
><P
>&#13;               Choose <TT
CLASS="guilabel"
><B
>contains</B
></TT
> at the second drop-down box.
             </P
></LI
><LI
><P
>&#13;               Enter <TT
CLASS="userinput"
><B
>YES</B
></TT
> as the content to search for. 
               You're now working with all email that has the word "YES" in the 
               "X-Spam-Status" header.
             </P
></LI
><LI
><P
>&#13;               For actions, choose what you'd like to do with the
             messages. You can delete the messages automatically, but
             it's more prudent to place them in a "Possible Junk Mail"
             folder, and check them over just to make sure a genuine
             message didn't get flagged by accident.
             </P
></LI
><LI
><P
>&#13;                Click OK. You're done.
             </P
></LI
></OL
>
         </P
><P
>&#13;           If you don't have SpamAssassin or other junk mail filtering
           on your mail server, there's still hope, although it's not
           quite as simple. First, download
           and install SpamAssassin from <A
HREF="http://spamassassin.org"
TARGET="_top"
>http://spamassassin.org</A
>
         You'll need to download the "spamassassin"
         and "perl-Mail-SpamAssassin"
         packages, and you can install them with Red Carpet by
         selecting <B
CLASS="guimenuitem"
>Install Local Packages</B
>
         from the
         <B
CLASS="guimenu"
>File</B
> menu. Further instructions are at the
         SpamAssassin web site. Once you have the software
         installed, do the following: 

         <P
></P
><OL
TYPE="1"
><LI
><P
>&#13;             Open a new create a text file with any text editor (
             <B
CLASS="guimenu"
>&#13;                 Programs
               </B
>-&gt;<B
CLASS="guisubmenu"
>&#13;                 Accessories
               </B
>-&gt;<B
CLASS="guimenuitem"
>&#13;                 Text Editor
               </B
> is the most convenient) and paste in the following:
             <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;               spamassassin -e
             </PRE
></TD
></TR
></TABLE
>
             This will run the SpamAssassin command and report back 0
             if the message is not junk.
           </P
></LI
><LI
><P
>&#13;             Save the file as "spam-filter.sh"
           </P
></LI
><LI
><P
>&#13;              Mark the file as an executable program: 
             Open your home directory in Nautilus, right-click on
             spam-filter.sh there, and select
             <B
CLASS="guimenuitem"
>Properties</B
>. Then, click the
             "Permissions" tab and check the box in the
             <TT
CLASS="guilabel"
><B
>Execute</B
></TT
> column and the
             <TT
CLASS="guilabel"
><B
>Owner</B
></TT
> row. Alternately, open a terminal
             (<B
CLASS="guimenu"
>&#13;               Programs
             </B
>-&gt;<B
CLASS="guisubmenu"
>&#13;               Accessories
             </B
>-&gt;<B
CLASS="guimenuitem"
>&#13;               Terminal
             </B
>) and enter the command: chmod +x spam-filter.sh.
       </P
></LI
><LI
><P
>&#13;          Back in Evolution, create a new filter: Select
         <B
CLASS="guimenu"
>Tools</B
>-&gt;<B
CLASS="guimenuitem"
>Filters</B
>,
         then click <B
CLASS="guibutton"
>Add</B
>.
     </P
></LI
><LI
><P
> 
             Select "Pipe Message to Shell Command" as the first portion of the criterion.
               </P
></LI
><LI
><P
> 
             Enter "/home/username/spam-filter.sh" as the shell command, then select
             "Does Not Return" and "0" as the remaining two
             items. Substitute your username for "username" so that
             Evolution can find the script.
           </P
></LI
><LI
><P
>&#13;               For actions, choose what you'd like to do with the
             messages. You can delete the messages automatically, but
             it's more prudent to place them in a "Possible Junk Mail"
             folder, and check them over just to make sure a genuine
             message didn't get flagged by accident.
             </P
></LI
><LI
><P
>&#13;               You're done. Click "OK" to close the filter and "OK" to
               close the filter editor.
             </P
></LI
></OL
>
       </P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="filters-edit"
></A
>Editing Filters</H2
><P
>&#13;	To edit a filter:
	<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;	      Select
	      <B
CLASS="guimenu"
>Tools</B
>-&gt;<B
CLASS="guimenuitem"
>Filters</B
>
	    </P
></LI
><LI
><P
>&#13;	      Select the filter in the <TT
CLASS="guilabel"
><B
>Filter Rules</B
></TT
> section
	      and press <B
CLASS="guibutton"
>Edit</B
>.
	    </P
></LI
><LI
><P
>&#13;	      Change the desired settings.
	    </P
></LI
><LI
><P
>&#13;	      Press <B
CLASS="guibutton"
>OK</B
> in the filter editor window.
	    </P
></LI
><LI
><P
>&#13;	      Press <B
CLASS="guibutton"
>OK</B
> in the filter manager window.
	    </P
></LI
></OL
>
      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="filters-deleting"
></A
>Deleting Filters</H2
><P
>&#13;	To delete a filter:
	<P
></P
><OL
TYPE="1"
><LI
><P
>&#13;	      Select
	      <B
CLASS="guimenu"
>Tools</B
>+<B
CLASS="guimenu"
>Filters</B
>
	    </P
></LI
><LI
><P
>&#13;	      Select the filter and press <B
CLASS="guibutton"
>Delete</B
>.
	    </P
></LI
></OL
>
      </P
><P
>&#13;	<DIV
CLASS="note"
><P
></P
><TABLE
CLASS="note"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="./stylesheet-images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Changing Folder Names and Filters</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>&#13;	    <P
></P
><UL
><LI
><P
>&#13;		  Incoming email that your filters don't move goes
		  into the Inbox; outgoing mail that they don't move
		  ends up in the Sent folder.  So be sure to change
		  the filters that go with it.
		</P
></LI
></UL
>
	  </P
></TD
></TR
></TABLE
></DIV
>
      </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x2002.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x2279.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Searching for Messages</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c1827.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Getting Really Organized with vFolders</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>