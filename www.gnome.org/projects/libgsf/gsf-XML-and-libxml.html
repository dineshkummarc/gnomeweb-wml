<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>XML and libxml</title><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="GSF Reference Manual"><link rel="up" href="parsers.html" title="Stream Parsers"><link rel="previous" href="gsf-Text.html" title="Text"><link rel="next" href="gsf-Zip.html" title="Zip"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="gsf-Text.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="parsers.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GSF Reference Manual</th><td><a accesskey="n" href="gsf-Zip.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="gsf-XML-and-libxml"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">XML and libxml</span></h2><p>XML and libxml &#8212; </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><a name="GsfXMLOut"></a><pre class="synopsis">



#define     <a href="gsf-XML-and-libxml.html#GSF-XML-IN-NS-CAPS">GSF_XML_IN_NS</a>                   (id, uri)
enum        <a href="gsf-XML-and-libxml.html#GsfXMLContent">GsfXMLContent</a>;
struct      <a href="gsf-XML-and-libxml.html#GsfXMLIn">GsfXMLIn</a>;
int         <a href="gsf-XML-and-libxml.html#gsf-xmlDocFormatDump">gsf_xmlDocFormatDump</a>            (<a href="gsf-Output-to-unstructured-files.html#GsfOutput">GsfOutput</a> *output,
                                             xmlDoc *cur,
                                             char const *encoding,
                                             gboolean format);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-in-doc-free">gsf_xml_in_doc_free</a>             (<a href="gsf-XML-and-libxml.html#GsfXMLInDoc">GsfXMLInDoc</a> *doc);
struct      <a href="gsf-XML-and-libxml.html#GsfXMLBlob">GsfXMLBlob</a>;
struct      <a href="gsf-XML-and-libxml.html#GsfXMLOut-struct">GsfXMLOut</a>;
struct      <a href="gsf-XML-and-libxml.html#GsfXMLInDoc">GsfXMLInDoc</a>;
struct      <a href="gsf-XML-and-libxml.html#GsfXMLInNS">GsfXMLInNS</a>;
#define     <a href="gsf-XML-and-libxml.html#GSF-XML-IN-NODE-FULL-CAPS">GSF_XML_IN_NODE_FULL</a>            (parent_id, id, ns, name, has_content, 	\
			     allow_unknown, check_ns, start, end, user)
#define     <a href="gsf-XML-and-libxml.html#GSF-XML-IN-NODE-CAPS">GSF_XML_IN_NODE</a>                 (parent_id, id, ns, name, has_content, start, end)
struct      <a href="gsf-XML-and-libxml.html#GsfXMLInNode">GsfXMLInNode</a>;
xmlParserCtxt* <a href="gsf-XML-and-libxml.html#gsf-xml-parser-context">gsf_xml_parser_context</a>       (<a href="gsf-Input-from-unstructured-files.html#GsfInput">GsfInput</a> *input);
<a href="gsf-XML-and-libxml.html#GsfXMLInDoc">GsfXMLInDoc</a>* <a href="gsf-XML-and-libxml.html#gsf-xml-in-doc-new">gsf_xml_in_doc_new</a>             (<a href="gsf-XML-and-libxml.html#GsfXMLInNode">GsfXMLInNode</a> *root,
                                             <a href="gsf-XML-and-libxml.html#GsfXMLInNS">GsfXMLInNS</a> *ns);
gboolean    <a href="gsf-XML-and-libxml.html#gsf-xml-in-namecmp">gsf_xml_in_namecmp</a>              (<a href="gsf-XML-and-libxml.html#GsfXMLIn">GsfXMLIn</a> const *state,
                                             char const *str,
                                             unsigned int ns_id,
                                             char const *name);
gboolean    <a href="gsf-XML-and-libxml.html#gsf-xml-in-parse">gsf_xml_in_parse</a>                (<a href="gsf-XML-and-libxml.html#GsfXMLIn">GsfXMLIn</a> *state,
                                             <a href="gsf-Input-from-unstructured-files.html#GsfInput">GsfInput</a> *input);
<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a>*  <a href="gsf-XML-and-libxml.html#gsf-xml-out-new">gsf_xml_out_new</a>                 (<a href="gsf-Output-to-unstructured-files.html#GsfOutput">GsfOutput</a> *output);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-set-doc-type">gsf_xml_out_set_doc_type</a>        (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *type);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-start-element">gsf_xml_out_start_element</a>       (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id);
const char* <a href="gsf-XML-and-libxml.html#gsf-xml-out-end-element">gsf_xml_out_end_element</a>         (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-cstr">gsf_xml_out_add_cstr</a>            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             char const *val_utf8);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-cstr-unchecked">gsf_xml_out_add_cstr_unchecked</a>  (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             char const *val_utf8);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-bool">gsf_xml_out_add_bool</a>            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             gboolean val);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-int">gsf_xml_out_add_int</a>             (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             int val);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-uint">gsf_xml_out_add_uint</a>            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             unsigned int val);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-float">gsf_xml_out_add_float</a>           (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             double val,
                                             int precision);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-color">gsf_xml_out_add_color</a>           (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             unsigned int r,
                                             unsigned int g,
                                             unsigned int b);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-add-base64">gsf_xml_out_add_base64</a>          (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             guint8 const *data,
                                             unsigned int len);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-simple-element">gsf_xml_out_simple_element</a>      (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             char const *content);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-simple-float-element">gsf_xml_out_simple_float_element</a>
                                            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             double val,
                                             int precision);
void        <a href="gsf-XML-and-libxml.html#gsf-xml-out-simple-int-element">gsf_xml_out_simple_int_element</a>  (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             int val);

</pre></div><div class="refsect1" lang="en"><a name="id2525567"></a><h2>Object Hierarchy</h2><pre class="synopsis">

  GObject
   +----GsfXMLOut
</pre></div><div class="refsect1" lang="en"><a name="id2525587"></a><h2>Description</h2><p>

</p></div><div class="refsect1" lang="en"><a name="id2525597"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id2525602"></a><h3><a name="GSF-XML-IN-NS-CAPS"></a>GSF_XML_IN_NS()</h3><a class="indexterm" name="id2525613"></a><pre class="programlisting">#define     GSF_XML_IN_NS(id, uri)</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>uri</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2525660"></a><h3><a name="GsfXMLContent"></a>enum GsfXMLContent</h3><a class="indexterm" name="id2525671"></a><pre class="programlisting">typedef enum {
	GSF_XML_NO_CONTENT,
	GSF_XML_CONTENT,
	GSF_XML_SHARED_CONTENT
} GsfXMLContent;
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2525687"></a><h3><a name="GsfXMLIn"></a>struct GsfXMLIn</h3><a class="indexterm" name="id2525697"></a><pre class="programlisting">struct GsfXMLIn {

	GsfXMLInDoc  const *doc;	/* init before parsing */

    /* look but do not change */
	GsfXMLInNode const *node;	/* current node */
	GSList	 	   *state_stack;

	GsfXMLInNS   const *default_ns;	/* optionally NULL */
	GSList	 	   *ns_stack;

	GString		*content;
	gint		 unknown_depth;	/* handle recursive unknown tags */
	GHashTable	*ns_prefixes;	/* current ns prefixes */
	GPtrArray	*ns_by_id;		/* indexed by id */
};
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2525719"></a><h3><a name="gsf-xmlDocFormatDump"></a>gsf_xmlDocFormatDump ()</h3><a class="indexterm" name="id2525730"></a><pre class="programlisting">int         gsf_xmlDocFormatDump            (<a href="gsf-Output-to-unstructured-files.html#GsfOutput">GsfOutput</a> *output,
                                             xmlDoc *cur,
                                             char const *encoding,
                                             gboolean format);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>output</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>cur</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>encoding</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>format</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2525849"></a><h3><a name="gsf-xml-in-doc-free"></a>gsf_xml_in_doc_free ()</h3><a class="indexterm" name="id2525861"></a><pre class="programlisting">void        gsf_xml_in_doc_free             (<a href="gsf-XML-and-libxml.html#GsfXMLInDoc">GsfXMLInDoc</a> *doc);</pre><p>
Free up resources allocated by gsf_xml_in_doc_prep</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>doc</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2525911"></a><h3><a name="GsfXMLBlob"></a>struct GsfXMLBlob</h3><a class="indexterm" name="id2525921"></a><pre class="programlisting">struct GsfXMLBlob;</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2525936"></a><h3><a name="GsfXMLOut-struct"></a>struct GsfXMLOut</h3><a class="indexterm" name="id2525946"></a><pre class="programlisting">struct GsfXMLOut;</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2525961"></a><h3><a name="GsfXMLInDoc"></a>struct GsfXMLInDoc</h3><a class="indexterm" name="id2525972"></a><pre class="programlisting">struct GsfXMLInDoc;</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2525986"></a><h3><a name="GsfXMLInNS"></a>struct GsfXMLInNS</h3><a class="indexterm" name="id2525997"></a><pre class="programlisting">struct GsfXMLInNS {

	char const *uri;
	unsigned    ns_id;
};
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2526012"></a><h3><a name="GSF-XML-IN-NODE-FULL-CAPS"></a>GSF_XML_IN_NODE_FULL()</h3><a class="indexterm" name="id2526023"></a><pre class="programlisting">#define     GSF_XML_IN_NODE_FULL(parent_id, id, ns, name, has_content, 	\
			     allow_unknown, check_ns, start, end, user)</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>parent_id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ns</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>has_content</tt></i> :</span></td><td>
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown:
@\
			     allow_unknown: 
</td></tr><tr><td><span class="term"><i class="parameter"><tt>check_ns</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>start</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>end</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>user</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526181"></a><h3><a name="GSF-XML-IN-NODE-CAPS"></a>GSF_XML_IN_NODE()</h3><a class="indexterm" name="id2526193"></a><pre class="programlisting">#define     GSF_XML_IN_NODE(parent_id, id, ns, name, has_content, start, end)</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>parent_id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ns</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>has_content</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>start</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>end</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526307"></a><h3><a name="GsfXMLInNode"></a>struct GsfXMLInNode</h3><a class="indexterm" name="id2526317"></a><pre class="programlisting">struct GsfXMLInNode {

	char const *id;
	int	    ns_id;
	char const *name;
	char const *parent_id;
	gboolean parent_initialized;
	GSList *groups;

	unsigned	has_content;
	gboolean	allow_unknown;
	gboolean	check_children_for_ns;

	void (*start) (GsfXMLIn *state, xmlChar const **attrs);
	void (*end)   (GsfXMLIn *state, GsfXMLBlob *unknown);

	union {
		int	    v_int;
		gboolean    v_bool;
		gpointer    v_blob;
		char const *v_str;
	} user_data;
};
</pre><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id2526339"></a><h3><a name="gsf-xml-parser-context"></a>gsf_xml_parser_context ()</h3><a class="indexterm" name="id2526350"></a><pre class="programlisting">xmlParserCtxt* gsf_xml_parser_context       (<a href="gsf-Input-from-unstructured-files.html#GsfInput">GsfInput</a> *input);</pre><p>
Create a libxml2 pull style parser context wrapper around a gsf input.
This signature will probably change to supply a SAX structure.
</p><p>
NOTE : adds a reference to <i class="parameter"><tt>input</tt></i>
NOTE : a simple wrapper around a cleaner implementation that will fold in
 when we add other api changes.  Its not worth bumping just for this</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>input</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>: A parser context or NULL
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526424"></a><h3><a name="gsf-xml-in-doc-new"></a>gsf_xml_in_doc_new ()</h3><a class="indexterm" name="id2526436"></a><pre class="programlisting"><a href="gsf-XML-and-libxml.html#GsfXMLInDoc">GsfXMLInDoc</a>* gsf_xml_in_doc_new             (<a href="gsf-XML-and-libxml.html#GsfXMLInNode">GsfXMLInNode</a> *root,
                                             <a href="gsf-XML-and-libxml.html#GsfXMLInNS">GsfXMLInNS</a> *ns);</pre><p>
Put the nodes in the NULL terminated array starting at <i class="parameter"><tt>root</tt></i> and the name
spaces in the NULL terminated array starting at <i class="parameter"><tt>ns</tt></i> together.  Link them up
and prepare the static data structures necessary to validate a doument based
on that description.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>root</tt></i> :</span></td><td> an array of node descriptors
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ns</tt></i> :</span></td><td> an array of namespace identifiers
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>NULL on error
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526533"></a><h3><a name="gsf-xml-in-namecmp"></a>gsf_xml_in_namecmp ()</h3><a class="indexterm" name="id2526544"></a><pre class="programlisting">gboolean    gsf_xml_in_namecmp              (<a href="gsf-XML-and-libxml.html#GsfXMLIn">GsfXMLIn</a> const *state,
                                             char const *str,
                                             unsigned int ns_id,
                                             char const *name);</pre><p>
</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>state</tt></i> :</span></td><td> The <a href="gsf-XML-and-libxml.html#GsfXMLIn"><span class="type">GsfXMLIn</span></a> we are reading from.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>str</tt></i> :</span></td><td> The potentially namespace qualified node name.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>ns_id</tt></i> :</span></td><td> The name space id to check
</td></tr><tr><td><span class="term"><i class="parameter"><tt>name</tt></i> :</span></td><td> The target node name
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>TRUE if <i class="parameter"><tt>str</tt></i> == <i class="parameter"><tt>ns_id</tt></i>:<i class="parameter"><tt>name</tt></i> according to <i class="parameter"><tt>state</tt></i>.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526700"></a><h3><a name="gsf-xml-in-parse"></a>gsf_xml_in_parse ()</h3><a class="indexterm" name="id2526711"></a><pre class="programlisting">gboolean    gsf_xml_in_parse                (<a href="gsf-XML-and-libxml.html#GsfXMLIn">GsfXMLIn</a> *state,
                                             <a href="gsf-Input-from-unstructured-files.html#GsfInput">GsfInput</a> *input);</pre><p>
Read an xml document from <i class="parameter"><tt>input</tt></i> and parse based on the the descriptor in
<i class="parameter"><tt>state</tt></i>::doc</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>state</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>input</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>FALSE on error
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526805"></a><h3><a name="gsf-xml-out-new"></a>gsf_xml_out_new ()</h3><a class="indexterm" name="id2526816"></a><pre class="programlisting"><a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a>*  gsf_xml_out_new                 (<a href="gsf-Output-to-unstructured-files.html#GsfOutput">GsfOutput</a> *output);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>output</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526872"></a><h3><a name="gsf-xml-out-set-doc-type"></a>gsf_xml_out_set_doc_type ()</h3><a class="indexterm" name="id2526883"></a><pre class="programlisting">void        gsf_xml_out_set_doc_type        (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *type);</pre><p>
Store some optional some &lt;!DOCTYPE .. &gt; content</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td> <a href="gsf-XML-and-libxml.html#GsfXMLOut"><span class="type">GsfXMLOut</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>type</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2526962"></a><h3><a name="gsf-xml-out-start-element"></a>gsf_xml_out_start_element ()</h3><a class="indexterm" name="id2526974"></a><pre class="programlisting">void        gsf_xml_out_start_element       (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527040"></a><h3><a name="gsf-xml-out-end-element"></a>gsf_xml_out_end_element ()</h3><a class="indexterm" name="id2527052"></a><pre class="programlisting">const char* gsf_xml_out_end_element         (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml);</pre><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527109"></a><h3><a name="gsf-xml-out-add-cstr"></a>gsf_xml_out_add_cstr ()</h3><a class="indexterm" name="id2527120"></a><pre class="programlisting">void        gsf_xml_out_add_cstr            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             char const *val_utf8);</pre><p>
dump <i class="parameter"><tt>val_utf8</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> or as the nodes content escaping
characters as necessary.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val_utf8</tt></i> :</span></td><td> a utf8 encoded string
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527225"></a><h3><a name="gsf-xml-out-add-cstr-unchecked"></a>gsf_xml_out_add_cstr_unchecked ()</h3><a class="indexterm" name="id2527237"></a><pre class="programlisting">void        gsf_xml_out_add_cstr_unchecked  (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             char const *val_utf8);</pre><p>
dump <i class="parameter"><tt>val_utf8</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> without checking to see if the
content needs escaping.  A useful performance enhancement when the
application knows that structure of the content well.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val_utf8</tt></i> :</span></td><td> a utf8 encoded string to export
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527345"></a><h3><a name="gsf-xml-out-add-bool"></a>gsf_xml_out_add_bool ()</h3><a class="indexterm" name="id2527356"></a><pre class="programlisting">void        gsf_xml_out_add_bool            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             gboolean val);</pre><p>
dump boolean value <i class="parameter"><tt>val</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> or as the nodes content
Use '1' or '0' to simplify import</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val</tt></i> :</span></td><td> a boolean
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527461"></a><h3><a name="gsf-xml-out-add-int"></a>gsf_xml_out_add_int ()</h3><a class="indexterm" name="id2527472"></a><pre class="programlisting">void        gsf_xml_out_add_int             (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             int val);</pre><p>
dump integer value <i class="parameter"><tt>val</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> or as the nodes content</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val</tt></i> :</span></td><td> the value
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527576"></a><h3><a name="gsf-xml-out-add-uint"></a>gsf_xml_out_add_uint ()</h3><a class="indexterm" name="id2527587"></a><pre class="programlisting">void        gsf_xml_out_add_uint            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             unsigned int val);</pre><p>
dump unsigned integer value <i class="parameter"><tt>val</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> or as the nodes
content</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val</tt></i> :</span></td><td> the value
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527691"></a><h3><a name="gsf-xml-out-add-float"></a>gsf_xml_out_add_float ()</h3><a class="indexterm" name="id2527702"></a><pre class="programlisting">void        gsf_xml_out_add_float           (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             double val,
                                             int precision);</pre><p>
dump float value <i class="parameter"><tt>val</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> or as the nodes
content with precision <i class="parameter"><tt>precision</tt></i>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val</tt></i> :</span></td><td> the value
</td></tr><tr><td><span class="term"><i class="parameter"><tt>precision</tt></i> :</span></td><td> the number of decimal points to display
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2527833"></a><h3><a name="gsf-xml-out-add-color"></a>gsf_xml_out_add_color ()</h3><a class="indexterm" name="id2527844"></a><pre class="programlisting">void        gsf_xml_out_add_color           (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             unsigned int r,
                                             unsigned int g,
                                             unsigned int b);</pre><p>
dump Color <i class="parameter"><tt>r</tt></i>.<i class="parameter"><tt>g</tt></i>.<i class="parameter"><tt>b</tt></i> to an attribute named <i class="parameter"><tt>id</tt></i> or as the nodes content</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>r</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>g</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>b</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2528000"></a><h3><a name="gsf-xml-out-add-base64"></a>gsf_xml_out_add_base64 ()</h3><a class="indexterm" name="id2528012"></a><pre class="programlisting">void        gsf_xml_out_add_base64          (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             guint8 const *data,
                                             unsigned int len);</pre><p>
dump <i class="parameter"><tt>len</tt></i> bytes in <i class="parameter"><tt>data</tt></i> into the content of node <i class="parameter"><tt>id</tt></i> using base64</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td> optionally NULL for content
</td></tr><tr><td><span class="term"><i class="parameter"><tt>data</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>len</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2528142"></a><h3><a name="gsf-xml-out-simple-element"></a>gsf_xml_out_simple_element ()</h3><a class="indexterm" name="id2528155"></a><pre class="programlisting">void        gsf_xml_out_simple_element      (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             char const *content);</pre><p>
A convenience routine</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>content</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2528246"></a><h3><a name="gsf-xml-out-simple-float-element"></a>gsf_xml_out_simple_float_element ()</h3><a class="indexterm" name="id2528258"></a><pre class="programlisting">void        gsf_xml_out_simple_float_element
                                            (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             double val,
                                             int precision);</pre><p>
A convenience routine</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>precision</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id2528370"></a><h3><a name="gsf-xml-out-simple-int-element"></a>gsf_xml_out_simple_int_element ()</h3><a class="indexterm" name="id2528383"></a><pre class="programlisting">void        gsf_xml_out_simple_int_element  (<a href="gsf-XML-and-libxml.html#GsfXMLOut">GsfXMLOut</a> *xml,
                                             char const *id,
                                             int val);</pre><p>
A convenience routine</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>xml</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>id</tt></i> :</span></td><td>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>val</tt></i> :</span></td><td>
</td></tr></tbody></table></div></div></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="gsf-Text.html"><b>&lt;&lt; Text</b></a></td><td align="right"><a accesskey="n" href="gsf-Zip.html"><b>Zip &gt;&gt;</b></a></td></tr></table></body></html>
